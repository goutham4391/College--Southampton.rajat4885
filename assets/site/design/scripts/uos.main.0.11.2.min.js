function SwiftClick(e){function t(){"function"==typeof l&&(c.addEventListener("click",n,!1),c.onclick=null),c.addEventListener("touchstart",r,!1),c.addEventListener("click",o,!0)}function n(e){l(e)}function r(e){var t=e.target,n=t.nodeName.toLowerCase(),r=e.changedTouches[0];return d.x=r.pageX,d.y=r.pageY,f=a(),"undefined"==typeof u.options.elements[n]?!0:h?(p=!1,!0):(e.stopPropagation(),h=!0,t.removeEventListener("touchend",i,!1),void t.addEventListener("touchend",i,!1))}function i(e){var t,n=e.target,r=!0;return n.removeEventListener("touchend",i,!1),t=e.changedTouches[0],!p||Math.abs(t.pageX-d.x)>u.options.maxTouchDrift||Math.abs(t.pageY-d.y)>u.options.maxTouchDrift||Math.abs(a().x-f.x)>u.options.maxTouchDrift||Math.abs(a().y-f.y)>u.options.maxTouchDrift?(h&&(e.stopPropagation(),e.preventDefault(),r=!1),h=!1,p=!0,r):(e.stopPropagation(),e.preventDefault(),g=!1,n.focus(),s(n,t),h=!1,p=!0,!1)}function o(e){var t=e.target,n=t.nodeName.toLowerCase();if("undefined"!=typeof u.options.elements[n]){if(g)return g=!1,e.stopPropagation(),e.preventDefault(),!1;g=!0}}function s(e,t){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}function a(){var e={x:window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft||0,y:window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop||0};return e}if("undefined"!=typeof SwiftClick.swiftDictionary[e])return SwiftClick.swiftDictionary[e];SwiftClick.swiftDictionary[e]=this,this.options={elements:{a:"a",div:"div",span:"span",button:"button"},maxTouchDrift:30};var u=this,c=e,l=c.onclick,h=!1,d={x:0,y:0},f={x:0,y:0},p=!0,g=!1;"onorientationchange"in window&&"ontouchstart"in window&&t(),u.addNodeNamesToTrack=function(e){var t,n=0,r=e.length;for(n;r>n;n++){if("string"!=typeof e[n])throw new TypeError("all values within the 'nodeNames' array must be of type 'string'");t=e[n].toLowerCase(),u.options.elements[t]=t}},u.replaceNodeNamesToTrack=function(e){u.options.elements={},u.addNodeNamesToTrack(e)}}function boxHeight(){var e,t=[],n=$(".uos-box-copy"),r=n.closest(".uos-tier-inner");n.attr("style"," "),r.each(function(n){e=!0,($(this).hasClass("uos-component-featured-boxes")||$(this).find(".uos-box-news-feed").length>0)&&(e=!1);var r=$(this).find(".uos-box-copy"),i=[];r.each(function(){$(this).height();var e=$(this).height();i.push(e)});var o=Math.max.apply(Math,i);t.push(o),r.each(function(){e&&$(this).height(t[n])})})}function checkLinks(){var e=["southampton.ac.uk","soton.ac.uk"],t=".uos-stacked-lists-helper";$(".uos-js-links").each(function(n){var r,i,o=$(this).find("a"),s=[],a=[];o.each(function(){s.push($(this).attr("href"))}),$.each(s,function(){var t=this,n=[];return $.each(e,function(){var e=new RegExp(this,"g");i=t.match(e)?"int":"ext",n.push(i)}),n.indexOf("int")>-1?a.push("int"):a.push("ext"),a.indexOf("ext")>-1?(r=!0,!1):void 0}),r||$(this).find(t).remove()})}function controlsHero(e){var t=$("#"+e),n=t.find(".uos-hero-control-left"),r=t.find(".uos-hero-control-right"),i=heroData[e],o=i.position,s=i.slides-1,a="uos-hero-control-disabled";0>=o?n.addClass(a):n.removeClass(a),o>=s?r.addClass(a):r.removeClass(a)}function moveHero(e){var t=$("#"+e),n=t.find(".uos-hero-slider");n.css("left",-(heroData[e].position*t.width())),controlsHero(e)}function renderHero(){$.each(heroData,function(e){var t=$(this.hero).width();this.hero.find(".uos-hero-slider").css("width",this.slides*t).find(".uos-hero-slide").css("width",t),this.hero.find(".uos-hero-control").css({height:this.hero.find(".uos-hero-crop").height(),"line-height":this.hero.find(".uos-hero-crop").height()-23+"px"}),controlsHero(e),moveHero(e)})}function thumbnailHero(e){var t=e.find(".uos-hero-slide");e.append("<div class='uos-tier-inner uos-slideshow-tier-thumbs'><div class='uos-slideshow-thumbs'></div></div>");var n=e.find(".uos-slideshow-thumbs");t.each(function(e){var t=$(this).clone().removeClass("uos-hero-slide").addClass("uos-hero-thumb uos-no-select").attr("data-position",e);n.append(t)})}function setupHero(){var e=$(".uos-hero");e.each(function(e){var t=$(this),n=t.find(".uos-hero-slide"),r={hero:t,slides:n.length,position:0};heroData.push(r),t.attr("id",e),t.hasClass("uos-slideshow")&&thumbnailHero(t)}),renderHero()}function lightbox(){var e=$(".js-lightbox");$("body").append("<div class='uos-sr js-lightbox-cache'></div>"),e.each(function(){var e=$(this),t=e.attr("data-lightbox");if(1!==t.indexOf("iframe")){var n=$("<img src='"+t+"' />");n.attr("alt",e.attr("alt")+" in high resolution"),$(this).parent(".uos-component-image").addClass("uos-lightbox-icon"),$(".js-lightbox-cache").append(n)}}),e.on("click",function(){var e=$(this).attr("data-lightbox");1!=e.indexOf("iframe")&&(e="<img src='"+e+"' />");var t="<div class='uos-lightbox uos-no-select'>"+e+"<i class='uos-lightbox-close uos-no-select'>Ã—</i></div>";$("body").attr("data-top",window.pageYOffset),$("body").addClass("uos-no-scroll").append(t);$(".uos-lightbox").children(":first");1==e.indexOf("iframe")}),$("body").on("mouseup touchend",".uos-lightbox-close",function(e){e.stopPropagation(),console.log($("body").attr("data-top")),$("body").removeClass("uos-no-scroll"),window.scrollTo(0,$("body").attr("data-top")),$(".uos-lightbox").remove()})}function moreMenu(){function e(e,t,n){e.siblings(u).children(a).css("left",-h[t][n[t]]),e.siblings(u).width(l[t][n[t]])}function t(e,t){n.each(function(){var n=$(this).data("menu");0!==e[n]&&e[n]?$(this).children(o).removeClass(i):$(this).children(o).addClass(i),e[n]==t[n]?$(this).children(s).addClass(i):$(this).children(s).removeClass(i)})}var n=$(".js-more-menu"),r=".uos-site-menu-control",i="uos-control-hidden",o=".uos-control-left",s=".uos-control-right",a=".uos-site-menu-container",u=".uos-site-menu-crop",c="uos-site-menus-single",l=[],h=[],d=[],f=[],p=0,g=$(".js-more-menu").length,m=0,v=[0,0];n.length<=1&&$(".uos-site-menus").addClass(c),n.each(function(){function n(n,r,i,s){l.push(r),d.push(i.length-1),h.push(i),f.push(p),n.parent().width(s+100),n.closest(u).width(l[m][0]);var a=n.closest(u).parent().find(o),c=a.parent(".js-more-menu").data("menu");e(a,c,f),p=0,m++,m===g&&(setTimeout(function(){$(".uos-site-menu-crop, .uos-site-menu-container").addClass("uos-menu-animate")},500),v=f,t(f,d))}var r=$(this),i=r.find(".uos-site-menu-link"),s=i.length,a=0,c=$(".uos-site-menu").width()-80,y=0,_=0,w=[],b=[0],x=0;i.each(function(){var e=$(this),t=e.outerWidth(!0);y+t>=c?(w.push(y),y=0,b.push(x),y+=t,x+=t,_++):(y+=t,x+=t),e.children("a").hasClass("uos-current")&&(p=_),a++,a===s&&(w.push(y),y=0,n($(this),w,b,x))})}),$(r).on("click",function(){var n=$(this),r=n.data("direction"),i=n.parent(".js-more-menu").data("menu");"left"==r&&(v[i]--,e(n,i,v)),"right"==r&&(v[i]++,e(n,i,v)),t(v,d)})}function kis(){!function(e){var t=e.createElement("script");t.id="kis-widget",t.src="//widget.unistats.ac.uk/js/unistats.widget.js";var n=e.getElementsByTagName("script")[0];e.getElementById("unistats-widget-script")||n.parentNode.insertBefore(t,n)}(document)}!function(e,t){function n(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=_.elements;return"string"==typeof e?e.split(" "):e}function i(e,t){var n=_.elements;"string"!=typeof n&&(n=n.join(" ")),"string"!=typeof e&&(e=e.join(" ")),_.elements=n+" "+e,c(t)}function o(e){var t=y[e[m]];return t||(t={},v++,e[m]=v,y[v]=t),t}function s(e,n,r){if(n||(n=t),h)return n.createElement(e);r||(r=o(n));var i;return i=r.cache[e]?r.cache[e].cloneNode():g.test(e)?(r.cache[e]=r.createElem(e)).cloneNode():r.createElem(e),!i.canHaveChildren||p.test(e)||i.tagUrn?i:r.frag.appendChild(i)}function a(e,n){if(e||(e=t),h)return e.createDocumentFragment();n=n||o(e);for(var i=n.frag.cloneNode(),s=0,a=r(),u=a.length;u>s;s++)i.createElement(a[s]);return i}function u(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return _.shivMethods?s(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/[\w\-:]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(_,t.frag)}function c(e){e||(e=t);var r=o(e);return!_.shivCSS||l||r.hasCSS||(r.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),h||u(e,r),e}var l,h,d="3.7.3-pre",f=e.html5||{},p=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,g=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,m="_html5shiv",v=0,y={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",l="hidden"in e,h=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){l=!0,h=!0}}();var _={elements:f.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:d,shivCSS:f.shivCSS!==!1,supportsUnknownElements:h,shivMethods:f.shivMethods!==!1,type:"default",shivDocument:c,createElement:s,createDocumentFragment:a,addElements:i};e.html5=_,c(t),"object"==typeof module&&module.exports&&(module.exports=_)}("undefined"!=typeof window?window:this,document),function(){function e(e,t){return e.set(t[0],t[1]),e}function t(e,t){return e.add(t),e}function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function r(e,t,n,r){for(var i=-1,o=e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function i(e,t){for(var n=-1,r=e.length;++n<r&&!1!==t(e[n],n,e););return e}function o(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function s(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function a(e,t){return!!e.length&&-1<v(e,t,0)}function u(e,t,n){for(var r=-1,i=e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function c(e,t){for(var n=-1,r=e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function l(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function h(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function d(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function f(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function p(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],s=t(o);if(null!=s&&(a===K?s===s:n(s,a)))var a=s,u=o}return u}function g(e,t,n,r){var i;return n(e,function(e,n,o){return t(e,n,o)?(i=r?n:e,!1):void 0}),i}function m(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function v(e,t,n){if(t!==t)return M(e,n);--n;for(var r=e.length;++n<r;)if(e[n]===t)return n;return-1}function y(e,t,n,r){--n;for(var i=e.length;++n<i;)if(r(e[n],t))return n;return-1}function _(e,t){var n=e?e.length:0;return n?x(e,t)/n:G}function w(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function b(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].c;return e}function x(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==K&&(n=n===K?o:n+o)}return n}function j(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function k(e,t){return c(t,function(t){return[t,e[t]]})}function $(e){return function(t){return e(t)}}function A(e,t){return c(t,function(t){return e[t]})}function C(e,t){for(var n=-1,r=e.length;++n<r&&-1<v(t,e[n],0););return n}function S(e,t){for(var n=e.length;n--&&-1<v(t,e[n],0););return n}function E(e){return e&&e.Object===Object?e:null}function B(e,t){if(e!==t){var n=null===e,r=e===K,i=e===e,o=null===t,s=t===K,a=t===t;if(e>t&&!o||!i||n&&!s&&a||r&&a)return 1;if(t>e&&!n||!a||o&&!r&&i||s&&i)return-1}return 0}function T(e){return function(t,n){var r;return t===K&&n===K?0:(t!==K&&(r=t),n!==K&&(r=r===K?n:e(r,n)),r)}}function I(e){return qe[e]}function D(e){return Re[e]}function O(e){return"\\"+Le[e]}function M(e,t,n){var r=e.length;for(t+=n?0:-1;n?t--:++t<r;){var i=e[t];if(i!==i)return t}return-1}function q(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function R(e,t){return e="number"==typeof e||we.test(e)?+e:-1,e>-1&&0==e%1&&(null==t?9007199254740991:t)>e}function F(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function P(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function L(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&"__lodash_placeholder__"!==s||(e[n]="__lodash_placeholder__",o[i++]=n)}return o}function N(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function z(e){if(!e||!Ee.test(e))return e.length;for(var t=Se.lastIndex=0;Se.test(e);)t++;return t}function W(e){return Fe[e]}function H(E){function we(e){if(Er(e)&&!Yo(e)&&!(e instanceof Ae)){if(e instanceof $e)return e;if(gi.call(e,"__wrapped__"))return Zn(e)}return new $e(e)}function ke(){}function $e(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=K}function Ae(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function qe(){}function Re(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Fe(e){var t=-1,n=e?e.length:0;for(this.__data__=new Re;++t<n;)this.push(e[t])}function Pe(e,t){var n=e.__data__;return zn(t)?(n=n.__data__,"__lodash_hash_undefined__"===("string"==typeof t?n.string:n.hash)[t]):n.has(t)}function Le(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function We(e,t){var n=Ue(e,t);return 0>n?!1:(n==e.length-1?e.pop():Ii.call(e,n,1),!0)}function He(e,t){var n=Ue(e,t);return 0>n?K:e[n][1]}function Ue(e,t){for(var n=e.length;n--;)if(_r(e[n][0],t))return n;return-1}function Ge(e,t,n){var r=Ue(e,t);0>r?e.push([t,n]):e[r][1]=n}function Je(e,t,n,r){return e===K||_r(e,fi[n])&&!gi.call(r,n)?t:e}function Qe(e,t,n){(n===K||_r(e[t],n))&&("number"!=typeof t||n!==K||t in e)||(e[t]=n)}function Ye(e,t,n){var r=e[t];gi.call(e,t)&&_r(r,n)&&(n!==K||t in e)||(e[t]=n)}function Xe(e,t,n,r){return ao(e,function(e,i,o){t(r,e,n(e),o)}),r}function et(e,t){return e&&rn(t,Gr(t),e)}function tt(e,t){for(var n=-1,r=null==e,i=t.length,o=Array(i);++n<i;)o[n]=r?K:Hr(e,t[n]);return o}function nt(e){return jr(e)?e:[]}function rt(e){return"string"==typeof e||Mr(e)?e:e+""}function it(e){return Yo(e)?e:yo(e)}function ot(e,t,n){return e===e&&(n!==K&&(e=e>n?n:e),t!==K&&(e=t>e?t:e)),e}function st(e,t,n,r,o,s,a){var u;if(r&&(u=s?r(e,o,s,a):r(e)),u!==K)return u;if(!Sr(e))return e;if(o=Yo(e)){if(u=qn(e),!t)return nn(e,u)}else{var c=On(e),l="[object Function]"==c||"[object GeneratorFunction]"==c;if(Xo(e))return Yt(e,t);if("[object Object]"==c||"[object Arguments]"==c||l&&!s){if(q(e))return s?e:{};if(u=Rn(l?{}:e),!t)return sn(e,et(u,e))}else{if(!Me[c])return s?e:{};u=Fn(e,c,st,t)}}if(a||(a=new Le),s=a.get(e))return s;if(a.set(e,u),!o)var h=n?yt(e,Gr,Dn):Gr(e);return i(h||e,function(i,o){h&&(o=i,i=e[o]),Ye(u,o,st(i,t,n,r,o,e,a))}),u}function at(e){var t=Gr(e),n=t.length;return function(r){if(null==r)return!n;for(var i=n;i--;){var o=t[i],s=e[o],a=r[o];if(a===K&&!(o in Object(r))||!s(a))return!1}return!0}}function ut(e){return Sr(e)?Ei(e):{}}function ct(e,t,n){if("function"!=typeof e)throw new hi("Expected a function");return Ti(function(){e.apply(K,n)},t)}function lt(e,t,n,r){var i=-1,o=a,s=!0,l=e.length,h=[],d=t.length;if(!l)return h;n&&(t=c(t,$(n))),r?(o=u,s=!1):t.length>=200&&(o=Pe,s=!1,t=new Fe(t));e:for(;++i<l;){var f=e[i],p=n?n(f):f;if(s&&p===p){for(var g=d;g--;)if(t[g]===p)continue e;h.push(f)}else o(t,p,r)||h.push(f)}return h}function ht(e,t){var n=!0;return ao(e,function(e,r,i){return n=!!t(e,r,i)}),n}function dt(e,t){var n=[];return ao(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function ft(e,t,n,r){r||(r=[]);for(var i=-1,o=e.length;++i<o;){var s=e[i];t>0&&jr(s)&&(n||Yo(s)||br(s))?t>1?ft(s,t-1,n,r):l(r,s):n||(r[r.length]=s)}return r}function pt(e,t){return e&&co(e,t,Gr)}function gt(e,t){return e&&lo(e,t,Gr)}function mt(e,t){return s(t,function(t){return $r(e[t])})}function vt(e,t){t=Nn(t,e)?[t]:it(t);for(var n=0,r=t.length;null!=e&&r>n;)e=e[t[n++]];return n&&n==r?e:K}function yt(e,t,n){return t=t(e),Yo(e)?t:l(t,n(e))}function _t(e,t){return gi.call(e,t)||"object"==typeof e&&t in e&&null===Mi(Object(e))}function wt(e,t){return t in Object(e)}function bt(e,t,n){for(var r=n?u:a,i=e[0].length,o=e.length,s=o,l=Array(o),h=1/0,d=[];s--;){var f=e[s];s&&t&&(f=c(f,$(t))),h=Li(f.length,h),l[s]=n||!t&&(120>i||120>f.length)?K:new Fe(s&&f)}var f=e[0],p=-1,g=l[0];e:for(;++p<i&&h>d.length;){var m=f[p],v=t?t(m):m;if(g?!Pe(g,v):!r(d,v,n)){for(s=o;--s;){var y=l[s];if(y?!Pe(y,v):!r(e[s],v,n))continue e}g&&g.push(v),d.push(m)}}return d}function xt(e,t,n){var r={};return pt(e,function(e,i,o){t(r,n(e),i,o)}),r}function jt(e,t,r){return Nn(t,e)||(t=it(t),e=Gn(e,t),t=Xn(t)),t=null==e?e:e[t],null==t?K:n(t,e,r)}function kt(e,t,n,r,i){if(e===t)t=!0;else if(null==e||null==t||!Sr(e)&&!Er(t))t=e!==e&&t!==t;else e:{var o=Yo(e),s=Yo(t),a="[object Array]",u="[object Array]";o||(a=On(e),a="[object Arguments]"==a?"[object Object]":a),s||(u=On(t),u="[object Arguments]"==u?"[object Object]":u);var c="[object Object]"==a&&!q(e),s="[object Object]"==u&&!q(t);if((u=a==u)&&!c)i||(i=new Le),t=o||qr(e)?An(e,t,kt,n,r,i):Cn(e,t,a,kt,n,r,i);else{if(!(2&r)&&(o=c&&gi.call(e,"__wrapped__"),a=s&&gi.call(t,"__wrapped__"),o||a)){e=o?e.value():e,t=a?t.value():t,i||(i=new Le),t=kt(e,t,n,r,i);break e}if(u)t:if(i||(i=new Le),o=2&r,a=Gr(e),s=a.length,u=Gr(t).length,s==u||o){for(c=s;c--;){var l=a[c];if(!(o?l in t:_t(t,l))){t=!1;break t}}if(u=i.get(e))t=u==t;else{u=!0,i.set(e,t);for(var h=o;++c<s;){var l=a[c],d=e[l],f=t[l];if(n)var p=o?n(f,d,l,t,e,i):n(d,f,l,e,t,i);if(p===K?d!==f&&!kt(d,f,n,r,i):!p){u=!1;break}h||(h="constructor"==l)}u&&!h&&(n=e.constructor,r=t.constructor,n!=r&&"constructor"in e&&"constructor"in t&&!("function"==typeof n&&n instanceof n&&"function"==typeof r&&r instanceof r)&&(u=!1)),i["delete"](e),t=u}}else t=!1;else t=!1}}return t}function $t(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;for(e=Object(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){var a=n[i],u=a[0],c=e[u],l=a[1];if(s&&a[2]){if(c===K&&!(u in e))return!1}else{if(a=new Le,r)var h=r(c,l,u,e,t,a);if(h===K?!kt(l,c,r,3,a):!h)return!1}}return!0}function At(e){return"function"==typeof e?e:null==e?ni:"object"==typeof e?Yo(e)?Bt(e[0],e[1]):Et(e):si(e)}function Ct(e){e=null==e?e:Object(e);var t,n=[];for(t in e)n.push(t);return n}function St(e,t){var n=-1,r=xr(e)?Array(e.length):[];return ao(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function Et(e){var t=Bn(e);return 1==t.length&&t[0][2]?Kn(t[0][0],t[0][1]):function(n){return n===e||$t(n,e,t)}}function Bt(e,t){return Nn(e)&&t===t&&!Sr(t)?Kn(e,t):function(n){var r=Hr(n,e);return r===K&&r===t?Ur(n,e):kt(t,r,K,3)}}function Tt(e,t,n,r,o){if(e!==t){if(!Yo(t)&&!qr(t))var s=Jr(t);i(s||t,function(i,a){if(s&&(a=i,i=t[a]),Sr(i)){o||(o=new Le);var u=a,c=o,l=e[u],h=t[u],d=c.get(h);if(d)Qe(e,u,d);else{var d=r?r(l,h,u+"",e,t,c):K,f=d===K;f&&(d=h,Yo(h)||qr(h)?Yo(l)?d=l:jr(l)?d=nn(l):(f=!1,d=st(h,!0)):Ir(h)||br(h)?br(l)?d=zr(l):!Sr(l)||n&&$r(l)?(f=!1,d=st(h,!0)):d=l:f=!1),c.set(h,d),f&&Tt(d,h,n,r,c),c["delete"](h),Qe(e,u,d)}}else u=r?r(e[a],i,a+"",e,t,o):K,u===K&&(u=i),Qe(e,a,u)})}}function It(e,t,n){var r=-1;return t=c(t.length?t:[ni],En()),e=St(e,function(e){return{a:c(t,function(t){return t(e)}),b:++r,c:e}}),b(e,function(e,t){var r;e:{r=-1;for(var i=e.a,o=t.a,s=i.length,a=n.length;++r<s;){var u=B(i[r],o[r]);if(u){r=a>r?u*("desc"==n[r]?-1:1):u;break e}}r=e.b-t.b}return r})}function Dt(e,t){return e=Object(e),h(t,function(t,n){return n in e&&(t[n]=e[n]),t},{})}function Ot(e,t){for(var n=-1,r=yt(e,Jr,mo),i=r.length,o={};++n<i;){var s=r[n],a=e[s];t(a,s)&&(o[s]=a)}return o}function Mt(e){return function(t){return null==t?K:t[e]}}function qt(e){return function(t){return vt(t,e)}}function Rt(e,t,n,r){var i=r?y:v,o=-1,s=t.length,a=e;for(n&&(a=c(e,$(n)));++o<s;)for(var u=0,l=t[o],l=n?n(l):l;-1<(u=i(a,l,u,r));)a!==e&&Ii.call(a,u,1),Ii.call(e,u,1);return e}function Ft(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(r==n||i!=o){var o=i;if(R(i))Ii.call(e,i,1);else if(Nn(i,e))delete e[i];else{var i=it(i),s=Gn(e,i);null!=s&&delete s[Xn(i)]}}}}function Pt(e,t){return e+Oi(zi()*(t-e+1))}function Lt(e,t){var n="";if(!e||1>t||t>9007199254740991)return n;do t%2&&(n+=e),(t=Oi(t/2))&&(e+=e);while(t);return n}function Nt(e,t,n,r){t=Nn(t,e)?[t]:it(t);for(var i=-1,o=t.length,s=o-1,a=e;null!=a&&++i<o;){var u=t[i];if(Sr(a)){var c=n;if(i!=s){var l=a[u],c=r?r(l,u,a):K;c===K&&(c=null==l?R(t[i+1])?[]:{}:l)}Ye(a,u,c)}a=a[u]}return e}function zt(e,t,n){var r=-1,i=e.length;for(0>t&&(t=-t>i?0:i+t),n=n>i?i:n,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0,n=Array(i);++r<i;)n[r]=e[r+t];return n}function Wt(e,t){var n;return ao(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Ht(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&2147483647>=i){for(;i>r;){var o=r+i>>>1,s=e[o];(n?t>=s:t>s)&&null!==s?r=o+1:i=o}return i}return Kt(e,t,ni,n)}function Kt(e,t,n,r){t=n(t);for(var i=0,o=e?e.length:0,s=t!==t,a=null===t,u=t===K;o>i;){var c=Oi((i+o)/2),l=n(e[c]),h=l!==K,d=l===l;(s?d||r:a?d&&h&&(r||null!=l):u?d&&(r||h):null==l?0:r?t>=l:t>l)?i=c+1:o=c}return Li(o,4294967294)}function Ut(e,t){for(var n=0,r=e.length,i=e[0],o=t?t(i):i,s=o,a=1,u=[i];++n<r;)i=e[n],o=t?t(i):i,_r(o,s)||(s=o,u[a++]=i);return u}function Gt(e,t,n){var r=-1,i=a,o=e.length,s=!0,c=[],l=c;if(n)s=!1,i=u;else if(200>o)l=t?[]:c;else{if(i=t?null:fo(e))return N(i);s=!1,i=Pe,l=new Fe}e:for(;++r<o;){var h=e[r],d=t?t(h):h;if(s&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),c.push(h)}else i(l,d,n)||(l!==c&&l.push(d),c.push(h))}return c}function Jt(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?zt(e,r?0:o,r?o+1:i):zt(e,r?o+1:0,r?i:o)}function Zt(e,t){var n=e;return n instanceof Ae&&(n=n.value()),h(t,function(e,t){return t.func.apply(t.thisArg,l([e],t.args))},n)}function Vt(e,t,n){for(var r=-1,i=e.length;++r<i;)var o=o?l(lt(o,e[r],t,n),lt(e[r],o,t,n)):e[r];return o&&o.length?Gt(o,t,n):[]}function Qt(e,t,n){for(var r=-1,i=e.length,o=t.length,s={};++r<i;)n(s,e[r],o>r?t[r]:K);return s}function Yt(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function Xt(e){var t=new e.constructor(e.byteLength);return new ki(t).set(new ki(e)),t}function en(e,t,n,r){var i=-1,o=e.length,s=n.length,a=-1,u=t.length,c=Pi(o-s,0),l=Array(u+c);for(r=!r;++a<u;)l[a]=t[a];for(;++i<s;)(r||o>i)&&(l[n[i]]=e[i]);for(;c--;)l[a++]=e[i++];return l}function tn(e,t,n,r){var i=-1,o=e.length,s=-1,a=n.length,u=-1,c=t.length,l=Pi(o-a,0),h=Array(l+c);for(r=!r;++i<l;)h[i]=e[i];for(l=i;++u<c;)h[l+u]=t[u];for(;++s<a;)(r||o>i)&&(h[l+n[s]]=e[i++]);return h}function nn(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function rn(e,t,n){return on(e,t,n)}function on(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var s=t[i],a=r?r(n[s],e[s],s,n,e):e[s];Ye(n,s,a)}return n}function sn(e,t){return rn(e,Dn(e),t)}function an(e,t){return function(n,i){var o=Yo(n)?r:Xe,s=t?t():{};return o(n,e,En(i),s)}}function un(e){return vr(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:K,s=i>2?n[2]:K,o="function"==typeof o?(i--,o):K;for(s&&Ln(n[0],n[1],s)&&(o=3>i?K:o,i=1),t=Object(t);++r<i;)(s=n[r])&&e(t,s,r,o);return t})}function cn(e,t){return function(n,r){if(null==n)return n;if(!xr(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function ln(e){return function(t,n,r){var i=-1,o=Object(t);r=r(t);for(var s=r.length;s--;){var a=r[e?s:++i];if(!1===n(o[a],a,o))break}return t}}function hn(e,t,n){function r(){return(this&&this!==Ze&&this instanceof r?o:e).apply(i?n:this,arguments)}var i=1&t,o=pn(e);return r}function dn(e){return function(t){t=Wr(t);var n=Ee.test(t)?t.match(Se):K,r=n?n[0]:t.charAt(0);return t=n?n.slice(1).join(""):t.slice(1),r[e]()+t}}function fn(e){return function(t){return h(ei(Xr(t)),e,"")}}function pn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=ut(e.prototype),t=e.apply(n,t);return Sr(t)?t:n}}function gn(e,t,r){function i(){for(var s=arguments.length,a=Array(s),u=s,c=In(i);u--;)a[u]=arguments[u];return u=3>s&&a[0]!==c&&a[s-1]!==c?[]:L(a,c),s-=u.length,r>s?jn(e,t,vn,i.placeholder,K,a,u,K,K,r-s):n(this&&this!==Ze&&this instanceof i?o:e,this,a)}var o=pn(e);return i}function mn(e){return vr(function(t){t=ft(t,1);var n=t.length,r=n,i=$e.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new hi("Expected a function");if(i&&!s&&"wrapper"==Sn(o))var s=new $e([],!0)}for(r=s?r:n;++r<n;)var o=t[r],i=Sn(o),a="wrapper"==i?po(o):K,s=a&&Wn(a[0])&&424==a[1]&&!a[4].length&&1==a[9]?s[Sn(a[0])].apply(s,a[3]):1==o.length&&Wn(o)?s[i]():s.thru(o);return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Yo(r)&&r.length>=200)return s.plant(r).value();for(var i=0,e=n?t[i].apply(this,e):r;++i<n;)e=t[i].call(this,e);return e}})}function vn(e,t,n,r,i,o,s,a,u,c){function l(){for(var v=arguments.length,y=v,_=Array(v);y--;)_[y]=arguments[y];if(p){var w,b=In(l),y=_.length;for(w=0;y--;)_[y]===b&&w++}if(r&&(_=en(_,r,i,p)),o&&(_=tn(_,o,s,p)),v-=w,p&&c>v)return b=L(_,b),jn(e,t,vn,l.placeholder,n,_,b,a,u,c-v);if(b=d?n:this,y=f?b[e]:e,v=_.length,a){w=_.length;for(var x=Li(a.length,w),j=nn(_);x--;){var k=a[x];_[x]=R(k,w)?j[k]:K}}else g&&v>1&&_.reverse();return h&&v>u&&(_.length=u),this&&this!==Ze&&this instanceof l&&(y=m||pn(y)),y.apply(b,_)}var h=128&t,d=1&t,f=2&t,p=24&t,g=512&t,m=f?K:pn(e);return l}function yn(e,t){return function(n,r){return xt(n,e,t(r))}}function _n(e){return vr(function(t){return t=c(ft(t,1),En()),vr(function(r){var i=this;return e(t,function(e){return n(e,i,r)})})})}function wn(e,t){t=t===K?" ":t+"";var n=t.length;return 2>n?n?Lt(t,e):t:(n=Lt(t,Di(e/z(t))),Ee.test(t)?n.match(Se).slice(0,e).join(""):n.slice(0,e))}function bn(e,t,r,i){function o(){for(var t=-1,u=arguments.length,c=-1,l=i.length,h=Array(l+u),d=this&&this!==Ze&&this instanceof o?a:e;++c<l;)h[c]=i[c];for(;u--;)h[c++]=arguments[++t];return n(d,s?r:this,h)}var s=1&t,a=pn(e);return o}function xn(e){return function(t,n,r){r&&"number"!=typeof r&&Ln(t,n,r)&&(n=r=K),t=Nr(t),t=t===t?t:0,n===K?(n=t,t=0):n=Nr(n)||0,r=r===K?n>t?1:-1:Nr(r)||0;var i=-1;n=Pi(Di((n-t)/(r||1)),0);for(var o=Array(n);n--;)o[e?n:++i]=t,t+=r;return o}}function jn(e,t,n,r,i,o,s,a,u,c){var l=8&t;a=a?nn(a):K;var h=l?s:K;s=l?K:s;var d=l?o:K;return o=l?K:o,t=(t|(l?32:64))&~(l?64:32),4&t||(t&=-4),t=[e,t,i,d,h,o,s,a,u,c],n=n.apply(K,t),Wn(e)&&vo(n,t),n.placeholder=r,n}function kn(e){var t=ci[e];return function(e,n){if(e=Nr(e),n=Pr(n)){var r=(Wr(e)+"e").split("e"),r=t(r[0]+"e"+(+r[1]+n)),r=(Wr(r)+"e").split("e");return+(r[0]+"e"+(+r[1]-n))}return t(e)}}function $n(e,t,n,r,i,o,s,a){var u=2&t;if(!u&&"function"!=typeof e)throw new hi("Expected a function");var c=r?r.length:0;if(c||(t&=-97,r=i=K),s=s===K?s:Pi(Pr(s),0),a=a===K?a:Pr(a),c-=i?i.length:0,64&t){var l=r,h=i;r=i=K}var d=u?K:po(e);return o=[e,t,n,r,i,l,h,o,s,a],d&&(n=o[1],e=d[1],t=n|e,r=128==e&&8==n||128==e&&256==n&&d[8]>=o[7].length||384==e&&d[8]>=d[7].length&&8==n,131>t||r)&&(1&e&&(o[2]=d[2],t|=1&n?0:4),(n=d[3])&&(r=o[3],o[3]=r?en(r,n,d[4]):nn(n),o[4]=r?L(o[3],"__lodash_placeholder__"):nn(d[4])),(n=d[5])&&(r=o[5],o[5]=r?tn(r,n,d[6]):nn(n),o[6]=r?L(o[5],"__lodash_placeholder__"):nn(d[6])),(n=d[7])&&(o[7]=nn(n)),128&e&&(o[8]=null==o[8]?d[8]:Li(o[8],d[8])),null==o[9]&&(o[9]=d[9]),o[0]=d[0],o[1]=t),e=o[0],t=o[1],n=o[2],r=o[3],i=o[4],a=o[9]=null==o[9]?u?0:e.length:Pi(o[9]-c,0),!a&&24&t&&(t&=-25),(d?ho:vo)(t&&1!=t?8==t||16==t?gn(e,t,a):32!=t&&33!=t||i.length?vn.apply(K,o):bn(e,t,n,r):hn(e,t,n),o)}function An(e,t,n,r,i,o){var s=-1,a=2&i,u=1&i,c=e.length,l=t.length;if(!(c==l||a&&l>c))return!1;if(l=o.get(e))return l==t;for(l=!0,o.set(e,t);++s<c;){var h=e[s],d=t[s];if(r)var p=a?r(d,h,s,t,e,o):r(h,d,s,e,t,o);if(p!==K){if(p)continue;l=!1;break}if(u){if(!f(t,function(e){return h===e||n(h,e,r,i,o)})){l=!1;break}}else if(h!==d&&!n(h,d,r,i,o)){l=!1;break}}return o["delete"](e),l}function Cn(e,t,n,r,i,o,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!r(new ki(e),new ki(t)))break;return!0;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object Number]":return e!=+e?t!=+t:e==+t;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=P;case"[object Set]":if(a||(a=N),e.size!=t.size&&!(2&o))break;return(n=s.get(e))?n==t:(o|=1,s.set(e,t),An(a(e),a(t),r,i,o,s));case"[object Symbol]":if(oo)return oo.call(e)==oo.call(t)}return!1}function Sn(e){for(var t=e.name+"",n=Yi[t],r=gi.call(Yi,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function En(){var e=we.iteratee||ri,e=e===ri?At:e;return arguments.length?e(arguments[0],arguments[1]):e}function Bn(e){e=Zr(e);for(var t=e.length;t--;){var n=e[t][1];e[t][2]=n===n&&!Sr(n)}return e}function Tn(e,t){var n=e[t];return Br(n)?n:K}function In(e){return(gi.call(we,"placeholder")?we:e).placeholder}function Dn(e){return Ci(Object(e))}function On(e){return yi.call(e)}function Mn(e,t,n){t=Nn(t,e)?[t]:it(t);for(var r,i=-1,o=t.length;++i<o;){var s=t[i];if(!(r=null!=e&&n(e,s)))break;e=e[s]}return r?r:(o=e?e.length:0,!!o&&Cr(o)&&R(s,o)&&(Yo(e)||Or(e)||br(e)))}function qn(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&gi.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Rn(e){return"function"!=typeof e.constructor||Hn(e)?{}:ut(Mi(Object(e)))}function Fn(n,r,i,o){var s=n.constructor;switch(r){case"[object ArrayBuffer]":return Xt(n);case"[object Boolean]":case"[object Date]":return new s(+n);case"[object DataView]":return r=o?Xt(n.buffer):n.buffer,new n.constructor(r,n.byteOffset,n.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return r=o?Xt(n.buffer):n.buffer,new n.constructor(r,n.byteOffset,n.length);case"[object Map]":return r=o?i(P(n),!0):P(n),h(r,e,new n.constructor);case"[object Number]":case"[object String]":return new s(n);case"[object RegExp]":return r=new n.constructor(n.source,pe.exec(n)),r.lastIndex=n.lastIndex,r;case"[object Set]":return r=o?i(N(n),!0):N(n),h(r,t,new n.constructor);case"[object Symbol]":return oo?Object(oo.call(n)):{}}}function Pn(e){var t=e?e.length:K;return Cr(t)&&(Yo(e)||Or(e)||br(e))?j(t,String):null}function Ln(e,t,n){if(!Sr(n))return!1;var r=typeof t;return("number"==r?xr(n)&&R(t,n.length):"string"==r&&t in n)?_r(n[t],e):!1}function Nn(e,t){var n=typeof e;return"number"==n||"symbol"==n?!0:!Yo(e)&&(Mr(e)||oe.test(e)||!ie.test(e)||null!=t&&e in Object(t))}function zn(e){var t=typeof e;return"number"==t||"boolean"==t||"string"==t&&"__proto__"!=e||null==e;
}function Wn(e){var t=Sn(e),n=we[t];return"function"==typeof n&&t in Ae.prototype?e===n?!0:(t=po(n),!!t&&e===t[0]):!1}function Hn(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||fi)}function Kn(e,t){return function(n){return null==n?!1:n[e]===t&&(t!==K||e in Object(n))}}function Un(e,t,n,r,i,o){return Sr(e)&&Sr(t)&&Tt(e,t,K,Un,o.set(t,e)),e}function Gn(e,t){return 1==t.length?e:vt(e,zt(t,0,-1))}function Jn(e){if($r(e))try{return pi.call(e)}catch(t){}return Wr(e)}function Zn(e){if(e instanceof Ae)return e.clone();var t=new $e(e.__wrapped__,e.__chain__);return t.__actions__=nn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Vn(e,t,n){var r=e?e.length:0;return r?(t=n||t===K?1:Pr(t),zt(e,0>t?0:t,r)):[]}function Qn(e,t,n){var r=e?e.length:0;return r?(t=n||t===K?1:Pr(t),t=r-t,zt(e,0,0>t?0:t)):[]}function Yn(e){return e?e[0]:K}function Xn(e){var t=e?e.length:0;return t?e[t-1]:K}function er(e,t){return e&&e.length&&t&&t.length?Rt(e,t):e}function tr(e){return e?Wi.call(e):e}function nr(e){if(!e||!e.length)return[];var t=0;return e=s(e,function(e){return jr(e)?(t=Pi(e.length,t),!0):void 0}),j(t,function(t){return c(e,Mt(t))})}function rr(e,t){if(!e||!e.length)return[];var r=nr(e);return null==t?r:c(r,function(e){return n(t,K,e)})}function ir(e){return e=we(e),e.__chain__=!0,e}function or(e,t){return t(e)}function sr(){return this}function ar(e,t){return"function"==typeof t&&Yo(e)?i(e,t):ao(e,En(t))}function ur(e,t){var n;if("function"==typeof t&&Yo(e)){for(n=e.length;n--&&!1!==t(e[n],n,e););n=e}else n=uo(e,En(t));return n}function cr(e,t){return(Yo(e)?c:St)(e,En(t,3))}function lr(e,t,n){var r=-1,i=Fr(e),o=i.length,s=o-1;for(t=(n?Ln(e,t,n):t===K)?1:ot(Pr(t),0,o);++r<t;)e=Pt(r,s),n=i[e],i[e]=i[r],i[r]=n;return i.length=t,i}function hr(e,t,n){return t=n?K:t,t=e&&null==t?e.length:t,$n(e,128,K,K,K,K,t)}function dr(e,t){var n;if("function"!=typeof t)throw new hi("Expected a function");return e=Pr(e),function(){return 0<--e&&(n=t.apply(this,arguments)),1>=e&&(t=K),n}}function fr(e,t,n){return t=n?K:t,e=$n(e,8,K,K,K,K,K,t),e.placeholder=fr.placeholder,e}function pr(e,t,n){return t=n?K:t,e=$n(e,16,K,K,K,K,K,t),e.placeholder=pr.placeholder,e}function gr(e,t,n){function r(t){var n=u,r=c;return u=c=K,f=t,l=e.apply(r,n)}function i(e){var n=e-d;return e-=f,!d||n>=t||0>n||!1!==g&&e>=g}function o(){var e=Wo();if(i(e))return s(e);var n;n=e-f,e=t-(e-d),n=!1===g?e:Li(e,g-n),h=Ti(o,n)}function s(e){return $i(h),h=K,m&&u?r(e):(u=c=K,l)}function a(){var e=Wo(),n=i(e);return u=arguments,c=this,d=e,n?h===K?(f=e=d,h=Ti(o,t),p?r(e):l):($i(h),h=Ti(o,t),r(d)):l}var u,c,l,h,d=0,f=0,p=!1,g=!1,m=!0;if("function"!=typeof e)throw new hi("Expected a function");return t=Nr(t)||0,Sr(n)&&(p=!!n.leading,g="maxWait"in n&&Pi(Nr(n.maxWait)||0,t),m="trailing"in n?!!n.trailing:m),a.cancel=function(){h!==K&&$i(h),d=f=0,u=c=h=K},a.flush=function(){return h===K?l:s(Wo())},a}function mr(e,t){function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;return o.has(i)?o.get(i):(r=e.apply(this,r),n.cache=o.set(i,r),r)}if("function"!=typeof e||t&&"function"!=typeof t)throw new hi("Expected a function");return n.cache=new(mr.Cache||Re),n}function vr(e,t){if("function"!=typeof e)throw new hi("Expected a function");return t=Pi(t===K?e.length-1:Pr(t),0),function(){for(var r=arguments,i=-1,o=Pi(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];switch(t){case 0:return e.call(this,s);case 1:return e.call(this,r[0],s);case 2:return e.call(this,r[0],r[1],s)}for(o=Array(t+1),i=-1;++i<t;)o[i]=r[i];return o[t]=s,n(e,this,o)}}function yr(){if(!arguments.length)return[];var e=arguments[0];return Yo(e)?e:[e]}function _r(e,t){return e===t||e!==e&&t!==t}function wr(e,t){return e>t}function br(e){return jr(e)&&gi.call(e,"callee")&&(!Bi.call(e,"callee")||"[object Arguments]"==yi.call(e))}function xr(e){return null!=e&&Cr(go(e))&&!$r(e)}function jr(e){return Er(e)&&xr(e)}function kr(e){return Er(e)?"[object Error]"==yi.call(e)||"string"==typeof e.message&&"string"==typeof e.name:!1}function $r(e){return e=Sr(e)?yi.call(e):"","[object Function]"==e||"[object GeneratorFunction]"==e}function Ar(e){return"number"==typeof e&&e==Pr(e)}function Cr(e){return"number"==typeof e&&e>-1&&0==e%1&&9007199254740991>=e}function Sr(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Er(e){return!!e&&"object"==typeof e}function Br(e){return Sr(e)?($r(e)||q(e)?wi:ye).test(Jn(e)):!1}function Tr(e){return"number"==typeof e||Er(e)&&"[object Number]"==yi.call(e)}function Ir(e){return!Er(e)||"[object Object]"!=yi.call(e)||q(e)?!1:(e=Mi(Object(e)),null===e?!0:(e=gi.call(e,"constructor")&&e.constructor,"function"==typeof e&&e instanceof e&&pi.call(e)==vi))}function Dr(e){return Sr(e)&&"[object RegExp]"==yi.call(e)}function Or(e){return"string"==typeof e||!Yo(e)&&Er(e)&&"[object String]"==yi.call(e)}function Mr(e){return"symbol"==typeof e||Er(e)&&"[object Symbol]"==yi.call(e)}function qr(e){return Er(e)&&Cr(e.length)&&!!Oe[yi.call(e)]}function Rr(e,t){return t>e}function Fr(e){if(!e)return[];if(xr(e))return Or(e)?e.match(Se):nn(e);if(Si&&e[Si])return F(e[Si]());var t=On(e);return("[object Map]"==t?P:"[object Set]"==t?N:Qr)(e)}function Pr(e){if(!e)return 0===e?e:0;if(e=Nr(e),e===U||e===-U)return 1.7976931348623157e308*(0>e?-1:1);var t=e%1;return e===e?t?e-t:e:0}function Lr(e){return e?ot(Pr(e),0,4294967295):0}function Nr(e){if("number"==typeof e)return e;if(Mr(e))return G;if(Sr(e)&&(e=$r(e.valueOf)?e.valueOf():e,e=Sr(e)?e+"":e),"string"!=typeof e)return 0===e?e:+e;e=e.replace(ce,"");var t=ve.test(e);return t||_e.test(e)?ze(e.slice(2),t?2:8):me.test(e)?G:+e}function zr(e){return rn(e,Jr(e))}function Wr(e){if("string"==typeof e)return e;if(null==e)return"";if(Mr(e))return so?so.call(e):"";var t=e+"";return"0"==t&&1/e==-U?"-0":t}function Hr(e,t,n){return e=null==e?K:vt(e,t),e===K?n:e}function Kr(e,t){return null!=e&&Mn(e,t,_t)}function Ur(e,t){return null!=e&&Mn(e,t,wt)}function Gr(e){var t=Hn(e);if(!t&&!xr(e))return Fi(Object(e));var n,r=Pn(e),i=!!r,r=r||[],o=r.length;for(n in e)!_t(e,n)||i&&("length"==n||R(n,o))||t&&"constructor"==n||r.push(n);return r}function Jr(e){for(var t=-1,n=Hn(e),r=Ct(e),i=r.length,o=Pn(e),s=!!o,o=o||[],a=o.length;++t<i;){var u=r[t];s&&("length"==u||R(u,a))||"constructor"==u&&(n||!gi.call(e,u))||o.push(u)}return o}function Zr(e){return k(e,Gr(e))}function Vr(e){return k(e,Jr(e))}function Qr(e){return e?A(e,Gr(e)):[]}function Yr(e){return bs(Wr(e).toLowerCase())}function Xr(e){return(e=Wr(e))&&e.replace(be,I).replace(Ce,"")}function ei(e,t,n){return e=Wr(e),t=n?K:t,t===K&&(t=Ie.test(e)?Te:Be),e.match(t)||[]}function ti(e){return function(){return e}}function ni(e){return e}function ri(e){return At("function"==typeof e?e:st(e,!0))}function ii(e,t,n){var r=Gr(t),o=mt(t,r);null!=n||Sr(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=mt(t,Gr(t)));var s=Sr(n)&&"chain"in n?n.chain:!0,a=$r(e);return i(o,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__);return(n.__actions__=nn(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,l([this.value()],arguments))})}),e}function oi(){}function si(e){return Nn(e)?Mt(e):qt(e)}E=E?Ve.defaults({},E,Ve.pick(Ze,De)):Ze;var ai=E.Date,ui=E.Error,ci=E.Math,li=E.RegExp,hi=E.TypeError,di=E.Array.prototype,fi=E.Object.prototype,pi=E.Function.prototype.toString,gi=fi.hasOwnProperty,mi=0,vi=pi.call(Object),yi=fi.toString,_i=Ze._,wi=li("^"+pi.call(gi).replace(ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bi=Ke?E.Buffer:K,xi=E.Reflect,ji=E.Symbol,ki=E.Uint8Array,$i=E.clearTimeout,Ai=xi?xi.f:K,Ci=Object.getOwnPropertySymbols,Si="symbol"==typeof(Si=ji&&ji.iterator)?Si:K,Ei=Object.create,Bi=fi.propertyIsEnumerable,Ti=E.setTimeout,Ii=di.splice,Di=ci.ceil,Oi=ci.floor,Mi=Object.getPrototypeOf,qi=E.isFinite,Ri=di.join,Fi=Object.keys,Pi=ci.max,Li=ci.min,Ni=E.parseInt,zi=ci.random,Wi=di.reverse,Hi=Tn(E,"DataView"),Ki=Tn(E,"Map"),Ui=Tn(E,"Promise"),Gi=Tn(E,"Set"),Ji=Tn(E,"WeakMap"),Zi=Tn(Object,"create"),Vi=Ji&&new Ji,Qi=!Bi.call({valueOf:1},"valueOf"),Yi={},Xi=Jn(Hi),eo=Jn(Ki),to=Jn(Ui),no=Jn(Gi),ro=Jn(Ji),io=ji?ji.prototype:K,oo=io?io.valueOf:K,so=io?io.toString:K;we.templateSettings={escape:te,evaluate:ne,interpolate:re,variable:"",imports:{_:we}},we.prototype=ke.prototype,we.prototype.constructor=we,$e.prototype=ut(ke.prototype),$e.prototype.constructor=$e,Ae.prototype=ut(ke.prototype),Ae.prototype.constructor=Ae,qe.prototype=Zi?Zi(null):fi,Re.prototype.clear=function(){this.__data__={hash:new qe,map:Ki?new Ki:[],string:new qe}},Re.prototype["delete"]=function(e){var t=this.__data__;return zn(e)?(t="string"==typeof e?t.string:t.hash,e=(Zi?t[e]!==K:gi.call(t,e))&&delete t[e]):e=Ki?t.map["delete"](e):We(t.map,e),e},Re.prototype.get=function(e){var t=this.__data__;return zn(e)?(t="string"==typeof e?t.string:t.hash,Zi?(e=t[e],e="__lodash_hash_undefined__"===e?K:e):e=gi.call(t,e)?t[e]:K):e=Ki?t.map.get(e):He(t.map,e),e},Re.prototype.has=function(e){var t=this.__data__;return zn(e)?(t="string"==typeof e?t.string:t.hash,e=Zi?t[e]!==K:gi.call(t,e)):e=Ki?t.map.has(e):-1<Ue(t.map,e),e},Re.prototype.set=function(e,t){var n=this.__data__;return zn(e)?("string"==typeof e?n.string:n.hash)[e]=Zi&&t===K?"__lodash_hash_undefined__":t:Ki?n.map.set(e,t):Ge(n.map,e,t),this},Fe.prototype.push=function(e){var t=this.__data__;zn(e)?(t=t.__data__,("string"==typeof e?t.string:t.hash)[e]="__lodash_hash_undefined__"):t.set(e,"__lodash_hash_undefined__")},Le.prototype.clear=function(){this.__data__={array:[],map:null}},Le.prototype["delete"]=function(e){var t=this.__data__,n=t.array;return n?We(n,e):t.map["delete"](e)},Le.prototype.get=function(e){var t=this.__data__,n=t.array;return n?He(n,e):t.map.get(e)},Le.prototype.has=function(e){var t=this.__data__,n=t.array;return n?-1<Ue(n,e):t.map.has(e)},Le.prototype.set=function(e,t){var n=this.__data__,r=n.array;return r&&(199>r.length?Ge(r,e,t):(n.array=null,n.map=new Re(r))),(n=n.map)&&n.set(e,t),this};var ao=cn(pt),uo=cn(gt,!0),co=ln(),lo=ln(!0);Ai&&!Bi.call({valueOf:1},"valueOf")&&(Ct=function(e){return F(Ai(e))});var ho=Vi?function(e,t){return Vi.set(e,t),e}:ni,fo=Gi&&2===new Gi([1,2]).size?function(e){return new Gi(e)}:oi,po=Vi?function(e){return Vi.get(e)}:oi,go=Mt("length");Ci||(Dn=function(){return[]});var mo=Ci?function(e){for(var t=[];e;)l(t,Dn(e)),e=Mi(Object(e));return t}:Dn;(Hi&&"[object DataView]"!=On(new Hi(new ArrayBuffer(1)))||Ki&&"[object Map]"!=On(new Ki)||Ui&&"[object Promise]"!=On(Ui.resolve())||Gi&&"[object Set]"!=On(new Gi)||Ji&&"[object WeakMap]"!=On(new Ji))&&(On=function(e){var t=yi.call(e);if(e=Jn("[object Object]"==t?e.constructor:null))switch(e){case Xi:return"[object DataView]";case eo:return"[object Map]";case to:return"[object Promise]";case no:return"[object Set]";case ro:return"[object WeakMap]"}return t});var vo=function(){var e=0,t=0;return function(n,r){var i=Wo(),o=16-(i-t);if(t=i,o>0){if(150<=++e)return n}else e=0;return ho(n,r)}}(),yo=mr(function(e){var t=[];return Wr(e).replace(se,function(e,n,r,i){t.push(r?i.replace(de,"$1"):n||e)}),t}),_o=vr(function(e,t){return jr(e)?lt(e,ft(t,1,!0)):[]}),wo=vr(function(e,t){var n=Xn(t);return jr(n)&&(n=K),jr(e)?lt(e,ft(t,1,!0),En(n)):[]}),bo=vr(function(e,t){var n=Xn(t);return jr(n)&&(n=K),jr(e)?lt(e,ft(t,1,!0),K,n):[]}),xo=vr(function(e){var t=c(e,nt);return t.length&&t[0]===e[0]?bt(t):[]}),jo=vr(function(e){var t=Xn(e),n=c(e,nt);return t===Xn(n)?t=K:n.pop(),n.length&&n[0]===e[0]?bt(n,En(t)):[]}),ko=vr(function(e){var t=Xn(e),n=c(e,nt);return t===Xn(n)?t=K:n.pop(),n.length&&n[0]===e[0]?bt(n,K,t):[]}),$o=vr(er),Ao=vr(function(e,t){t=c(ft(t,1),String);var n=tt(e,t);return Ft(e,t.sort(B)),n}),Co=vr(function(e){return Gt(ft(e,1,!0))}),So=vr(function(e){var t=Xn(e);return jr(t)&&(t=K),Gt(ft(e,1,!0),En(t))}),Eo=vr(function(e){var t=Xn(e);return jr(t)&&(t=K),Gt(ft(e,1,!0),K,t)}),Bo=vr(function(e,t){return jr(e)?lt(e,t):[]}),To=vr(function(e){return Vt(s(e,jr))}),Io=vr(function(e){var t=Xn(e);return jr(t)&&(t=K),Vt(s(e,jr),En(t))}),Do=vr(function(e){var t=Xn(e);return jr(t)&&(t=K),Vt(s(e,jr),K,t)}),Oo=vr(nr),Mo=vr(function(e){var t=e.length,t=t>1?e[t-1]:K,t="function"==typeof t?(e.pop(),t):K;return rr(e,t)}),qo=vr(function(e){function t(t){return tt(t,e)}e=ft(e,1);var n=e.length,r=n?e[0]:0,i=this.__wrapped__;return 1>=n&&!this.__actions__.length&&i instanceof Ae&&R(r)?(i=i.slice(r,+r+(n?1:0)),i.__actions__.push({func:or,args:[t],thisArg:K}),new $e(i,this.__chain__).thru(function(e){return n&&!e.length&&e.push(K),e})):this.thru(t)}),Ro=an(function(e,t,n){gi.call(e,n)?++e[n]:e[n]=1}),Fo=an(function(e,t,n){gi.call(e,n)?e[n].push(t):e[n]=[t]}),Po=vr(function(e,t,r){var i=-1,o="function"==typeof t,s=Nn(t),a=xr(e)?Array(e.length):[];return ao(e,function(e){var u=o?t:s&&null!=e?e[t]:K;a[++i]=u?n(u,e,r):jt(e,t,r)}),a}),Lo=an(function(e,t,n){e[n]=t}),No=an(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),zo=vr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Ln(e,t[0],t[1])?t=[]:n>2&&Ln(t[0],t[1],t[2])&&(t.length=1),It(e,ft(t,1),[])}),Wo=ai.now,Ho=vr(function(e,t,n){var r=1;if(n.length)var i=L(n,In(Ho)),r=32|r;return $n(e,r,t,n,i)}),Ko=vr(function(e,t,n){var r=3;if(n.length)var i=L(n,In(Ko)),r=32|r;return $n(t,r,e,n,i)}),Uo=vr(function(e,t){return ct(e,1,t)}),Go=vr(function(e,t,n){return ct(e,Nr(t)||0,n)});mr.Cache=Re;var Jo=vr(function(e,t){t=c(ft(t,1),En());var r=t.length;return vr(function(i){for(var o=-1,s=Li(i.length,r);++o<s;)i[o]=t[o].call(this,i[o]);return n(e,this,i)})}),Zo=vr(function(e,t){var n=L(t,In(Zo));return $n(e,32,K,t,n)}),Vo=vr(function(e,t){var n=L(t,In(Vo));return $n(e,64,K,t,n)}),Qo=vr(function(e,t){return $n(e,256,K,K,K,ft(t,1))}),Yo=Array.isArray,Xo=bi?function(e){return e instanceof bi}:ti(!1),es=un(function(e,t){if(Qi||Hn(t)||xr(t))rn(t,Gr(t),e);else for(var n in t)gi.call(t,n)&&Ye(e,n,t[n])}),ts=un(function(e,t){if(Qi||Hn(t)||xr(t))rn(t,Jr(t),e);else for(var n in t)Ye(e,n,t[n])}),ns=un(function(e,t,n,r){on(t,Jr(t),e,r)}),rs=un(function(e,t,n,r){on(t,Gr(t),e,r)}),is=vr(function(e,t){return tt(e,ft(t,1))}),os=vr(function(e){return e.push(K,Je),n(ns,K,e)}),ss=vr(function(e){return e.push(K,Un),n(hs,K,e)}),as=yn(function(e,t,n){e[t]=n},ti(ni)),us=yn(function(e,t,n){gi.call(e,t)?e[t].push(n):e[t]=[n]},En),cs=vr(jt),ls=un(function(e,t,n){Tt(e,t,n)}),hs=un(function(e,t,n,r){Tt(e,t,n,r)}),ds=vr(function(e,t){return null==e?{}:(t=c(ft(t,1),rt),Dt(e,lt(yt(e,Jr,mo),t)))}),fs=vr(function(e,t){return null==e?{}:Dt(e,ft(t,1))}),ps=fn(function(e,t,n){return t=t.toLowerCase(),e+(n?Yr(t):t)}),gs=fn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),ms=fn(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),vs=dn("toLowerCase"),ys=fn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),_s=fn(function(e,t,n){return e+(n?" ":"")+bs(t)}),ws=fn(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),bs=dn("toUpperCase"),xs=vr(function(e,t){try{return n(e,K,t)}catch(r){return kr(r)?r:new ui(r)}}),js=vr(function(e,t){return i(ft(t,1),function(t){e[t]=Ho(e[t],e)}),e}),ks=mn(),$s=mn(!0),As=vr(function(e,t){return function(n){return jt(n,e,t)}}),Cs=vr(function(e,t){return function(n){return jt(e,n,t)}}),Ss=_n(c),Es=_n(o),Bs=_n(f),Ts=xn(),Is=xn(!0),Ds=T(function(e,t){return e+t}),Os=kn("ceil"),Ms=T(function(e,t){return e/t}),qs=kn("floor"),Rs=T(function(e,t){return e*t}),Fs=kn("round"),Ps=T(function(e,t){return e-t});return we.after=function(e,t){if("function"!=typeof t)throw new hi("Expected a function");return e=Pr(e),function(){return 1>--e?t.apply(this,arguments):void 0}},we.ary=hr,we.assign=es,we.assignIn=ts,we.assignInWith=ns,we.assignWith=rs,we.at=is,we.before=dr,we.bind=Ho,we.bindAll=js,we.bindKey=Ko,we.castArray=yr,we.chain=ir,we.chunk=function(e,t,n){if(t=(n?Ln(e,t,n):t===K)?1:Pi(Pr(t),0),n=e?e.length:0,!n||1>t)return[];for(var r=0,i=0,o=Array(Di(n/t));n>r;)o[i++]=zt(e,r,r+=t);return o},we.compact=function(e){for(var t=-1,n=e?e.length:0,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},we.concat=function(){var e=arguments.length,t=yr(arguments[0]);if(2>e)return e?nn(t):[];for(var n=Array(e-1);e--;)n[e-1]=arguments[e];for(var e=ft(n,1),n=-1,r=t.length,i=-1,o=e.length,s=Array(r+o);++n<r;)s[n]=t[n];for(;++i<o;)s[n++]=e[i];return s},we.cond=function(e){var t=e?e.length:0,r=En();return e=t?c(e,function(e){if("function"!=typeof e[1])throw new hi("Expected a function");return[r(e[0]),e[1]]}):[],vr(function(r){for(var i=-1;++i<t;){var o=e[i];if(n(o[0],this,r))return n(o[1],this,r)}})},we.conforms=function(e){return at(st(e,!0))},we.constant=ti,we.countBy=Ro,we.create=function(e,t){var n=ut(e);return t?et(n,t):n},we.curry=fr,we.curryRight=pr,we.debounce=gr,we.defaults=os,we.defaultsDeep=ss,we.defer=Uo,we.delay=Go,we.difference=_o,we.differenceBy=wo,we.differenceWith=bo,we.drop=Vn,we.dropRight=Qn,we.dropRightWhile=function(e,t){return e&&e.length?Jt(e,En(t,3),!0,!0):[]},we.dropWhile=function(e,t){return e&&e.length?Jt(e,En(t,3),!0):[]},we.fill=function(e,t,n,r){var i=e?e.length:0;if(!i)return[];for(n&&"number"!=typeof n&&Ln(e,t,n)&&(n=0,r=i),i=e.length,n=Pr(n),0>n&&(n=-n>i?0:i+n),r=r===K||r>i?i:Pr(r),0>r&&(r+=i),r=n>r?0:Lr(r);r>n;)e[n++]=t;return e},we.filter=function(e,t){return(Yo(e)?s:dt)(e,En(t,3))},we.flatMap=function(e,t){return ft(cr(e,t),1)},we.flatMapDeep=function(e,t){return ft(cr(e,t),U)},we.flatMapDepth=function(e,t,n){return n=n===K?1:Pr(n),ft(cr(e,t),n)},we.flatten=function(e){return e&&e.length?ft(e,1):[]},we.flattenDeep=function(e){return e&&e.length?ft(e,U):[]},we.flattenDepth=function(e,t){return e&&e.length?(t=t===K?1:Pr(t),ft(e,t)):[]},we.flip=function(e){return $n(e,512)},we.flow=ks,we.flowRight=$s,we.fromPairs=function(e){for(var t=-1,n=e?e.length:0,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},we.functions=function(e){return null==e?[]:mt(e,Gr(e))},we.functionsIn=function(e){return null==e?[]:mt(e,Jr(e))},we.groupBy=Fo,we.initial=function(e){return Qn(e,1)},we.intersection=xo,we.intersectionBy=jo,we.intersectionWith=ko,we.invert=as,we.invertBy=us,we.invokeMap=Po,we.iteratee=ri,we.keyBy=Lo,we.keys=Gr,we.keysIn=Jr,we.map=cr,we.mapKeys=function(e,t){var n={};return t=En(t,3),pt(e,function(e,r,i){n[t(e,r,i)]=e}),n},we.mapValues=function(e,t){var n={};return t=En(t,3),pt(e,function(e,r,i){n[r]=t(e,r,i)}),n},we.matches=function(e){return Et(st(e,!0))},we.matchesProperty=function(e,t){return Bt(e,st(t,!0))},we.memoize=mr,we.merge=ls,we.mergeWith=hs,we.method=As,we.methodOf=Cs,we.mixin=ii,we.negate=function(e){if("function"!=typeof e)throw new hi("Expected a function");return function(){return!e.apply(this,arguments)}},we.nthArg=function(e){return e=Pr(e),function(){return arguments[e]}},we.omit=ds,we.omitBy=function(e,t){return t=En(t),Ot(e,function(e,n){return!t(e,n)})},we.once=function(e){return dr(2,e)},we.orderBy=function(e,t,n,r){return null==e?[]:(Yo(t)||(t=null==t?[]:[t]),n=r?K:n,Yo(n)||(n=null==n?[]:[n]),It(e,t,n))},we.over=Ss,we.overArgs=Jo,we.overEvery=Es,we.overSome=Bs,we.partial=Zo,we.partialRight=Vo,we.partition=No,we.pick=fs,we.pickBy=function(e,t){return null==e?{}:Ot(e,En(t))},we.property=si,we.propertyOf=function(e){return function(t){return null==e?K:vt(e,t)}},we.pull=$o,we.pullAll=er,we.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Rt(e,t,En(n)):e},we.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Rt(e,t,K,n):e},we.pullAt=Ao,we.range=Ts,we.rangeRight=Is,we.rearg=Qo,we.reject=function(e,t){var n=Yo(e)?s:dt;return t=En(t,3),n(e,function(e,n,r){return!t(e,n,r)})},we.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=En(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return Ft(e,i),n},we.rest=vr,we.reverse=tr,we.sampleSize=lr,we.set=function(e,t,n){return null==e?e:Nt(e,t,n)},we.setWith=function(e,t,n,r){return r="function"==typeof r?r:K,null==e?e:Nt(e,t,n,r)},we.shuffle=function(e){return lr(e,4294967295)},we.slice=function(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Ln(e,t,n)?(t=0,n=r):(t=null==t?0:Pr(t),n=n===K?r:Pr(n)),zt(e,t,n)):[]},we.sortBy=zo,we.sortedUniq=function(e){return e&&e.length?Ut(e):[]},we.sortedUniqBy=function(e,t){return e&&e.length?Ut(e,En(t)):[]},we.split=function(e,t,n){return Wr(e).split(t,n)},we.spread=function(e,t){if("function"!=typeof e)throw new hi("Expected a function");return t=t===K?0:Pi(Pr(t),0),vr(function(r){var i=r[t];return r=r.slice(0,t),i&&l(r,i),n(e,this,r)})},we.tail=function(e){return Vn(e,1)},we.take=function(e,t,n){return e&&e.length?(t=n||t===K?1:Pr(t),zt(e,0,0>t?0:t)):[]},we.takeRight=function(e,t,n){var r=e?e.length:0;return r?(t=n||t===K?1:Pr(t),t=r-t,zt(e,0>t?0:t,r)):[]},we.takeRightWhile=function(e,t){return e&&e.length?Jt(e,En(t,3),!1,!0):[]},we.takeWhile=function(e,t){return e&&e.length?Jt(e,En(t,3)):[]},we.tap=function(e,t){return t(e),e},we.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new hi("Expected a function");return Sr(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),gr(e,t,{leading:r,maxWait:t,trailing:i})},we.thru=or,we.toArray=Fr,we.toPairs=Zr,we.toPairsIn=Vr,we.toPath=function(e){return Yo(e)?c(e,rt):Mr(e)?[e]:nn(yo(e))},we.toPlainObject=zr,we.transform=function(e,t,n){var r=Yo(e)||qr(e);if(t=En(t,4),null==n)if(r||Sr(e)){var o=e.constructor;n=r?Yo(e)?new o:[]:$r(o)?ut(Mi(Object(e))):{}}else n={};return(r?i:pt)(e,function(e,r,i){return t(n,e,r,i)}),n},we.unary=function(e){return hr(e,1)},we.union=Co,we.unionBy=So,we.unionWith=Eo,we.uniq=function(e){return e&&e.length?Gt(e):[]},we.uniqBy=function(e,t){return e&&e.length?Gt(e,En(t)):[]},we.uniqWith=function(e,t){return e&&e.length?Gt(e,K,t):[]},we.unset=function(e,t){var n;if(null==e)n=!0;else{n=e;var r=t,r=Nn(r,n)?[r]:it(r);n=Gn(n,r),r=Xn(r),n=null!=n&&Kr(n,r)?delete n[r]:!0}return n},we.unzip=nr,we.unzipWith=rr,we.update=function(e,t,n){return null==e?e:Nt(e,t,("function"==typeof n?n:ni)(vt(e,t)),void 0)},we.updateWith=function(e,t,n,r){return r="function"==typeof r?r:K,null!=e&&(e=Nt(e,t,("function"==typeof n?n:ni)(vt(e,t)),r)),e},we.values=Qr,we.valuesIn=function(e){return null==e?[]:A(e,Jr(e))},we.without=Bo,we.words=ei,we.wrap=function(e,t){return t=null==t?ni:t,Zo(t,e)},we.xor=To,we.xorBy=Io,we.xorWith=Do,we.zip=Oo,we.zipObject=function(e,t){return Qt(e||[],t||[],Ye)},we.zipObjectDeep=function(e,t){return Qt(e||[],t||[],Nt)},we.zipWith=Mo,we.entries=Zr,we.entriesIn=Vr,we.extend=ts,we.extendWith=ns,ii(we,we),we.add=Ds,we.attempt=xs,we.camelCase=ps,we.capitalize=Yr,we.ceil=Os,we.clamp=function(e,t,n){return n===K&&(n=t,t=K),n!==K&&(n=Nr(n),n=n===n?n:0),t!==K&&(t=Nr(t),t=t===t?t:0),ot(Nr(e),t,n)},we.clone=function(e){return st(e,!1,!0)},we.cloneDeep=function(e){return st(e,!0,!0)},we.cloneDeepWith=function(e,t){return st(e,!0,!0,t)},we.cloneWith=function(e,t){return st(e,!1,!0,t)},we.deburr=Xr,we.divide=Ms,we.endsWith=function(e,t,n){e=Wr(e),t="string"==typeof t?t:t+"";var r=e.length;return n=n===K?r:ot(Pr(n),0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n},we.eq=_r,we.escape=function(e){return(e=Wr(e))&&ee.test(e)?e.replace(Y,D):e},we.escapeRegExp=function(e){return(e=Wr(e))&&ue.test(e)?e.replace(ae,"\\$&"):e},we.every=function(e,t,n){var r=Yo(e)?o:ht;return n&&Ln(e,t,n)&&(t=K),r(e,En(t,3))},we.find=function(e,t){if(t=En(t,3),Yo(e)){var n=m(e,t);return n>-1?e[n]:K}return g(e,t,ao)},we.findIndex=function(e,t){return e&&e.length?m(e,En(t,3)):-1},we.findKey=function(e,t){return g(e,En(t,3),pt,!0)},we.findLast=function(e,t){if(t=En(t,3),Yo(e)){var n=m(e,t,!0);return n>-1?e[n]:K}return g(e,t,uo)},we.findLastIndex=function(e,t){return e&&e.length?m(e,En(t,3),!0):-1},we.findLastKey=function(e,t){return g(e,En(t,3),gt,!0)},we.floor=qs,we.forEach=ar,we.forEachRight=ur,we.forIn=function(e,t){return null==e?e:co(e,En(t),Jr)},we.forInRight=function(e,t){return null==e?e:lo(e,En(t),Jr)},we.forOwn=function(e,t){return e&&pt(e,En(t))},we.forOwnRight=function(e,t){return e&&gt(e,En(t))},we.get=Hr,we.gt=wr,we.gte=function(e,t){return e>=t},we.has=Kr,we.hasIn=Ur,we.head=Yn,we.identity=ni,we.includes=function(e,t,n,r){return e=xr(e)?e:Qr(e),n=n&&!r?Pr(n):0,r=e.length,0>n&&(n=Pi(r+n,0)),Or(e)?r>=n&&-1<e.indexOf(t,n):!!r&&-1<v(e,t,n)},we.indexOf=function(e,t,n){var r=e?e.length:0;return r?(n=Pr(n),0>n&&(n=Pi(r+n,0)),v(e,t,n)):-1},we.inRange=function(e,t,n){return t=Nr(t)||0,n===K?(n=t,t=0):n=Nr(n)||0,e=Nr(e),e>=Li(t,n)&&e<Pi(t,n)},we.invoke=cs,we.isArguments=br,we.isArray=Yo,we.isArrayBuffer=function(e){return Er(e)&&"[object ArrayBuffer]"==yi.call(e)},we.isArrayLike=xr,we.isArrayLikeObject=jr,we.isBoolean=function(e){return!0===e||!1===e||Er(e)&&"[object Boolean]"==yi.call(e)},we.isBuffer=Xo,we.isDate=function(e){return Er(e)&&"[object Date]"==yi.call(e)},we.isElement=function(e){return!!e&&1===e.nodeType&&Er(e)&&!Ir(e)},we.isEmpty=function(e){if(xr(e)&&(Yo(e)||Or(e)||$r(e.splice)||br(e)||Xo(e)))return!e.length;if(Er(e)){var t=On(e);if("[object Map]"==t||"[object Set]"==t)return!e.size}for(var n in e)if(gi.call(e,n))return!1;return!(Qi&&Gr(e).length)},we.isEqual=function(e,t){return kt(e,t)},we.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:K)?n(e,t):K;return r===K?kt(e,t,n):!!r},we.isError=kr,we.isFinite=function(e){return"number"==typeof e&&qi(e)},we.isFunction=$r,we.isInteger=Ar,we.isLength=Cr,we.isMap=function(e){return Er(e)&&"[object Map]"==On(e)},we.isMatch=function(e,t){return e===t||$t(e,t,Bn(t))},we.isMatchWith=function(e,t,n){return n="function"==typeof n?n:K,$t(e,t,Bn(t),n)},we.isNaN=function(e){return Tr(e)&&e!=+e},we.isNative=Br,we.isNil=function(e){return null==e},we.isNull=function(e){return null===e},we.isNumber=Tr,we.isObject=Sr,we.isObjectLike=Er,we.isPlainObject=Ir,we.isRegExp=Dr,we.isSafeInteger=function(e){return Ar(e)&&e>=-9007199254740991&&9007199254740991>=e},we.isSet=function(e){return Er(e)&&"[object Set]"==On(e)},we.isString=Or,we.isSymbol=Mr,we.isTypedArray=qr,we.isUndefined=function(e){return e===K},we.isWeakMap=function(e){return Er(e)&&"[object WeakMap]"==On(e)},we.isWeakSet=function(e){return Er(e)&&"[object WeakSet]"==yi.call(e)},we.join=function(e,t){return e?Ri.call(e,t):""},we.kebabCase=gs,we.last=Xn,we.lastIndexOf=function(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if(n!==K&&(i=Pr(n),i=(0>i?Pi(r+i,0):Li(i,r-1))+1),t!==t)return M(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1},we.lowerCase=ms,we.lowerFirst=vs,we.lt=Rr,we.lte=function(e,t){return t>=e},we.max=function(e){return e&&e.length?p(e,ni,wr):K},we.maxBy=function(e,t){return e&&e.length?p(e,En(t),wr):K},we.mean=function(e){return _(e,ni)},we.meanBy=function(e,t){return _(e,En(t))},we.min=function(e){return e&&e.length?p(e,ni,Rr):K},we.minBy=function(e,t){return e&&e.length?p(e,En(t),Rr):K},we.multiply=Rs,we.noConflict=function(){return Ze._===this&&(Ze._=_i),this},we.noop=oi,we.now=Wo,we.pad=function(e,t,n){e=Wr(e);var r=(t=Pr(t))?z(e):0;return t&&t>r?(t=(t-r)/2,wn(Oi(t),n)+e+wn(Di(t),n)):e},we.padEnd=function(e,t,n){e=Wr(e);var r=(t=Pr(t))?z(e):0;return t&&t>r?e+wn(t-r,n):e},we.padStart=function(e,t,n){e=Wr(e);var r=(t=Pr(t))?z(e):0;return t&&t>r?wn(t-r,n)+e:e},we.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),e=Wr(e).replace(ce,""),Ni(e,t||(ge.test(e)?16:10))},we.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Ln(e,t,n)&&(t=n=K),n===K&&("boolean"==typeof t?(n=t,t=K):"boolean"==typeof e&&(n=e,e=K)),e===K&&t===K?(e=0,t=1):(e=Nr(e)||0,t===K?(t=e,e=0):t=Nr(t)||0),e>t){var r=e;e=t,t=r}return n||e%1||t%1?(n=zi(),Li(e+n*(t-e+Ne("1e-"+((n+"").length-1))),t)):Pt(e,t)},we.reduce=function(e,t,n){var r=Yo(e)?h:w,i=3>arguments.length;return r(e,En(t,4),n,i,ao)},we.reduceRight=function(e,t,n){var r=Yo(e)?d:w,i=3>arguments.length;return r(e,En(t,4),n,i,uo)},we.repeat=function(e,t,n){return t=(n?Ln(e,t,n):t===K)?1:Pr(t),Lt(Wr(e),t)},we.replace=function(){var e=arguments,t=Wr(e[0]);return 3>e.length?t:t.replace(e[1],e[2])},we.result=function(e,t,n){t=Nn(t,e)?[t]:it(t);var r=-1,i=t.length;for(i||(e=K,i=1);++r<i;){var o=null==e?K:e[t[r]];o===K&&(r=i,o=n),e=$r(o)?o.call(e):o}return e},we.round=Fs,we.runInContext=H,we.sample=function(e){e=xr(e)?e:Qr(e);var t=e.length;return t>0?e[Pt(0,t-1)]:K},we.size=function(e){if(null==e)return 0;if(xr(e)){var t=e.length;return t&&Or(e)?z(e):t}return Er(e)&&(t=On(e),"[object Map]"==t||"[object Set]"==t)?e.size:Gr(e).length},we.snakeCase=ys,we.some=function(e,t,n){var r=Yo(e)?f:Wt;return n&&Ln(e,t,n)&&(t=K),r(e,En(t,3))},we.sortedIndex=function(e,t){return Ht(e,t)},we.sortedIndexBy=function(e,t,n){return Kt(e,t,En(n))},we.sortedIndexOf=function(e,t){var n=e?e.length:0;if(n){var r=Ht(e,t);if(n>r&&_r(e[r],t))return r}return-1},we.sortedLastIndex=function(e,t){return Ht(e,t,!0)},we.sortedLastIndexBy=function(e,t,n){return Kt(e,t,En(n),!0)},we.sortedLastIndexOf=function(e,t){if(e&&e.length){var n=Ht(e,t,!0)-1;if(_r(e[n],t))return n}return-1},we.startCase=_s,we.startsWith=function(e,t,n){return e=Wr(e),n=ot(Pr(n),0,e.length),e.lastIndexOf(t,n)==n},we.subtract=Ps,we.sum=function(e){return e&&e.length?x(e,ni):0},we.sumBy=function(e,t){return e&&e.length?x(e,En(t)):0},we.template=function(e,t,n){var r=we.templateSettings;n&&Ln(e,t,n)&&(t=K),e=Wr(e),t=ns({},t,r,Je),n=ns({},t.imports,r.imports,Je);var i,o,s=Gr(n),a=A(n,s),u=0;n=t.interpolate||xe;var c="__p+='";n=li((t.escape||xe).source+"|"+n.source+"|"+(n===re?fe:xe).source+"|"+(t.evaluate||xe).source+"|$","g");var l="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";if(e.replace(n,function(t,n,r,s,a,l){return r||(r=s),c+=e.slice(u,l).replace(je,O),n&&(i=!0,c+="'+__e("+n+")+'"),a&&(o=!0,c+="';"+a+";\n__p+='"),r&&(c+="'+((__t=("+r+"))==null?'':__t)+'"),u=l+t.length,t}),c+="';",(t=t.variable)||(c="with(obj){"+c+"}"),c=(o?c.replace(J,""):c).replace(Z,"$1").replace(V,"$1;"),c="function("+(t||"obj")+"){"+(t?"":"obj||(obj={});")+"var __t,__p=''"+(i?",__e=_.escape":"")+(o?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+c+"return __p}",t=xs(function(){return Function(s,l+"return "+c).apply(K,a)}),t.source=c,kr(t))throw t;return t},we.times=function(e,t){if(e=Pr(e),1>e||e>9007199254740991)return[];var n=4294967295,r=Li(e,4294967295);for(t=En(t),e-=4294967295,r=j(r,t);++n<e;)t(n);return r},we.toInteger=Pr,we.toLength=Lr,we.toLower=function(e){return Wr(e).toLowerCase()},we.toNumber=Nr,we.toSafeInteger=function(e){return ot(Pr(e),-9007199254740991,9007199254740991)},we.toString=Wr,we.toUpper=function(e){return Wr(e).toUpperCase()},we.trim=function(e,t,n){return(e=Wr(e))?n||t===K?e.replace(ce,""):(t+="")?(e=e.match(Se),t=t.match(Se),e.slice(C(e,t),S(e,t)+1).join("")):e:e},we.trimEnd=function(e,t,n){return(e=Wr(e))?n||t===K?e.replace(he,""):(t+="")?(e=e.match(Se),e.slice(0,S(e,t.match(Se))+1).join("")):e:e},we.trimStart=function(e,t,n){return(e=Wr(e))?n||t===K?e.replace(le,""):(t+="")?(e=e.match(Se),e.slice(C(e,t.match(Se))).join("")):e:e},we.truncate=function(e,t){var n=30,r="...";if(Sr(t))var i="separator"in t?t.separator:i,n="length"in t?Pr(t.length):n,r="omission"in t?Wr(t.omission):r;e=Wr(e);var o=e.length;if(Ee.test(e))var s=e.match(Se),o=s.length;if(n>=o)return e;if(o=n-z(r),1>o)return r;if(n=s?s.slice(0,o).join(""):e.slice(0,o),i===K)return n+r;if(s&&(o+=n.length-o),Dr(i)){if(e.slice(o).search(i)){var a=n;for(i.global||(i=li(i.source,Wr(pe.exec(i))+"g")),i.lastIndex=0;s=i.exec(a);)var u=s.index;n=n.slice(0,u===K?o:u)}}else e.indexOf(i,o)!=o&&(i=n.lastIndexOf(i),i>-1&&(n=n.slice(0,i)));return n+r},we.unescape=function(e){return(e=Wr(e))&&X.test(e)?e.replace(Q,W):e},we.uniqueId=function(e){var t=++mi;return Wr(e)+t},we.upperCase=ws,we.upperFirst=bs,we.each=ar,we.eachRight=ur,we.first=Yn,ii(we,function(){var e={};return pt(we,function(t,n){gi.call(we.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),we.VERSION="4.8.2",i("bind bindKey curry curryRight partial partialRight".split(" "),function(e){we[e].placeholder=we}),i(["drop","take"],function(e,t){Ae.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new Ae(this);n=n===K?1:Pi(Pr(n),0);var i=this.clone();return r?i.__takeCount__=Li(n,i.__takeCount__):i.__views__.push({
size:Li(n,4294967295),type:e+(0>i.__dir__?"Right":"")}),i},Ae.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),i(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;Ae.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:En(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),i(["head","last"],function(e,t){var n="take"+(t?"Right":"");Ae.prototype[e]=function(){return this[n](1).value()[0]}}),i(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Ae.prototype[e]=function(){return this.__filtered__?new Ae(this):this[n](1)}}),Ae.prototype.compact=function(){return this.filter(ni)},Ae.prototype.find=function(e){return this.filter(e).head()},Ae.prototype.findLast=function(e){return this.reverse().find(e)},Ae.prototype.invokeMap=vr(function(e,t){return"function"==typeof e?new Ae(this):this.map(function(n){return jt(n,e,t)})}),Ae.prototype.reject=function(e){return e=En(e,3),this.filter(function(t){return!e(t)})},Ae.prototype.slice=function(e,t){e=Pr(e);var n=this;return n.__filtered__&&(e>0||0>t)?new Ae(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==K&&(t=Pr(t),n=0>t?n.dropRight(-t):n.take(t-e)),n)},Ae.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Ae.prototype.toArray=function(){return this.take(4294967295)},pt(Ae.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=we[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&(we.prototype[t]=function(){function t(e){return e=i.apply(we,l([e],a)),r&&d?e[0]:e}var s=this.__wrapped__,a=r?[1]:arguments,u=s instanceof Ae,c=a[0],h=u||Yo(s);h&&n&&"function"==typeof c&&1!=c.length&&(u=h=!1);var d=this.__chain__,f=!!this.__actions__.length,c=o&&!d,u=u&&!f;return!o&&h?(s=u?s:new Ae(this),s=e.apply(s,a),s.__actions__.push({func:or,args:[t],thisArg:K}),new $e(s,d)):c&&u?e.apply(this,a):(s=this.thru(t),c?r?s.value()[0]:s.value():s)})}),i("pop push shift sort splice unshift".split(" "),function(e){var t=di[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);we.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Yo(i)?i:[],e)}return this[n](function(n){return t.apply(Yo(n)?n:[],e)})}}),pt(Ae.prototype,function(e,t){var n=we[t];if(n){var r=n.name+"";(Yi[r]||(Yi[r]=[])).push({name:t,func:n})}}),Yi[vn(K,2).name]=[{name:"wrapper",func:K}],Ae.prototype.clone=function(){var e=new Ae(this.__wrapped__);return e.__actions__=nn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=nn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=nn(this.__views__),e},Ae.prototype.reverse=function(){if(this.__filtered__){var e=new Ae(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},Ae.prototype.value=function(){var e,t=this.__wrapped__.value(),n=this.__dir__,r=Yo(t),i=0>n,o=r?t.length:0;e=o;for(var s=this.__views__,a=0,u=-1,c=s.length;++u<c;){var l=s[u],h=l.size;switch(l.type){case"drop":a+=h;break;case"dropRight":e-=h;break;case"take":e=Li(e,a+h);break;case"takeRight":a=Pi(a,e-h)}}if(e={start:a,end:e},s=e.start,a=e.end,e=a-s,i=i?a:s-1,s=this.__iteratees__,a=s.length,u=0,c=Li(e,this.__takeCount__),!r||200>o||o==e&&c==e)return Zt(t,this.__actions__);r=[];e:for(;e--&&c>u;){for(i+=n,o=-1,l=t[i];++o<a;){var d=s[o],h=d.type,d=(0,d.iteratee)(l);if(2==h)l=d;else if(!d){if(1==h)continue e;break e}}r[u++]=l}return r},we.prototype.at=qo,we.prototype.chain=function(){return ir(this)},we.prototype.commit=function(){return new $e(this.value(),this.__chain__)},we.prototype.next=function(){this.__values__===K&&(this.__values__=Fr(this.value()));var e=this.__index__>=this.__values__.length,t=e?K:this.__values__[this.__index__++];return{done:e,value:t}},we.prototype.plant=function(e){for(var t,n=this;n instanceof ke;){var r=Zn(n);r.__index__=0,r.__values__=K,t?i.__wrapped__=r:t=r;var i=r,n=n.__wrapped__}return i.__wrapped__=e,t},we.prototype.reverse=function(){var e=this.__wrapped__;return e instanceof Ae?(this.__actions__.length&&(e=new Ae(this)),e=e.reverse(),e.__actions__.push({func:or,args:[tr],thisArg:K}),new $e(e,this.__chain__)):this.thru(tr)},we.prototype.toJSON=we.prototype.valueOf=we.prototype.value=function(){return Zt(this.__wrapped__,this.__actions__)},Si&&(we.prototype[Si]=sr),we}var K,U=1/0,G=NaN,J=/\b__p\+='';/g,Z=/\b(__p\+=)''\+/g,V=/(__e\(.*?\)|\b__t\))\+'';/g,Q=/&(?:amp|lt|gt|quot|#39|#96);/g,Y=/[&<>"'`]/g,X=RegExp(Q.source),ee=RegExp(Y.source),te=/<%-([\s\S]+?)%>/g,ne=/<%([\s\S]+?)%>/g,re=/<%=([\s\S]+?)%>/g,ie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oe=/^\w*$/,se=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,ae=/[\\^$.*+?()[\]{}|]/g,ue=RegExp(ae.source),ce=/^\s+|\s+$/g,le=/^\s+/,he=/\s+$/,de=/\\(\\)?/g,fe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pe=/\w*$/,ge=/^0x/i,me=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,_e=/^0o[0-7]+$/i,we=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,xe=/($^)/,je=/['\n\r\u2028\u2029\\]/g,ke="[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?)*",$e="(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])"+ke,Ae="(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]?|[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])",Ce=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]","g"),Se=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+Ae+ke,"g"),Ee=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),Be=/[a-zA-Z0-9]+/g,Te=RegExp(["[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|\\d+",$e].join("|"),"g"),Ie=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,De="Array Buffer DataView Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Promise Reflect RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),Oe={};Oe["[object Float32Array]"]=Oe["[object Float64Array]"]=Oe["[object Int8Array]"]=Oe["[object Int16Array]"]=Oe["[object Int32Array]"]=Oe["[object Uint8Array]"]=Oe["[object Uint8ClampedArray]"]=Oe["[object Uint16Array]"]=Oe["[object Uint32Array]"]=!0,Oe["[object Arguments]"]=Oe["[object Array]"]=Oe["[object ArrayBuffer]"]=Oe["[object Boolean]"]=Oe["[object DataView]"]=Oe["[object Date]"]=Oe["[object Error]"]=Oe["[object Function]"]=Oe["[object Map]"]=Oe["[object Number]"]=Oe["[object Object]"]=Oe["[object RegExp]"]=Oe["[object Set]"]=Oe["[object String]"]=Oe["[object WeakMap]"]=!1;var Me={};Me["[object Arguments]"]=Me["[object Array]"]=Me["[object ArrayBuffer]"]=Me["[object DataView]"]=Me["[object Boolean]"]=Me["[object Date]"]=Me["[object Float32Array]"]=Me["[object Float64Array]"]=Me["[object Int8Array]"]=Me["[object Int16Array]"]=Me["[object Int32Array]"]=Me["[object Map]"]=Me["[object Number]"]=Me["[object Object]"]=Me["[object RegExp]"]=Me["[object Set]"]=Me["[object String]"]=Me["[object Symbol]"]=Me["[object Uint8Array]"]=Me["[object Uint8ClampedArray]"]=Me["[object Uint16Array]"]=Me["[object Uint32Array]"]=!0,Me["[object Error]"]=Me["[object Function]"]=Me["[object WeakMap]"]=!1;var qe={"Ã€":"A","Ã":"A","Ã‚":"A","Ãƒ":"A","Ã„":"A","Ã…":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã‡":"C","Ã§":"c","Ã":"D","Ã°":"d","Ãˆ":"E","Ã‰":"E","ÃŠ":"E","Ã‹":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","ÃŒ":"I","Ã":"I","ÃŽ":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã‘":"N","Ã±":"n","Ã’":"O","Ã“":"O","Ã”":"O","Ã•":"O","Ã–":"O","Ã˜":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã™":"U","Ãš":"U","Ã›":"U","Ãœ":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã†":"Ae","Ã¦":"ae","Ãž":"Th","Ã¾":"th","ÃŸ":"ss"},Re={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Fe={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Pe={"function":!0,object:!0},Le={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ne=parseFloat,ze=parseInt,We=Pe[typeof exports]&&exports&&!exports.nodeType?exports:K,He=Pe[typeof module]&&module&&!module.nodeType?module:K,Ke=He&&He.exports===We?We:K,Ue=E(Pe[typeof self]&&self),Ge=E(Pe[typeof window]&&window),Je=E(Pe[typeof this]&&this),Ze=E(We&&He&&"object"==typeof global&&global)||Ge!==(Je&&Je.window)&&Ge||Ue||Je||Function("return this")(),Ve=H();(Ge||Ue||{})._=Ve,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return Ve}):We&&He?(Ke&&((He.exports=Ve)._=Ve),We._=Ve):Ze._=Ve}.call(this),function(e){var t;if("function"==typeof define&&define.amd)define(["jquery"],e);else if("object"==typeof exports){try{t=require("jquery")}catch(n){}module.exports=e(t)}else window.Cookies=e(window.jQuery)}(function(e){function t(e){return c.raw?e:encodeURIComponent(e)}function n(e){return c.raw?e:decodeURIComponent(e)}function r(e){return t(c.json?JSON.stringify(e):String(e))}function i(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(u," ")),c.json?JSON.parse(e):e}catch(t){}}function o(e,t){var n=c.raw?e:i(e);return a(t)?t(n):n}function s(){for(var e,t,n=0,r={};n<arguments.length;n++){t=arguments[n];for(e in t)r[e]=t[e]}return r}function a(e){return"[object Function]"===Object.prototype.toString.call(e)}var u=/\+/g,c=function(e,i,u){if(arguments.length>1&&!a(i)){if(u=s(c.defaults,u),"number"==typeof u.expires){var l=u.expires,h=u.expires=new Date;h.setMilliseconds(h.getMilliseconds()+864e5*l)}return document.cookie=[t(e),"=",r(i),u.expires?"; expires="+u.expires.toUTCString():"",u.path?"; path="+u.path:"",u.domain?"; domain="+u.domain:"",u.secure?"; secure":""].join("")}for(var d=e?void 0:{},f=document.cookie?document.cookie.split("; "):[],p=0,g=f.length;g>p;p++){var m=f[p].split("="),v=n(m.shift()),y=m.join("=");if(e===v){d=o(y,i);break}e||void 0===(y=o(y))||(d[v]=y)}return d};return c.get=c.set=c,c.defaults={},c.remove=function(e,t){return c(e,"",s(t,{expires:-1})),!c(e)},e&&(e.cookie=c,e.removeCookie=c.remove),c}),jQuery.fn.fastLiveFilter=function(e,t){t=t||{},e=jQuery(e);var n,r=this,i="",o=t.timeout||0,s=t.callback||function(){},a=e.children(),u=a.length,c=u>0?a[0].style.display:"block";return s(u),r.change(function(){for(var e,n,i=r.val().toLowerCase(),o=0,l=0;u>l;l++)e=a[l],n=t.selector?$(e).find(t.selector).text():e.textContent||e.innerText||"",n.toLowerCase().indexOf(i)>=0?("none"==e.style.display&&(e.style.display=c),o++):"none"!=e.style.display&&(e.style.display="none");return s(o),!1}).keydown(function(){clearTimeout(n),n=setTimeout(function(){r.val()!==i&&(i=r.val(),r.change())},o)}),this},function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){e.fn.funcToggle=function(t,n){var r="jqp_eventtoggle_"+t+(new Date).getTime(),i=Array.prototype.slice.call(arguments,2),o=i.length,s=function(){},a=function(){return!1};if("object"==typeof t){for(var u in t)e.fn.funcToggle.apply(this,[u].concat(t[u]));return this}return(e.isFunction(n)||n===!1)&&(i=[n].concat(i),o+=1,n=void 0),i=e.map(i,function(t){return t===!1?a:e.isFunction(t)?t:s}),this.data(r,0),this.bind(t,n,function(t){var n=e(this).data(),s=n[r];i[s].call(this,t),n[r]=(s+1)%o}),this}}),!function(){function e(t,n,r){var i=e.resolve(t);if(null==i){r=r||t,n=n||"root";var o=new Error('Failed to require "'+r+'" from "'+n+'"');throw o.path=r,o.parent=n,o.require=!0,o}var s=e.modules[i];if(!s._resolving&&!s.exports){var a={};a.exports={},a.client=a.component=!0,s._resolving=!0,s.call(this,a.exports,e.relative(i),a),delete s._resolving,s.exports=a.exports}return s.exports}e.modules={},e.aliases={},e.resolve=function(t){"/"===t.charAt(0)&&(t=t.slice(1));for(var n=[t,t+".js",t+".json",t+"/index.js",t+"/index.json"],r=0;r<n.length;r++){var t=n[r];if(e.modules.hasOwnProperty(t))return t;if(e.aliases.hasOwnProperty(t))return e.aliases[t]}},e.normalize=function(e,t){var n=[];if("."!=t.charAt(0))return t;e=e.split("/"),t=t.split("/");for(var r=0;r<t.length;++r)".."==t[r]?e.pop():"."!=t[r]&&""!=t[r]&&n.push(t[r]);return e.concat(n).join("/")},e.register=function(t,n){e.modules[t]=n},e.alias=function(t,n){if(!e.modules.hasOwnProperty(t))throw new Error('Failed to alias "'+t+'", it does not exist');e.aliases[n]=t},e.relative=function(t){function n(e,t){for(var n=e.length;n--;)if(e[n]===t)return n;return-1}function r(n){var i=r.resolve(n);return e(i,t,n)}var i=e.normalize(t,"..");return r.resolve=function(r){var o=r.charAt(0);if("/"==o)return r.slice(1);if("."==o)return e.normalize(i,r);var s=t.split("/"),a=n(s,"deps")+1;return a||(a=0),r=s.slice(0,a+1).join("/")+"/deps/"+r},r.exists=function(t){return e.modules.hasOwnProperty(r.resolve(t))},r},e.register("component-classes/index.js",function(e,t,n){function r(e){if(!e)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}var i=t("indexof"),o=/\s+/,s=Object.prototype.toString;n.exports=function(e){return new r(e)},r.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array(),n=i(t,e);return~n||t.push(e),this.el.className=t.join(" "),this},r.prototype.remove=function(e){if("[object RegExp]"==s.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=i(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},r.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},r.prototype.toggle=function(e,t){return this.list?("undefined"!=typeof t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):("undefined"!=typeof t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},r.prototype.array=function(){var e=this.el.className.replace(/^\s+|\s+$/g,""),t=e.split(o);return""===t[0]&&t.shift(),t},r.prototype.has=r.prototype.contains=function(e){return this.list?this.list.contains(e):!!~i(this.array(),e)}}),e.register("segmentio-extend/index.js",function(e,t,n){n.exports=function(e){for(var t,n=Array.prototype.slice.call(arguments,1),r=0;t=n[r];r++)if(t)for(var i in t)e[i]=t[i];return e}}),e.register("component-indexof/index.js",function(e,t,n){n.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}}),e.register("component-event/index.js",function(e){var t=window.addEventListener?"addEventListener":"attachEvent",n=window.removeEventListener?"removeEventListener":"detachEvent",r="addEventListener"!==t?"on":"";e.bind=function(e,n,i,o){return e[t](r+n,i,o||!1),i},e.unbind=function(e,t,i,o){return e[n](r+t,i,o||!1),i}}),e.register("timoxley-to-array/index.js",function(e,t,n){function r(e){return"[object Array]"===Object.prototype.toString.call(e)}n.exports=function(e){if("undefined"==typeof e)return[];if(null===e)return[null];if(e===window)return[window];if("string"==typeof e)return[e];if(r(e))return e;if("number"!=typeof e.length)return[e];if("function"==typeof e&&e instanceof Function)return[e];for(var t=[],n=0;n<e.length;n++)(Object.prototype.hasOwnProperty.call(e,n)||n in e)&&t.push(e[n]);return t.length?t:[]}}),e.register("javve-events/index.js",function(e,t){var n=t("event"),r=t("to-array");e.bind=function(e,t,i,o){e=r(e);for(var s=0;s<e.length;s++)n.bind(e[s],t,i,o)},e.unbind=function(e,t,i,o){e=r(e);for(var s=0;s<e.length;s++)n.unbind(e[s],t,i,o)}}),e.register("javve-get-by-class/index.js",function(e,t,n){n.exports=function(){return document.getElementsByClassName?function(e,t,n){return n?e.getElementsByClassName(t)[0]:e.getElementsByClassName(t)}:document.querySelector?function(e,t,n){return t="."+t,n?e.querySelector(t):e.querySelectorAll(t)}:function(e,t,n){var r=[],i="*";null==e&&(e=document);for(var o=e.getElementsByTagName(i),s=o.length,a=new RegExp("(^|\\s)"+t+"(\\s|$)"),u=0,c=0;s>u;u++)if(a.test(o[u].className)){if(n)return o[u];r[c]=o[u],c++}return r}}()}),e.register("javve-get-attribute/index.js",function(e,t,n){n.exports=function(e,t){var n=e.getAttribute&&e.getAttribute(t)||null;if(!n)for(var r=e.attributes,i=r.length,o=0;i>o;o++)void 0!==t[o]&&t[o].nodeName===t&&(n=t[o].nodeValue);return n}}),e.register("javve-natural-sort/index.js",function(e,t,n){n.exports=function(e,t,n){var r,i,o=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,s=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,u=/^0x[0-9a-f]+$/i,c=/^0/,n=n||{},l=function(e){return n.insensitive&&(""+e).toLowerCase()||""+e},h=l(e).replace(s,"")||"",d=l(t).replace(s,"")||"",f=h.replace(o,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),p=d.replace(o,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),g=parseInt(h.match(u))||1!=f.length&&h.match(a)&&Date.parse(h),m=parseInt(d.match(u))||g&&d.match(a)&&Date.parse(d)||null,v=n.desc?-1:1;if(m){if(m>g)return-1*v;if(g>m)return 1*v}for(var y=0,_=Math.max(f.length,p.length);_>y;y++){if(r=!(f[y]||"").match(c)&&parseFloat(f[y])||f[y]||0,i=!(p[y]||"").match(c)&&parseFloat(p[y])||p[y]||0,isNaN(r)!==isNaN(i))return isNaN(r)?1:-1;if(typeof r!=typeof i&&(r+="",i+=""),i>r)return-1*v;if(r>i)return 1*v}return 0}}),e.register("javve-to-string/index.js",function(e,t,n){n.exports=function(e){return e=void 0===e?"":e,e=null===e?"":e,e=e.toString()}}),e.register("component-type/index.js",function(e,t,n){var r=Object.prototype.toString;n.exports=function(e){switch(r.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===e?"null":void 0===e?"undefined":e!==e?"nan":e&&1===e.nodeType?"element":typeof e.valueOf()}}),e.register("list.js/index.js",function(e,t,n){!function(e,r){"use strict";var i=e.document,o=t("get-by-class"),s=t("extend"),a=t("indexof"),u=function(e,n,u){var c,l=this,h=t("./src/item")(l),d=t("./src/add-async")(l),f=t("./src/parse")(l);c={start:function(){l.listClass="list",l.searchClass="search",l.sortClass="sort",l.page=200,l.i=1,l.items=[],l.visibleItems=[],l.matchingItems=[],l.searched=!1,l.filtered=!1,l.handlers={updated:[]},l.plugins={},l.helpers={getByClass:o,extend:s,indexOf:a},s(l,n),l.listContainer="string"==typeof e?i.getElementById(e):e,l.listContainer&&(l.list=o(l.listContainer,l.listClass,!0),l.templater=t("./src/templater")(l),l.search=t("./src/search")(l),l.filter=t("./src/filter")(l),l.sort=t("./src/sort")(l),this.items(),l.update(),this.plugins())},items:function(){f(l.list),u!==r&&l.add(u)},plugins:function(){for(var e=0;e<l.plugins.length;e++){var t=l.plugins[e];l[t.name]=t,t.init(l)}}},this.add=function(e,t){if(t)return void d(e,t);var n=[],i=!1;e[0]===r&&(e=[e]);for(var o=0,s=e.length;s>o;o++){var a=null;e[o]instanceof h?(a=e[o],a.reload()):(i=l.items.length>l.page,a=new h(e[o],r,i)),l.items.push(a),n.push(a)}return l.update(),n},this.show=function(e,t){return this.i=e,this.page=t,l.update(),l},this.remove=function(e,t,n){for(var r=0,i=0,o=l.items.length;o>i;i++)l.items[i].values()[e]==t&&(l.templater.remove(l.items[i],n),l.items.splice(i,1),o--,i--,r++);return l.update(),r},this.get=function(e,t){for(var n=[],r=0,i=l.items.length;i>r;r++){var o=l.items[r];o.values()[e]==t&&n.push(o)}return n},this.size=function(){return l.items.length},this.clear=function(){return l.templater.clear(),l.items=[],l},this.on=function(e,t){return l.handlers[e].push(t),l},this.off=function(e,t){var n=l.handlers[e],r=a(n,t);return r>-1&&n.splice(r,1),l},this.trigger=function(e){for(var t=l.handlers[e].length;t--;)l.handlers[e][t](l);return l},this.reset={filter:function(){for(var e=l.items,t=e.length;t--;)e[t].filtered=!1;return l},search:function(){for(var e=l.items,t=e.length;t--;)e[t].found=!1;return l}},this.update=function(){var e=l.items,t=e.length;l.visibleItems=[],l.matchingItems=[],l.templater.clear();for(var n=0;t>n;n++)e[n].matching()&&l.matchingItems.length+1>=l.i&&l.visibleItems.length<l.page?(e[n].show(),l.visibleItems.push(e[n]),l.matchingItems.push(e[n])):e[n].matching()?(l.matchingItems.push(e[n]),e[n].hide()):e[n].hide();return l.trigger("updated"),l},c.start()};n.exports=u}(window)}),e.register("list.js/src/search.js",function(e,t,n){var r=t("events"),i=t("get-by-class"),o=t("to-string");n.exports=function(e){var t,n,s,a,u={resetList:function(){e.i=1,e.templater.clear(),a=void 0},setOptions:function(e){2==e.length&&e[1]instanceof Array?n=e[1]:2==e.length&&"function"==typeof e[1]?a=e[1]:3==e.length&&(n=e[1],a=e[2])},setColumns:function(){n=void 0===n?u.toArray(e.items[0].values()):n},setSearchString:function(e){e=o(e).toLowerCase(),e=e.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),s=e},toArray:function(e){var t=[];for(var n in e)t.push(n);return t}},c={list:function(){for(var t=0,n=e.items.length;n>t;t++)c.item(e.items[t])},item:function(e){e.found=!1;for(var t=0,r=n.length;r>t;t++)if(c.values(e.values(),n[t]))return void(e.found=!0)},values:function(e,n){return!!(e.hasOwnProperty(n)&&(t=o(e[n]).toLowerCase(),""!==s&&t.search(s)>-1))},reset:function(){e.reset.search(),e.searched=!1}},l=function(t){return e.trigger("searchStart"),u.resetList(),u.setSearchString(t),u.setOptions(arguments),u.setColumns(),""===s?c.reset():(e.searched=!0,a?a(s,n):c.list()),e.update(),e.trigger("searchComplete"),e.visibleItems};return e.handlers.searchStart=e.handlers.searchStart||[],e.handlers.searchComplete=e.handlers.searchComplete||[],r.bind(i(e.listContainer,e.searchClass),"keyup",function(t){var n=t.target||t.srcElement,r=""===n.value&&!e.searched;r||l(n.value)}),r.bind(i(e.listContainer,e.searchClass),"input",function(e){var t=e.target||e.srcElement;""===t.value&&l("")}),e.helpers.toString=o,l}}),e.register("list.js/src/sort.js",function(e,t,n){var r=t("natural-sort"),i=t("classes"),o=t("events"),s=t("get-by-class"),a=t("get-attribute");n.exports=function(e){e.sortFunction=e.sortFunction||function(e,t,n){return n.desc="desc"==n.order,r(e.values()[n.valueName],t.values()[n.valueName],n)};var t={els:void 0,clear:function(){for(var e=0,n=t.els.length;n>e;e++)i(t.els[e]).remove("asc"),i(t.els[e]).remove("desc")},getOrder:function(e){var t=a(e,"data-order");return"asc"==t||"desc"==t?t:i(e).has("desc")?"asc":i(e).has("asc")?"desc":"asc"},getInSensitive:function(e,t){var n=a(e,"data-insensitive");t.insensitive="true"===n},setOrder:function(e){for(var n=0,r=t.els.length;r>n;n++){var o=t.els[n];if(a(o,"data-sort")===e.valueName){var s=a(o,"data-order");"asc"==s||"desc"==s?s==e.order&&i(o).add(e.order):i(o).add(e.order)}}}},n=function(){e.trigger("sortStart"),options={};var n=arguments[0].currentTarget||arguments[0].srcElement||void 0;n?(options.valueName=a(n,"data-sort"),t.getInSensitive(n,options),options.order=t.getOrder(n)):(options=arguments[1]||options,options.valueName=arguments[0],options.order=options.order||"asc",options.insensitive="undefined"==typeof options.insensitive?!0:options.insensitive),t.clear(),t.setOrder(options),options.sortFunction=options.sortFunction||e.sortFunction,e.items.sort(function(e,t){return options.sortFunction(e,t,options)}),e.update(),e.trigger("sortComplete")};return e.handlers.sortStart=e.handlers.sortStart||[],e.handlers.sortComplete=e.handlers.sortComplete||[],t.els=s(e.listContainer,e.sortClass),o.bind(t.els,"click",n),e.on("searchStart",t.clear),e.on("filterStart",t.clear),e.helpers.classes=i,e.helpers.naturalSort=r,e.helpers.events=o,e.helpers.getAttribute=a,n}}),e.register("list.js/src/item.js",function(e,t,n){n.exports=function(e){return function(t,n,r){var i=this;this._values={},this.found=!1,this.filtered=!1;var o=function(t,n,r){if(void 0===n)r?i.values(t,r):i.values(t);else{i.elm=n;var o=e.templater.get(i,t);i.values(o)}};this.values=function(t,n){if(void 0===t)return i._values;for(var r in t)i._values[r]=t[r];n!==!0&&e.templater.set(i,i.values())},this.show=function(){e.templater.show(i)},this.hide=function(){e.templater.hide(i)},this.matching=function(){return e.filtered&&e.searched&&i.found&&i.filtered||e.filtered&&!e.searched&&i.filtered||!e.filtered&&e.searched&&i.found||!e.filtered&&!e.searched},this.visible=function(){return i.elm.parentNode==e.list},o(t,n,r)}}}),e.register("list.js/src/templater.js",function(e,t,n){var r=t("get-by-class"),i=function(e){function t(t){if(void 0===t){for(var n=e.list.childNodes,r=0,i=n.length;i>r;r++)if(void 0===n[r].data)return n[r];return null}if(-1!==t.indexOf("<")){var o=document.createElement("div");return o.innerHTML=t,o.firstChild}return document.getElementById(e.item)}var n=t(e.item),i=this;this.get=function(e,t){i.create(e);for(var n={},o=0,s=t.length;s>o;o++){var a=r(e.elm,t[o],!0);n[t[o]]=a?a.innerHTML:""}return n},this.set=function(e,t){if(!i.create(e))for(var n in t)if(t.hasOwnProperty(n)){var o=r(e.elm,n,!0);o&&("IMG"===o.tagName&&""!==t[n]?o.src=t[n]:o.innerHTML=t[n])}},this.create=function(e){if(void 0!==e.elm)return!1;var t=n.cloneNode(!0);return t.removeAttribute("id"),e.elm=t,i.set(e,e.values()),!0},this.remove=function(t){e.list.removeChild(t.elm)},this.show=function(t){i.create(t),e.list.appendChild(t.elm)},this.hide=function(t){void 0!==t.elm&&t.elm.parentNode===e.list&&e.list.removeChild(t.elm)},this.clear=function(){if(e.list.hasChildNodes())for(;e.list.childNodes.length>=1;)e.list.removeChild(e.list.firstChild)}};n.exports=function(e){return new i(e)}}),e.register("list.js/src/filter.js",function(e,t,n){n.exports=function(e){return e.handlers.filterStart=e.handlers.filterStart||[],e.handlers.filterComplete=e.handlers.filterComplete||[],function(t){if(e.trigger("filterStart"),e.i=1,e.reset.filter(),void 0===t)e.filtered=!1;else{e.filtered=!0;for(var n=e.items,r=0,i=n.length;i>r;r++){var o=n[r];o.filtered=!!t(o)}}return e.update(),e.trigger("filterComplete"),e.visibleItems}}}),e.register("list.js/src/add-async.js",function(e,t,n){n.exports=function(e){return function(t,n,r){var i=t.splice(0,100);r=r||[],r=r.concat(e.add(i)),t.length>0?setTimeout(function(){addAsync(t,n,r)},10):(e.update(),n(r))}}}),e.register("list.js/src/parse.js",function(e,t,n){n.exports=function(e){var n=t("./item")(e),r=function(e){for(var t=e.childNodes,n=[],r=0,i=t.length;i>r;r++)void 0===t[r].data&&n.push(t[r]);return n},i=function(t,r){for(var i=0,o=t.length;o>i;i++)e.items.push(new n(r,t[i]))},o=function(t,n){var r=t.splice(0,100);i(r,n),t.length>0?setTimeout(function(){init.items.indexAsync(t,n)},10):e.update()};return function(){var t=r(e.list),n=e.valueNames;e.indexAsync?o(t,n):i(t,n)}}}),e.alias("component-classes/index.js","list.js/deps/classes/index.js"),e.alias("component-classes/index.js","classes/index.js"),e.alias("component-indexof/index.js","component-classes/deps/indexof/index.js"),e.alias("segmentio-extend/index.js","list.js/deps/extend/index.js"),e.alias("segmentio-extend/index.js","extend/index.js"),e.alias("component-indexof/index.js","list.js/deps/indexof/index.js"),e.alias("component-indexof/index.js","indexof/index.js"),e.alias("javve-events/index.js","list.js/deps/events/index.js"),e.alias("javve-events/index.js","events/index.js"),e.alias("component-event/index.js","javve-events/deps/event/index.js"),e.alias("timoxley-to-array/index.js","javve-events/deps/to-array/index.js"),e.alias("javve-get-by-class/index.js","list.js/deps/get-by-class/index.js"),e.alias("javve-get-by-class/index.js","get-by-class/index.js"),e.alias("javve-get-attribute/index.js","list.js/deps/get-attribute/index.js"),e.alias("javve-get-attribute/index.js","get-attribute/index.js"),e.alias("javve-natural-sort/index.js","list.js/deps/natural-sort/index.js"),e.alias("javve-natural-sort/index.js","natural-sort/index.js"),e.alias("javve-to-string/index.js","list.js/deps/to-string/index.js"),e.alias("javve-to-string/index.js","list.js/deps/to-string/index.js"),e.alias("javve-to-string/index.js","to-string/index.js"),e.alias("javve-to-string/index.js","javve-to-string/index.js"),e.alias("component-type/index.js","list.js/deps/type/index.js"),e.alias("component-type/index.js","type/index.js"),"object"==typeof exports?module.exports=e("list.js"):"function"==typeof define&&define.amd?define(function(){return e("list.js")}):this.List=e("list.js")}(),SwiftClick.swiftDictionary={},SwiftClick.attach=function(e){"use strict";return"undefined"!=typeof SwiftClick.swiftDictionary[e]?SwiftClick.swiftDictionary[e]:new SwiftClick(e)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return SwiftClick}):"undefined"!=typeof module&&module.exports?module.exports=SwiftClick:window.SwiftClick=SwiftClick;var swiftclick=SwiftClick.attach(document.body);swiftclick.addNodeNamesToTrack(["li"]),!function(e,t){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(n){return e.Bloodhound=t(n)}):"object"==typeof exports?module.exports=t(require("jquery")):e.Bloodhound=t(jQuery)}(this,function(e){var t=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return"undefined"==typeof e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(t){return t instanceof e},toStr:function(e){return t.isUndefined(e)||null===e?"":e+""},bind:e.proxy,each:function(t,n){function r(e,t){return n(t,e)}e.each(t,r)},map:e.map,filter:e.grep,every:function(t,n){var r=!0;return t?(e.each(t,function(e,i){return(r=n.call(null,i,e,t))?void 0:!1}),!!r):r},some:function(t,n){var r=!1;return t?(e.each(t,function(e,i){return(r=n.call(null,i,e,t))?!1:void 0}),!!r):r},mixin:e.extend,identity:function(e){
return e},clone:function(t){return e.extend(!0,{},t)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(t){function n(){return String(t)}return e.isFunction(t)?t:n},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var r,i;return function(){var o,s,a=this,u=arguments;return o=function(){r=null,n||(i=e.apply(a,u))},s=n&&!r,clearTimeout(r),r=setTimeout(o,t),s&&(i=e.apply(a,u)),i}},throttle:function(e,t){var n,r,i,o,s,a;return s=0,a=function(){s=new Date,i=null,o=e.apply(n,r)},function(){var u=new Date,c=t-(u-s);return n=this,r=arguments,0>=c?(clearTimeout(i),i=null,s=u,o=e.apply(n,r)):i||(i=setTimeout(a,c)),o}},stringify:function(e){return t.isString(e)?e:JSON.stringify(e)},noop:function(){}}}(),n="0.11.1",r=function(){"use strict";function e(e){return e=t.toStr(e),e?e.split(/\s+/):[]}function n(e){return e=t.toStr(e),e?e.split(/\W+/):[]}function r(e){return function(n){return n=t.isArray(n)?n:[].slice.call(arguments,0),function(r){var i=[];return t.each(n,function(n){i=i.concat(e(t.toStr(r[n])))}),i}}}return{nonword:n,whitespace:e,obj:{nonword:r(n),whitespace:r(e)}}}(),i=function(){"use strict";function n(n){this.maxSize=t.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=e.noop)}function r(){this.head=this.tail=null}function i(e,t){this.key=e,this.val=t,this.prev=this.next=null}return t.mixin(n.prototype,{set:function(e,t){var n,r=this.list.tail;this.size>=this.maxSize&&(this.list.remove(r),delete this.hash[r.key],this.size--),(n=this.hash[e])?(n.val=t,this.list.moveToFront(n)):(n=new i(e,t),this.list.add(n),this.hash[e]=n,this.size++)},get:function(e){var t=this.hash[e];return t?(this.list.moveToFront(t),t.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new r}}),t.mixin(r.prototype,{add:function(e){this.head&&(e.next=this.head,this.head.prev=e),this.head=e,this.tail=this.tail||e},remove:function(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function(e){this.remove(e),this.add(e)}}),n}(),o=function(){"use strict";function n(e,n){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+t.escapeRegExChars(this.prefix)),this.ls=n||a,!this.ls&&this._noop()}function r(){return(new Date).getTime()}function i(e){return JSON.stringify(t.isUndefined(e)?null:e)}function o(t){return e.parseJSON(t)}function s(e){var t,n,r=[],i=a.length;for(t=0;i>t;t++)(n=a.key(t)).match(e)&&r.push(n.replace(e,""));return r}var a;try{a=window.localStorage,a.setItem("~~~","!"),a.removeItem("~~~")}catch(u){a=null}return t.mixin(n.prototype,{_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=t.noop},_safeSet:function(e,t){try{this.ls.setItem(e,t)}catch(n){"QuotaExceededError"===n.name&&(this.clear(),this._noop())}},get:function(e){return this.isExpired(e)&&this.remove(e),o(this.ls.getItem(this._prefix(e)))},set:function(e,n,o){return t.isNumber(o)?this._safeSet(this._ttlKey(e),i(r()+o)):this.ls.removeItem(this._ttlKey(e)),this._safeSet(this._prefix(e),i(n))},remove:function(e){return this.ls.removeItem(this._ttlKey(e)),this.ls.removeItem(this._prefix(e)),this},clear:function(){var e,t=s(this.keyMatcher);for(e=t.length;e--;)this.remove(t[e]);return this},isExpired:function(e){var n=o(this.ls.getItem(this._ttlKey(e)));return!!(t.isNumber(n)&&r()>n)}}),n}(),s=function(){"use strict";function n(e){e=e||{},this.cancelled=!1,this.lastReq=null,this._send=e.transport,this._get=e.limiter?e.limiter(this._get):this._get,this._cache=e.cache===!1?new i(0):a}var r=0,o={},s=6,a=new i(10);return n.setMaxPendingRequests=function(e){s=e},n.resetCache=function(){a.reset()},t.mixin(n.prototype,{_fingerprint:function(t){return t=t||{},t.url+t.type+e.param(t.data||{})},_get:function(e,t){function n(e){t(null,e),l._cache.set(u,e)}function i(){t(!0)}function a(){r--,delete o[u],l.onDeckRequestArgs&&(l._get.apply(l,l.onDeckRequestArgs),l.onDeckRequestArgs=null)}var u,c,l=this;u=this._fingerprint(e),this.cancelled||u!==this.lastReq||((c=o[u])?c.done(n).fail(i):s>r?(r++,o[u]=this._send(e).done(n).fail(i).always(a)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(n,r){var i,o;r=r||e.noop,n=t.isString(n)?{url:n}:n||{},o=this._fingerprint(n),this.cancelled=!1,this.lastReq=o,(i=this._cache.get(o))?r(null,i):this._get(n,r)},cancel:function(){this.cancelled=!0}}),n}(),a=window.SearchIndex=function(){"use strict";function n(n){n=n||{},n.datumTokenizer&&n.queryTokenizer||e.error("datumTokenizer and queryTokenizer are both required"),this.identify=n.identify||t.stringify,this.datumTokenizer=n.datumTokenizer,this.queryTokenizer=n.queryTokenizer,this.reset()}function r(e){return e=t.filter(e,function(e){return!!e}),e=t.map(e,function(e){return e.toLowerCase()})}function i(){var e={};return e[u]=[],e[a]={},e}function o(e){for(var t={},n=[],r=0,i=e.length;i>r;r++)t[e[r]]||(t[e[r]]=!0,n.push(e[r]));return n}function s(e,t){var n=0,r=0,i=[];e=e.sort(),t=t.sort();for(var o=e.length,s=t.length;o>n&&s>r;)e[n]<t[r]?n++:e[n]>t[r]?r++:(i.push(e[n]),n++,r++);return i}var a="c",u="i";return t.mixin(n.prototype,{bootstrap:function(e){this.datums=e.datums,this.trie=e.trie},add:function(e){var n=this;e=t.isArray(e)?e:[e],t.each(e,function(e){var o,s;n.datums[o=n.identify(e)]=e,s=r(n.datumTokenizer(e)),t.each(s,function(e){var t,r,s;for(t=n.trie,r=e.split("");s=r.shift();)t=t[a][s]||(t[a][s]=i()),t[u].push(o)})})},get:function(e){var n=this;return t.map(e,function(e){return n.datums[e]})},search:function(e){var n,i,c=this;return n=r(this.queryTokenizer(e)),t.each(n,function(e){var t,n,r,o;if(i&&0===i.length)return!1;for(t=c.trie,n=e.split("");t&&(r=n.shift());)t=t[a][r];return t&&0===n.length?(o=t[u].slice(0),void(i=i?s(i,o):o)):(i=[],!1)}),i?t.map(o(i),function(e){return c.datums[e]}):[]},all:function(){var e=[];for(var t in this.datums)e.push(this.datums[t]);return e},reset:function(){this.datums={},this.trie=i()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),u=function(){"use strict";function e(e){this.url=e.url,this.ttl=e.ttl,this.cache=e.cache,this.prepare=e.prepare,this.transform=e.transform,this.transport=e.transport,this.thumbprint=e.thumbprint,this.storage=new o(e.cacheKey)}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},t.mixin(e.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(e){this.cache&&(this.storage.set(n.data,e,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var e,t={};return this.cache?(t.data=this.storage.get(n.data),t.protocol=this.storage.get(n.protocol),t.thumbprint=this.storage.get(n.thumbprint),e=t.thumbprint!==this.thumbprint||t.protocol!==location.protocol,t.data&&!e?t.data:null):null},fromNetwork:function(e){function t(){e(!0)}function n(t){e(null,i.transform(t))}var r,i=this;e&&(r=this.prepare(this._settings()),this.transport(r).fail(t).done(n))},clear:function(){return this.storage.clear(),this}}),e}(),c=function(){"use strict";function e(e){this.url=e.url,this.prepare=e.prepare,this.transform=e.transform,this.transport=new s({cache:e.cache,limiter:e.limiter,transport:e.transport})}return t.mixin(e.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(e,t){function n(e,n){t(e?[]:i.transform(n))}var r,i=this;return t?(e=e||"",r=this.prepare(e,this._settings()),this.transport.get(r,n)):void 0},cancelLastRequest:function(){this.transport.cancel()}}),e}(),l=function(){"use strict";function r(r){var i;return r?(i={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:t.identity,transform:t.identity,transport:null},r=t.isString(r)?{url:r}:r,r=t.mixin(i,r),!r.url&&e.error("prefetch requires url to be set"),r.transform=r.filter||r.transform,r.cacheKey=r.cacheKey||r.url,r.thumbprint=n+r.thumbprint,r.transport=r.transport?a(r.transport):e.ajax,r):null}function i(n){var r;return n?(r={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:t.identity,transport:null},n=t.isString(n)?{url:n}:n,n=t.mixin(r,n),!n.url&&e.error("remote requires url to be set"),n.transform=n.filter||n.transform,n.prepare=o(n),n.limiter=s(n),n.transport=n.transport?a(n.transport):e.ajax,delete n.replace,delete n.wildcard,delete n.rateLimitBy,delete n.rateLimitWait,n):void 0}function o(e){function t(e,t){return t.url=o(t.url,e),t}function n(e,t){return t.url=t.url.replace(s,encodeURIComponent(e)),t}function r(e,t){return t}var i,o,s;return i=e.prepare,o=e.replace,s=e.wildcard,i?i:i=o?t:e.wildcard?n:r}function s(e){function n(e){return function(n){return t.debounce(n,e)}}function r(e){return function(n){return t.throttle(n,e)}}var i,o,s;return i=e.limiter,o=e.rateLimitBy,s=e.rateLimitWait,i||(i=/^throttle$/i.test(o)?r(s):n(s)),i}function a(n){return function(r){function i(e){t.defer(function(){s.resolve(e)})}function o(e){t.defer(function(){s.reject(e)})}var s=e.Deferred();return n(r,i,o),s}}return function(n){var o,s;return o={initialize:!0,identify:t.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},n=t.mixin(o,n||{}),!n.datumTokenizer&&e.error("datumTokenizer is required"),!n.queryTokenizer&&e.error("queryTokenizer is required"),s=n.sorter,n.sorter=s?function(e){return e.sort(s)}:t.identity,n.local=t.isFunction(n.local)?n.local():n.local,n.prefetch=r(n.prefetch),n.remote=i(n.remote),n}}(),h=function(){"use strict";function n(e){e=l(e),this.sorter=e.sorter,this.identify=e.identify,this.sufficient=e.sufficient,this.local=e.local,this.remote=e.remote?new c(e.remote):null,this.prefetch=e.prefetch?new u(e.prefetch):null,this.index=new a({identify:this.identify,datumTokenizer:e.datumTokenizer,queryTokenizer:e.queryTokenizer}),e.initialize!==!1&&this.initialize()}var i;return i=window&&window.Bloodhound,n.noConflict=function(){return window&&(window.Bloodhound=i),n},n.tokenizers=r,t.mixin(n.prototype,{__ttAdapter:function(){function e(e,t,r){return n.search(e,t,r)}function t(e,t){return n.search(e,t)}var n=this;return this.remote?e:t},_loadPrefetch:function(){function t(e,t){return e?n.reject():(i.add(t),i.prefetch.store(i.index.serialize()),void n.resolve())}var n,r,i=this;return n=e.Deferred(),this.prefetch?(r=this.prefetch.fromCache())?(this.index.bootstrap(r),n.resolve()):this.prefetch.fromNetwork(t):n.resolve(),n.promise()},_initialize:function(){function e(){t.add(t.local)}var t=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(e),this.initPromise},initialize:function(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function(e){return this.index.add(e),this},get:function(e){return e=t.isArray(e)?e:[].slice.call(arguments),this.index.get(e)},search:function(e,n,r){function i(e){var n=[];t.each(e,function(e){!t.some(o,function(t){return s.identify(e)===s.identify(t)})&&n.push(e)}),r&&r(n)}var o,s=this;return o=this.sorter(this.index.search(e)),n(this.remote?o.slice():o),this.remote&&o.length<this.sufficient?this.remote.get(e,i):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return s.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),n}();return h}),function(e,t){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(this,function(e){var t=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return"undefined"==typeof e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(t){return t instanceof e},toStr:function(e){return t.isUndefined(e)||null===e?"":e+""},bind:e.proxy,each:function(t,n){function r(e,t){return n(t,e)}e.each(t,r)},map:e.map,filter:e.grep,every:function(t,n){var r=!0;return t?(e.each(t,function(e,i){return(r=n.call(null,i,e,t))?void 0:!1}),!!r):r},some:function(t,n){var r=!1;return t?(e.each(t,function(e,i){return(r=n.call(null,i,e,t))?!1:void 0}),!!r):r},mixin:e.extend,identity:function(e){return e},clone:function(t){return e.extend(!0,{},t)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(t){function n(){return String(t)}return e.isFunction(t)?t:n},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var r,i;return function(){var o,s,a=this,u=arguments;return o=function(){r=null,n||(i=e.apply(a,u))},s=n&&!r,clearTimeout(r),r=setTimeout(o,t),s&&(i=e.apply(a,u)),i}},throttle:function(e,t){var n,r,i,o,s,a;return s=0,a=function(){s=new Date,i=null,o=e.apply(n,r)},function(){var u=new Date,c=t-(u-s);return n=this,r=arguments,0>=c?(clearTimeout(i),i=null,s=u,o=e.apply(n,r)):i||(i=setTimeout(a,c)),o}},stringify:function(e){return t.isString(e)?e:JSON.stringify(e)},noop:function(){}}}(),n=function(){"use strict";function e(e){var s,a;return a=t.mixin({},o,e),s={css:i(),classes:a,html:n(a),selectors:r(a)},{css:s.css,html:s.html,classes:s.classes,selectors:s.selectors,mixin:function(e){t.mixin(e,s)}}}function n(e){return{wrapper:'<span class="'+e.wrapper+'"></span>',menu:'<div class="'+e.menu+'"></div>'}}function r(e){var n={};return t.each(e,function(e,t){n[t]="."+e}),n}function i(){var e={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return t.isMsie()&&t.mixin(e.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),e}var o={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return e}(),r=function(){"use strict";function n(t){t&&t.el||e.error("EventBus initialized without el"),this.$el=e(t.el)}var r,i;return r="typeahead:",i={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},t.mixin(n.prototype,{_trigger:function(t,n){var i;return i=e.Event(r+t),(n=n||[]).unshift(i),this.$el.trigger.apply(this.$el,n),i},before:function(e){var t,n;return t=[].slice.call(arguments,1),n=this._trigger("before"+e,t),n.isDefaultPrevented()},trigger:function(e){var t;this._trigger(e,[].slice.call(arguments,1)),(t=i[e])&&this._trigger(t,[].slice.call(arguments,1))}}),n}(),i=function(){"use strict";function e(e,t,n,r){var i;if(!n)return this;for(t=t.split(u),n=r?a(n,r):n,this._callbacks=this._callbacks||{};i=t.shift();)this._callbacks[i]=this._callbacks[i]||{sync:[],async:[]},this._callbacks[i][e].push(n);return this}function t(t,n,r){return e.call(this,"async",t,n,r)}function n(t,n,r){return e.call(this,"sync",t,n,r)}function r(e){var t;if(!this._callbacks)return this;for(e=e.split(u);t=e.shift();)delete this._callbacks[t];return this}function i(e){var t,n,r,i,s;if(!this._callbacks)return this;for(e=e.split(u),r=[].slice.call(arguments,1);(t=e.shift())&&(n=this._callbacks[t]);)i=o(n.sync,this,[t].concat(r)),s=o(n.async,this,[t].concat(r)),i()&&c(s);return this}function o(e,t,n){function r(){for(var r,i=0,o=e.length;!r&&o>i;i+=1)r=e[i].apply(t,n)===!1;return!r}return r}function s(){var e;return e=window.setImmediate?function(e){setImmediate(function(){e()})}:function(e){setTimeout(function(){e()},0)}}function a(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}var u=/\s+/,c=s();return{onSync:n,onAsync:t,off:r,trigger:i}}(),o=function(e){"use strict";function n(e,n,r){for(var i,o=[],s=0,a=e.length;a>s;s++)o.push(t.escapeRegExChars(e[s]));return i=r?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",n?new RegExp(i):new RegExp(i,"i")}var r={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(i){function o(t){var n,r,o;return(n=a.exec(t.data))&&(o=e.createElement(i.tagName),i.className&&(o.className=i.className),r=t.splitText(n.index),r.splitText(n[0].length),o.appendChild(r.cloneNode(!0)),t.parentNode.replaceChild(o,r)),!!n}function s(e,t){for(var n,r=3,i=0;i<e.childNodes.length;i++)n=e.childNodes[i],n.nodeType===r?i+=t(n)?1:0:s(n,t)}var a;i=t.mixin({},r,i),i.node&&i.pattern&&(i.pattern=t.isArray(i.pattern)?i.pattern:[i.pattern],a=n(i.pattern,i.caseSensitive,i.wordsOnly),s(i.node,o))}}(window.document),s=function(){"use strict";function n(n,i){n=n||{},n.input||e.error("input is missing"),i.mixin(this),this.$hint=e(n.hint),this.$input=e(n.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=r(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=t.noop)}function r(t){return e('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function o(e,t){return n.normalizeQuery(e)===n.normalizeQuery(t)}function s(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(e){return t.toStr(e).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},t.mixin(n.prototype,i,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(e){var t=a[e.which||e.keyCode];this._managePreventDefault(t,e),t&&this._shouldTrigger(t,e)&&this.trigger(t+"Keyed",e)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(e,t){var n;switch(e){case"up":case"down":n=!s(t);break;default:n=!1}n&&t.preventDefault()},_shouldTrigger:function(e,t){var n;switch(e){case"tab":n=!s(t);break;default:n=!0}return n},_checkLanguageDirection:function(){var e=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==e&&(this.dir=e,this.$hint.attr("dir",e),this.trigger("langDirChanged",e))},_setQuery:function(e,t){var n,r;n=o(e,this.query),r=n?this.query.length!==e.length:!1,this.query=e,t||n?!t&&r&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var e,n,r,i,o=this;return e=t.bind(this._onBlur,this),n=t.bind(this._onFocus,this),r=t.bind(this._onKeydown,this),i=t.bind(this._onInput,this),this.$input.on("blur.tt",e).on("focus.tt",n).on("keydown.tt",r),!t.isMsie()||t.isMsie()>9?this.$input.on("input.tt",i):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(e){a[e.which||e.keyCode]||t.defer(t.bind(o._onInput,o,e))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(e,t){this.setInputValue(e),this._setQuery(e,t)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(e){this.$input.val(e),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(e){this.$hint.val(e)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var e,t,n,r;e=this.getInputValue(),t=this.getHint(),n=e!==t&&0===t.indexOf(e),r=""!==e&&n&&!this.hasOverflow(),!r&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,n,r;return e=this.$input.val().length,n=this.$input[0].selectionStart,t.isNumber(n)?n===e:document.selection?(r=document.selection.createRange(),r.moveStart("character",-e),e===r.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=e("<div>")}}),n}(),a=function(){"use strict";function n(n,i){n=n||{},n.templates=n.templates||{},n.templates.notFound=n.templates.notFound||n.templates.empty,n.source||e.error("missing source"),n.node||e.error("missing node"),n.name&&!a(n.name)&&e.error("invalid dataset name: "+n.name),i.mixin(this),this.highlight=!!n.highlight,this.name=n.name||c(),this.limit=n.limit||5,this.displayFn=r(n.display||n.displayKey),this.templates=s(n.templates,this.displayFn),this.source=n.source.__ttAdapter?n.source.__ttAdapter():n.source,this.async=t.isUndefined(n.async)?this.source.length>2:!!n.async,this._resetLastSuggestion(),this.$el=e(n.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function r(e){function n(t){return t[e]}return e=e||t.stringify,t.isFunction(e)?e:n}function s(n,r){function i(t){return e("<div>").text(r(t))}return{notFound:n.notFound&&t.templatify(n.notFound),pending:n.pending&&t.templatify(n.pending),header:n.header&&t.templatify(n.header),footer:n.footer&&t.templatify(n.footer),suggestion:n.suggestion||i}}function a(e){return/^[_a-zA-Z0-9-]+$/.test(e)}var u,c;return u={val:"tt-selectable-display",obj:"tt-selectable-object"},c=t.getIdGenerator(),n.extractData=function(t){var n=e(t);return n.data(u.obj)?{val:n.data(u.val)||"",obj:n.data(u.obj)||null}:null},t.mixin(n.prototype,i,{_overwrite:function(e,t){t=t||[],t.length?this._renderSuggestions(e,t):this.async&&this.templates.pending?this._renderPending(e):!this.async&&this.templates.notFound?this._renderNotFound(e):this._empty(),this.trigger("rendered",this.name,t,!1)},_append:function(e,t){t=t||[],t.length&&this.$lastSuggestion.length?this._appendSuggestions(e,t):t.length?this._renderSuggestions(e,t):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(e),this.trigger("rendered",this.name,t,!0)},_renderSuggestions:function(e,t){var n;n=this._getSuggestionsFragment(e,t),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(e,t)).append(this._getFooter(e,t))},_appendSuggestions:function(e,t){var n,r;n=this._getSuggestionsFragment(e,t),r=n.children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=r},_renderPending:function(e){var t=this.templates.pending;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_renderNotFound:function(e){var t=this.templates.notFound;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(n,r){var i,s=this;return i=document.createDocumentFragment(),t.each(r,function(t){var r,o;o=s._injectQuery(n,t),r=e(s.templates.suggestion(o)).data(u.obj,t).data(u.val,s.displayFn(t)).addClass(s.classes.suggestion+" "+s.classes.selectable),i.appendChild(r[0])}),this.highlight&&o({className:this.classes.highlight,node:i,pattern:n}),e(i)},_getFooter:function(e,t){return this.templates.footer?this.templates.footer({query:e,suggestions:t,dataset:this.name}):null},_getHeader:function(e,t){return this.templates.header?this.templates.header({query:e,suggestions:t,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=e()},_injectQuery:function(e,n){return t.isObject(n)?t.mixin({_query:e},n):n},update:function(t){function n(e){s||(s=!0,e=(e||[]).slice(0,i.limit),a=e.length,i._overwrite(t,e),a<i.limit&&i.async&&i.trigger("asyncRequested",t))}function r(n){n=n||[],!o&&a<i.limit&&(i.cancel=e.noop,a+=n.length,i._append(t,n.slice(0,i.limit-a)),i.async&&i.trigger("asyncReceived",t))}var i=this,o=!1,s=!1,a=0;this.cancel(),this.cancel=function(){o=!0,i.cancel=e.noop,i.async&&i.trigger("asyncCanceled",t)},this.source(t,n,r),!s&&n([])},cancel:e.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=e("<div>")}}),n}(),u=function(){"use strict";function n(n,r){function i(t){var n=o.$node.find(t.node).first();return t.node=n.length?n:e("<div>").appendTo(o.$node),new a(t,r)}var o=this;n=n||{},n.node||e.error("node is required"),r.mixin(this),this.$node=e(n.node),this.query=null,this.datasets=t.map(n.datasets,i)}return t.mixin(n.prototype,i,{_onSelectableClick:function(t){this.trigger("selectableClicked",e(t.currentTarget))},_onRendered:function(e,t,n,r){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",t,n,r)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function e(e){return e.isEmpty()}return t.every(this.datasets,e)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var e=this.getActiveSelectable();e&&e.removeClass(this.classes.cursor)},_ensureVisible:function(e){var t,n,r,i;t=e.position().top,n=t+e.outerHeight(!0),r=this.$node.scrollTop(),i=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),0>t?this.$node.scrollTop(r+t):n>i&&this.$node.scrollTop(r+(n-i))},bind:function(){var e,n=this;return e=t.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,e),t.each(this.datasets,function(e){e.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(e){this.$node.attr("dir",e)},selectableRelativeToCursor:function(e){var t,n,r,i;return n=this.getActiveSelectable(),t=this._getSelectables(),r=n?t.index(n):-1,i=r+e,i=(i+1)%(t.length+1)-1,i=-1>i?t.length-1:i,-1===i?null:t.eq(i)},setCursor:function(e){this._removeCursor(),(e=e&&e.first())&&(e.addClass(this.classes.cursor),this._ensureVisible(e))},getSelectableData:function(e){return e&&e.length?a.extractData(e):null},getActiveSelectable:function(){var e=this._getSelectables().filter(this.selectors.cursor).first();return e.length?e:null},getTopSelectable:function(){var e=this._getSelectables().first();return e.length?e:null},update:function(e){function n(t){t.update(e)}var r=e!==this.query;return r&&(this.query=e,t.each(this.datasets,n)),r},empty:function(){function e(e){e.clear()}t.each(this.datasets,e),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function n(e){e.destroy()}this.$node.off(".tt"),this.$node=e("<div>"),t.each(this.datasets,n)}}),n}(),c=function(){"use strict";function e(){u.apply(this,[].slice.call(arguments,0))}var n=u.prototype;return t.mixin(e.prototype,u.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),n.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),n.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(e){return this.$node.css("ltr"===e?this.css.ltr:this.css.rtl),n.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),e}(),l=function(){"use strict";function n(n,i){var o,s,a,u,c,l,h,d,f,p,g;n=n||{},n.input||e.error("missing input"),n.menu||e.error("missing menu"),n.eventBus||e.error("missing event bus"),i.mixin(this),this.eventBus=n.eventBus,this.minLength=t.isNumber(n.minLength)?n.minLength:1,this.input=n.input,this.menu=n.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),o=r(this,"activate","open","_onFocused"),s=r(this,"deactivate","_onBlurred"),a=r(this,"isActive","isOpen","_onEnterKeyed"),u=r(this,"isActive","isOpen","_onTabKeyed"),c=r(this,"isActive","_onEscKeyed"),l=r(this,"isActive","open","_onUpKeyed"),h=r(this,"isActive","open","_onDownKeyed"),d=r(this,"isActive","isOpen","_onLeftKeyed"),f=r(this,"isActive","isOpen","_onRightKeyed"),p=r(this,"_openIfActive","_onQueryChanged"),g=r(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",o,this).onSync("blurred",s,this).onSync("enterKeyed",a,this).onSync("tabKeyed",u,this).onSync("escKeyed",c,this).onSync("upKeyed",l,this).onSync("downKeyed",h,this).onSync("leftKeyed",d,this).onSync("rightKeyed",f,this).onSync("queryChanged",p,this).onSync("whitespaceChanged",g,this).onSync("langDirChanged",this._onLangDirChanged,this)}function r(e){var n=[].slice.call(arguments,1);return function(){var r=[].slice.call(arguments);t.each(n,function(t){return e[t].apply(e,r)})}}return t.mixin(n.prototype,{_hacks:function(){var n,r;n=this.input.$input||e("<div>"),r=this.menu.$node||e("<div>"),n.on("blur.tt",function(e){var i,o,s;i=document.activeElement,o=r.is(i),s=r.has(i).length>0,t.isMsie()&&(o||s)&&(e.preventDefault(),e.stopImmediatePropagation(),t.defer(function(){n.focus()}))}),r.on("mousedown.tt",function(e){e.preventDefault()})},_onSelectableClicked:function(e,t){this.select(t)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(e,t,n,r){this._updateHint(),this.eventBus.trigger("render",n,r,t)},_onAsyncRequested:function(e,t,n){this.eventBus.trigger("asyncrequest",n,t)},_onAsyncCanceled:function(e,t,n){this.eventBus.trigger("asynccancel",n,t)},_onAsyncReceived:function(e,t,n){this.eventBus.trigger("asyncreceive",n,t)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(e,t){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&t.preventDefault()},_onTabKeyed:function(e,t){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&t.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&t.preventDefault()},_onEscKeyed:function(){this.close();
},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(e,t){this._minLengthMet(t)?this.menu.update(t):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(e,t){this.dir!==t&&(this.dir=t,this.menu.setLanguageDirection(t))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(e){return e=t.isString(e)?e:this.input.getQuery()||"",e.length>=this.minLength},_updateHint:function(){var e,n,r,i,o,a,u;e=this.menu.getTopSelectable(),n=this.menu.getSelectableData(e),r=this.input.getInputValue(),!n||t.isBlankString(r)||this.input.hasOverflow()?this.input.clearHint():(i=s.normalizeQuery(r),o=t.escapeRegExChars(i),a=new RegExp("^(?:"+o+")(.+$)","i"),u=a.exec(n.val),u&&this.input.setHint(r+u[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return this.isActive()?!0:!this.isEnabled()||this.eventBus.before("active")?!1:(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return this.isActive()?this.eventBus.before("idle")?!1:(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0):!0},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(e){this.input.setQuery(t.toStr(e))},getVal:function(){return this.input.getQuery()},select:function(e){var t=this.menu.getSelectableData(e);return t&&!this.eventBus.before("select",t.obj)?(this.input.setQuery(t.val,!0),this.eventBus.trigger("select",t.obj),this.close(),!0):!1},autocomplete:function(e){var t,n,r;return t=this.input.getQuery(),n=this.menu.getSelectableData(e),r=n&&t!==n.val,r&&!this.eventBus.before("autocomplete",n.obj)?(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0):!1},moveCursor:function(e){var t,n,r,i,o;return t=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(e),r=this.menu.getSelectableData(n),i=r?r.obj:null,o=this._minLengthMet()&&this.menu.update(t),o||this.eventBus.before("cursorchange",i)?!1:(this.menu.setCursor(n),r?this.input.setInputValue(r.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",i),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),n}();!function(){"use strict";function i(t,n){t.each(function(){var t,r=e(this);(t=r.data(g.typeahead))&&n(t,r)})}function o(e,t){return e.clone().addClass(t.classes.hint).removeData().css(t.css.hint).css(h(e)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function a(e,t){e.data(g.attrs,{dir:e.attr("dir"),autocomplete:e.attr("autocomplete"),spellcheck:e.attr("spellcheck"),style:e.attr("style")}),e.addClass(t.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!e.attr("dir")&&e.attr("dir","auto")}catch(n){}return e}function h(e){return{backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}}function d(e){var n,r;n=e.data(g.www),r=e.parent().filter(n.selectors.wrapper),t.each(e.data(g.attrs),function(n,r){t.isUndefined(n)?e.removeAttr(r):e.attr(r,n)}),e.removeData(g.typeahead).removeData(g.www).removeData(g.attr).removeClass(n.classes.input),r.length&&(e.detach().insertAfter(r),r.remove())}function f(n){var r,i;return r=t.isJQuery(n)||t.isElement(n),i=r?e(n).first():[],i.length?i:null}var p,g,m;p=e.fn.typeahead,g={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},m={initialize:function(i,h){function d(){var n,d,m,v,y,_,w,b,x,j,k;t.each(h,function(e){e.highlight=!!i.highlight}),n=e(this),d=e(p.html.wrapper),m=f(i.hint),v=f(i.menu),y=i.hint!==!1&&!m,_=i.menu!==!1&&!v,y&&(m=o(n,p)),_&&(v=e(p.html.menu).css(p.css.menu)),m&&m.val(""),n=a(n,p),(y||_)&&(d.css(p.css.wrapper),n.css(y?p.css.input:p.css.inputWithNoHint),n.wrap(d).parent().prepend(y?m:null).append(_?v:null)),k=_?c:u,w=new r({el:n}),b=new s({hint:m,input:n},p),x=new k({node:v,datasets:h},p),j=new l({input:b,menu:x,eventBus:w,minLength:i.minLength},p),n.data(g.www,p),n.data(g.typeahead,j)}var p;return h=t.isArray(h)?h:[].slice.call(arguments,1),i=i||{},p=n(i.classNames),this.each(d)},isEnabled:function(){var e;return i(this.first(),function(t){e=t.isEnabled()}),e},enable:function(){return i(this,function(e){e.enable()}),this},disable:function(){return i(this,function(e){e.disable()}),this},isActive:function(){var e;return i(this.first(),function(t){e=t.isActive()}),e},activate:function(){return i(this,function(e){e.activate()}),this},deactivate:function(){return i(this,function(e){e.deactivate()}),this},isOpen:function(){var e;return i(this.first(),function(t){e=t.isOpen()}),e},open:function(){return i(this,function(e){e.open()}),this},close:function(){return i(this,function(e){e.close()}),this},select:function(t){var n=!1,r=e(t);return i(this.first(),function(e){n=e.select(r)}),n},autocomplete:function(t){var n=!1,r=e(t);return i(this.first(),function(e){n=e.autocomplete(r)}),n},moveCursor:function(e){var t=!1;return i(this.first(),function(n){t=n.moveCursor(e)}),t},val:function(e){var t;return arguments.length?(i(this,function(t){t.setVal(e)}),this):(i(this.first(),function(e){t=e.getVal()}),t)},destroy:function(){return i(this,function(e,t){d(t),e.destroy()}),this}},e.fn.typeahead=function(e){return m[e]?m[e].apply(this,[].slice.call(arguments,1)):m.initialize.apply(this,arguments)},e.fn.typeahead.noConflict=function(){return e.fn.typeahead=p,this}}()}),window.jQuery&&function(e){e.extend({xml2json:function(t,n){function r(t,s){if(!t)return null;var a="",u=null,c=null;t.nodeType,i(t.localName||t.nodeName),t.text||t.nodeValue||"";t.childNodes&&t.childNodes.length>0&&e.each(t.childNodes,function(e,t){var n=t.nodeType,s=i(t.localName||t.nodeName),c=t.text||t.nodeValue||"";if(8!=n)if(3!=n&&4!=n&&s)u=u||{},u[s]?(u[s].length||(u[s]=o(u[s])),u[s]=o(u[s]),u[s][u[s].length]=r(t,!0),u[s].length=u[s].length):u[s]=r(t);else{if(c.match(/^\s+$/))return;a+=c.replace(/^\s+/,"").replace(/\s+$/,"")}}),t.attributes&&t.attributes.length>0&&(c={},u=u||{},e.each(t.attributes,function(e,t){var n=i(t.name),r=t.value;c[n]=r,u[n]?(u[cnn]=o(u[cnn]),u[n][u[n].length]=r,u[n].length=u[n].length):u[n]=r})),u&&(u=e.extend(""!=a?new String(a):{},u||{}),a=u.text?[u.text||""].concat([a]):a,a&&(u.text=a),a="");var l=u||a;return n&&(a&&(l={}),a=l.text||a||"",a&&(l.text=a),s||(l=o(l))),l}if(!t)return{};var i=function(e){return String(e||"").replace(/-/g,"_")},o=function(t){return e.isArray(t)||(t=[t]),t.length=t.length,t};if("string"==typeof t&&(t=e.text2xml(t)),t.nodeType){if(3==t.nodeType||4==t.nodeType)return t.nodeValue;var s=9==t.nodeType?t.documentElement:t,a=r(s,!0);return t=null,s=null,a}},text2xml:function(t){return e.parseXML(t)}})}(jQuery),function(){"use strict";var e,t,n,r,i,o=navigator,s=o.userAgent,a=o.appVersion;r=function(){return/Edge/.test(s)?"edge":/OPR/.test(s)?"opera":/YaBrowser/.test(s)?"yandex":/Chrome/.test(s)?"chrome":/Trident\/7/.test(s)?"ie11":/Trident\/6/.test(s)?"ie10":/Trident\/5/.test(s)?"ie9":/Trident\/4/.test(s)?"ie8":/MSIE 7/.test(s)?"ie7":/MSIE 6/.test(s)?"ie6":/msie/.test(s)?"ie":/Firefox/.test(s)?"firefox":/Safari/.test(s)?"safari":/Opera/.test(s)?"opera":/Opera/.test(s)?"yandex":"unknown"},t=r(),i=function(){return/iPhone/.test(a)?"iphone":/iPad/.test(a)?"ipad":/Win/.test(a)?"windows":/Mac/.test(a)?"mac":/Nexus/.test(a)?"nexus":/Android/.test(a)?"android":/Silk/.test(a)?"silk":/NOKIA/.test(a)?"nokia":/PlayBook/.test(a)?"playBook":/X11/.test(a)?"unix":/Linux/.test(a)?"linux":"unknown"},n=i(),e=t+" "+n,document.documentElement.className+=e,navigator.identify={browser:t,os:n}}();var throttle=function(e,t){var n=null;return function(){var r=this,i=arguments;null===n&&(n=setTimeout(function(){e.apply(r,i),n=null},t))}};$(function(){var e,t=$(".js-accordion"),n=!1;$(".uos-tier-inner").hasClass("js-accordion-deeplink")&&(n=!0);var r=function(e,t){var r="uos-js-triggered",i=function(){n||t.addClass(r),e.hasClass(r)?e.removeClass(r):e.addClass(r)};i()},i=function(e){window.location.hash=e},o=function(){setTimeout(function(){$(window.location.hash).trigger("click")},0)};n&&(e=t.length-1,t.each(function(t){id=$(this).html().toLowerCase().slice(0,3).replace(/[^a-zA-Z0-9\.]+/g,""),id=id+"0"+(t+1),$(this).attr("id",id),e==t&&window.location.hash&&o()})),t.on("click",function(){var e=$(this).parent(),t=$($(this).data("group"));n&&i($(this).attr("id")),r(e,t)})}),$(function(){var e,t,n,r,i,o,s,a=[{name:"BSc Accounting and Finance",required:[["economics","mathematics"],[],[]],keywords:["accounting"],url:"https://google.com",copy:"This is a paragraph of copy that is used to futher market the course.",img:"http://placehold.it/260x200"},{name:"MEng Acoustical Engineering",required:[["mathematics"],["physics"],[]],keywords:["music"],url:"https://google.com",copy:"This is a paragraph of copy that is used to futher market the course.",img:"http://placehold.it/260x200"},{name:"MEng Aeronautics & Astronautics",required:[["mathematics"],["physics"],[]],keywords:[],url:"https://www.southampton.ac.uk/engineering/undergraduate/courses/aerospace/h401_meng_aeronautics_and_astronautics.page",copy:"This four-year integrated masters in Aeronautics and Astronautics offers you the opportunity to study a more extensive range of advanced aerospace subjects than the BEng course. Students can also take the Industrial Placement Year, providing the opportunity for a year-long placement with an engineering-based organisation.",img:"https://cdn.southampton.ac.uk/assets/imported/transforms/site/ug-programme/BackgroundImage_Image/9BCD7D48F416468C8633B583AF7ACC7A/BEng%20Aero%20Astro.jpg_SIA_JPG_fit_to_width_WATERMARK.jpg"},{name:"MEng Aeronautics & Astronautics / Aerodynamics",required:[["mathematics"],["physics"],[]],keywords:[],url:"https://www.southampton.ac.uk/engineering/undergraduate/courses/aerospace/h490_meng_aeronautics_and_astronautics_aerodynamics.page",copy:"Aerodynamic behaviour is a major influence in the design of next-generation aircrafts. Our integrated masters, Aeronautics and Astronautics/Aerodynamics, is a four-year course where you will learn how to predict the aerodynamic behaviour of an aircraft and other vehicles.",img:"https://cdn.southampton.ac.uk/assets/imported/transforms/site/ug-programme/BackgroundImage_Image/EEA98C9126AB44E3B3471202A8FDA82A/MEng Aero Astro Aerodynamics.jpg_SIA_JPG_fit_to_width_WATERMARK.jpg"},{name:"BSc Sociology with Anthropology",required:[[],[],[]],keywords:["ancient history","history","archaeology","sociology","psychology","anthropology"],url:"https://www.southampton.ac.uk/sociology/undergraduate/courses/l3l6_bsc_sociology_with_anthropology.page",copy:"This degree offers a chance to understand and appreciate the rich complexity of human life in the 21st century while exploring two disciplines within an exciting and unique fusion of debates that explore human life.",img:""},{name:"BA Archaeology",required:[[],[],[]],keywords:["ancient history","history","archaeology","classical civilisation","classics"],url:"https://www.southampton.ac.uk/humanities/undergraduate/courses/archaeology/V400_ba_archaeology.page",copy:"A degree in archaeology will open up new worlds! Whether in the laboratory or in the library, you will develop a wide variety of transferrable skills whilst exploring questions about people in the past and in the present.",img:""},{name:"BA Archaeology and Geography",required:[["geography"],[],[]],keywords:["ancient history","history","archaeology","classical civilisation","classics"],url:"https://www.southampton.ac.uk/humanities/undergraduate/courses/archaeology/vl47_ba_archaeology_and_geography.page",copy:"A degree in archaeology will open up new worlds. Whether in the laboratory or the library, you will explore a range of questions about people in the past.",img:""},{name:"MPhys with Astronomy",required:[["mathematics","physics"],[],[]],keywords:[],url:"https://google.com",copy:"Our four-year MPhys Physics with Astronomy degree gives a more advanced understanding of high-energy astronomy and compact objects with the opportunity for an intensive period of astronomical observation at the Izana Observatory, Tenerife. Key areas covered include the physics of the solar system, stellar evolution, galaxies and cosmology.",img:"http://www.phys.soton.ac.uk/sites/www.phys.soton.ac.uk/files/Space1.jpg"},{name:"BSc Biochemistry",required:[["chemistry"],["biology","human biology","physics","mathematics","psychology","environmental science","geology"],[]],keywords:[],url:"https://www.southampton.ac.uk/biosci/undergraduate/courses/c700_bsc_biochemistry.page",copy:"Investigate the building blocks of life and delve deeply into drug discovery and design as you learn at the cutting edge of biochemical research with Southamptonâ€™s BSc Biochemistry course.",img:"https://cdn.southampton.ac.uk/assets/imported/transforms/site/ug-programme/BackgroundImage_Image/11EB3D9B2BAD4383A828FBE4DDE19568/BioSci background.jpg_SIA_JPG_fit_to_width_WATERMARK.jpg"},{name:"MSci Biology",required:[["biology"],["chemistry","mathematics","psychology","environmental science","geology","geography"],[]],keywords:[],url:"https://www.southampton.ac.uk/biosci/undergraduate/courses/c101-msci-biology.page",copy:"Discover how biological science can answer todayâ€™s key challenges and gain an advanced understanding of life processes, with Southamptonâ€™s MSci Biology programme.",img:"https://cdn.southampton.ac.uk/assets/imported/transforms/site/ug-programme/BackgroundImage_Image/11EB3D9B2BAD4383A828FBE4DDE19568/BioSci%20background.jpg_SIA_JPG_fit_to_width_WATERMARK.jpg"},{name:"MEng Biomedical Electronic Engineering",required:[["mathematics"],["physics","chemistry","further mathematics","biology"],[]],keywords:["electronics","engineering"],url:"http://www.ecs.soton.ac.uk/programmes/meng-biomedical-electronic-engineering",copy:"Our four year year MEng degree in Biomedical Electronic Engineering, available for entry in autumn 2017, explores the application of state of the art electronic engineering theory and practice to develop new medical and healthcare technologies.",img:"http://www.ecs.soton.ac.uk/sites/www.ecs.soton.ac.uk/files/Mountbatten%20and%20Zepler_11.png"},{name:"BSc Biomedical Sciences",required:[["biology","chemistry"],["chemistry","biology","human biology","physics","mathematics","psychology","environmental science","geology","geography"],[]],keywords:[],url:"https://www.southampton.ac.uk/biosci/undergraduate/courses/b940_bsc_biomedical_sciences.page",copy:"Study the mechanisms of life and the underlying causes of human disease with Southamptonâ€™s BSc Biomedical Sciences degree.",img:"https://cdn.southampton.ac.uk/assets/imported/transforms/site/ug-programme/BackgroundImage_Image/11EB3D9B2BAD4383A828FBE4DDE19568/BioSci background.jpg_SIA_JPG_fit_to_width_WATERMARK.jpg"},{name:"MChem Chemistry",required:[["chemistry"],["biology","human biology","mathematics","further mathematics","physics","psychology","geology","geography"],[]],keywords:[],url:"https://www.southampton.ac.uk/chemistry/undergraduate/courses/f103_mchem_chemistry.page",copy:"Our MChem in-house programme builds on the robust foundation of the BSc to expand the breadth and depth of your core chemistry knowledge and prepare you for a research degree or a career specialising in chemistry.",img:"https://cdn.southampton.ac.uk/assets/imported/transforms/site/ug-programme/BackgroundImage_Image/095FC05EA81B4ECFA7EBBFE8F13D854F/UG - Optional background image_chemistry.jpg_SIA_JPG_fit_to_width_WATERMARK.jpg"},{name:"MChem Chemistry with Maths",required:[["chemistry"],["mathematics"],["biology","human biology","further mathematics","physics","psychology","geology","geography"]],keywords:[],url:"https://www.southampton.ac.uk/chemistry/undergraduate/courses/f1gc_mchem_chemistry_maths_combined.page",copy:"Explore your passion for Chemistry and Mathematics to an advanced level with Southamptonâ€™s MChem Chemistry with Mathematics programme.",img:"https://cdn.southampton.ac.uk/assets/imported/transforms/site/ug-programme/BackgroundImage_Image/095FC05EA81B4ECFA7EBBFE8F13D854F/UG%20-%20Optional%20background%20image_chemistry.jpg_SIA_JPG_fit_to_width_WATERMARK.jpg"},{name:"MEng Civil Engineering",required:[["mathematics"],["physics","chemistry","biology","geography","geology","further mathematics"],[]],keywords:["engineering"],url:"https://www.southampton.ac.uk/engineering/undergraduate/courses/civil_engineering/h201_meng_civil_engineering.page",copy:"Our four-year MEng Civil Engineering is identical to the BEng for the first three years. The additional masters year focuses on design, management and teamwork â€“ key skills that are highly valued by employers. Students can also take the Industrial Placement Year, providing the opportunity for a year-long placement with an engineering-based organisation.",img:"https://cdn.southampton.ac.uk/assets/imported/transforms/site/ug-programme/BackgroundImage_Image/160446A717354EBDB6B0CE3EC4F4AEF2/MEng%20Civil%20Engineering.JPG_SIA_JPG_fit_to_width_WATERMARK.jpg"},{name:"MEng Civil and Environmental Engineering",required:[["mathematics"],["physics","chemistry","biology","geography","geology","further mathematics"],[]],keywords:["engineering","environmental studies","environmental management"],url:"https://www.southampton.ac.uk/engineering/undergraduate/courses/civil_engineering/4sy8_meng_environmental_engineering.page",copy:"Our four-year MEng Civil and Environmental Engineering course emphasises the interactions between engineering and the environment with a focus on the protection and improvement of the natural environment in the service of society.",img:""},{name:"MEng Computer Science",required:[["mathematics"],[],[]],keywords:["computer science","computing","information and communications technology","further mathematics","applied information and communication technology"],url:"http://www.ecs.soton.ac.uk/programmes/g401-meng-computer-science-4-yrs",copy:"This four-year MEng Computer Science degree prepares for the next generation of systems and software by giving the opportunity to study complexity theory, social media technology and biologically inspired robotics. It provides a wide choice of advanced technical options with an emphasis on engineering design, management and industrial collaboration in the fourth year.",img:"http://www.ecs.soton.ac.uk/sites/www.ecs.soton.ac.uk/files/Mountbatten%20and%20Zepler_15.png"},{name:"MEng Computer Science with Mobile and Secure Systems",required:[["mathematics"],[],[]],keywords:["computer science","computing","information and communications technology","further mathematics","applied information and communication technology"],url:"http://www.ecs.soton.ac.uk/programmes/g421-meng-computer-science-mobile-and-secure-systems-4-yrs",copy:"Our four-year MEng Computer Science with Mobile and Secure Systems degree provides a thorough grounding in the field of computer science. You will then have the opportunity to specialise and explore the emerging technologies of Mobile and Secure Systems including dedicated laboratory modules to familiarise you with hand-held low-power devices.",img:"http://www.ecs.soton.ac.uk/sites/www.ecs.soton.ac.uk/files/Mountbatten%20and%20Zepler_15.png"},{name:"BSc Criminology and Psychology",required:[[],[],[]],keywords:["psychology","sociology"],url:"https://www.southampton.ac.uk/sociology/undergraduate/courses/lc68_bsc_criminology_and_psychology.page",copy:"This programme combines the study of criminology with the study of psychology and allows you to explore the unique aspects of two complementary subjects whose practitioners increasingly share ideas, approaches and research interests. The programme is accredited by the British Psychological Society.",img:""},{name:"BSc Quantitative Social Science",required:[["mathematics","economics","geography","psychology"],[],[]],keywords:["sociology"],url:"https://www.southampton.ac.uk/demography/undergraduate/courses/l90b-bsc-quantitative-social-science.page",copy:"The aim of the BSc in Quantitative Social Science is to provide students with a broad understanding of the social world alongside a rigorous training in quantitative techniques and data analysis skills.",img:""},{name:"BSc Ecology & Conservation",required:[["biology"],["chemistry","physics","mathematics","psychology","environmental science","geology","geography"],[]],keywords:[],url:"https://www.southampton.ac.uk/biosci/undergraduate/courses/c181-bsc-ecology.page",copy:"Develop your passion for the natural environment and equip yourself with the skills to work in conservation and ecology with Southamptonâ€™s three-year BSc Ecology & Conservation degree.",img:"https://cdn.southampton.ac.uk/assets/imported/transforms/site/ug-programme/BackgroundImage_Image/124D7D7A40574817902E57642A25C0E4/jaguar_REF.jpg_SIA_JPG_fit_to_width_WATERMARK.jpg"},{name:"BSc Politics & Economics",required:[["mathematics","physics","statistics"],[],[]],keywords:["government and politics","economics","economics and business"],url:"https://www.southampton.ac.uk/politics/undergraduate/courses/ll12_bsc_politics_and_economics.page",copy:"Our BSc Politics and Economics provides a thorough grounding in both politics and economics, with a range of option modules allowing you to select specialist areas to suit your interests.",img:""},{name:"BSc MORSE (Mathematics, Operational Research, Statistics and Economics)",required:[["mathematics"],[],[]],keywords:["economics","economics and business"],url:"https://www.southampton.ac.uk/maths/undergraduate/courses/gl12_morse.page",copy:"BSc MORSE is a broad-based programme covering topics in mathematics, operational research, statistics and economics. These different topics all rely on using mathematical methods to formulate, model, analyse and solve a wide range of problems in business, commerce and industry. ",img:""},{name:"BSc Education and Psychology",required:[[],[],[]],keywords:["psychology"],url:"https://www.southampton.ac.uk/education/undergraduate/courses/cx83_bsc_education_and_psychology.page",copy:"This BSc (Hons) in Education and Psychology degree is taught jointly within the Schools of Education and Psychology. You may also like to look at the single-honours BSc Education and BSc Psychology courses.",img:""},{name:"BEng Electrical and Electronic Engineering",required:[["mathematics"],["physics"],[]],keywords:["further mathematics","electronics"],url:"http://www.ecs.soton.ac.uk/programmes/h600-beng-electrical-and-electronic-engineering-3-yrs",copy:"Our three-year highly technical Electrical and Electronic Engineering BEng degree course will enable you to gain strong theoretical and practical skills in electrical and electronic engineering and provides the opportunity to collaborate with academics working at the cutting edge of research.",img:"http://www.ecs.soton.ac.uk/sites/www.ecs.soton.ac.uk/files/Mountbatten%20and%20Zepler_21.png"},{name:"MEng Electronic Engineering",required:[["mathematics"],["physics","computer science","electronics","further mathematics"],[]],keywords:[],url:"http://www.ecs.soton.ac.uk/programmes/h603-meng-electronic-engineering-4-yrs",copy:"Our MEng Electronic Engineering degree will develop the knowledge to engineer the electronic signals critical to the world around us. This four-year course will equip you with a wide range of skills at the leading edge of technology, highly sought after by employers in electronics and information engineering.",img:"http://www.ecs.soton.ac.uk/sites/www.ecs.soton.ac.uk/files/Mountbatten%20and%20Zepler_21.png"},{name:"BA English",required:[["english literature","history","english language and literature","english language","drama and theatre studies"],[],[]],keywords:["creative writing"],url:"https://www.southampton.ac.uk/humanities/undergraduate/courses/english/q300_ba_english.page",copy:"An English degree at Southampton is made up of a broad range of imaginative modules that enable you to chart your own path through the history, theory, and practice of literature in English. You will explore the writing that inspires and challenges you with the help of specialist scholars, creative writers, and internationally recognised researchers who are as passionate about literature as you are.",img:"https://cdn.southampton.ac.uk/assets/imported/transforms/site/ug-programme/BackgroundImage_Image/EA5A801B63BE4C8C8AFFCE0E96D49AEF/800x600.jpg_SIA_JPG_fit_to_width_WATERMARK.jpg"},{name:"BA English and Music (with Year Abroad)",required:[["english literature","history","english language and literature","english language","drama and theatre studies"],["music"],[]],keywords:["creative writing"],url:"https://www.southampton.ac.uk/humanities/undergraduate/courses/english/qw34_ba_english_and_music_with_year_abroad.page",copy:"An English degree at Southampton is made up of a broad range of imaginative modules that enable you to chart your own path through the history, theory, and practice of literature in English. You will explore the writing that inspires and challenges you with the help of specialist scholars, creative writers, and internationally recognised researchers who are as passionate about literature as you are.",img:"https://cdn.southampton.ac.uk/assets/imported/transforms/site/ug-programme/BackgroundImage_Image/EA5A801B63BE4C8C8AFFCE0E96D49AEF/800x600.jpg_SIA_JPG_fit_to_width_WATERMARK.jpg"},{name:"BSc Environmental Science",required:[["geography","biology","chemistry","physics","mathematics","psychology","geology","environmental studies"],["geography","biology","chemistry","physics","mathematics","psychology","geology","environmental studies"],[]],keywords:[],url:"https://www.southampton.ac.uk/engineering/undergraduate/courses/environmental_sciences/f900_bsc_environmental_sciences.page",copy:"This three-year interdisciplinary course covers core environmental science topics with the opportunity to specialise in a diverse and exciting range of subject areas.",img:"https://cdn.southampton.ac.uk/assets/imported/transforms/site/ug-programme/BackgroundImage_Image/9E9A5AB2DE0B46699C22D21011553A37/BSc%20Environmental%20Sciences.jpg_SIA_JPG_fit_to_width_WATERMARK.jpg"},{name:"BSc Environmental Monitoring and Modelling",required:[["mathematics"],["physics"],[]],keywords:["environmental studies","geography"],url:"https://www.southampton.ac.uk/engineering/undergraduate/courses/environmental_sciences/f751_bsc_environmental_monitoring_and_modelling.page",copy:"The latest in monitoring and modelling techniques are explored in this three-year environmental science course, preparing you to tackle global environmental problems.",img:"https://cdn.southampton.ac.uk/assets/imported/transforms/site/ug-programme/BackgroundImage_Image/CAD384F0765D442F94B3343386A3D0EB/BSc Environmental Monitoring and Modelling.jpg_SIA_JPG_fit_to_width_WATERMARK.jpg"},{name:"BA Film Studies",required:[["english literature","english language and literature","history","philosophy","film studies"],[],[]],keywords:["moving image arts"],url:"https://www.southampton.ac.uk/humanities/undergraduate/courses/film_studies/p303_ba_film_studies.page",copy:"Film studies is an exciting and challenging subject that provides a critical understanding of film as popular entertainment, theoretical discipline, industry and art form.",img:""},{name:"BA Film and French",required:[["french"],[],[]],keywords:["film studies","english literature","english language and literature","history","philosophy","moving image arts"],url:"https://www.southampton.ac.uk/humanities/undergraduate/courses/modern_languages_french_studies/rw16_ba_film_and_french.page",copy:"Film studies is an exciting and challenging subject that provides a critical understanding of film as popular entertainment, theoretical discipline, industry and art form.",img:""},{name:"BA Fine Art",required:[["art and design","applied art and design","design and technology","design and textiles","graphic design"],[],[]],keywords:[],url:"https://www.southampton.ac.uk/wsa/undergraduate/courses/w190_ba_fine_art.page",copy:"The programme encompasses image-making of all kinds, text-based work, time-based digital outputs and performance.",img:""},{name:"BA French and History",required:[["french","history"],[],[]],keywords:[],url:"https://www.southampton.ac.uk/humanities/undergraduate/courses/modern_languages_french_studies/rv11_ba_french_and_history.page",copy:"History explores a rich array of past cultures- ancient, medieval and modern. It sharpens your insight into how societies functioned in the past, encouraging a more critical awareness of the problems of the present.",img:""},{name:"BA French and Portuguese",required:[["french","portugese"],[],[]],keywords:[],url:"https://www.southampton.ac.uk/humanities/undergraduate/courses/modern_languages_spanish_portuguese_latin_american_studies/rr15_ba_french_and_portuguese.page",copy:"French is a key international language, native to France, Belgium, Switzerland, Canada and the French Caribbean, and an official language in much of Africa and Asia.",img:"https://cdn.southampton.ac.uk/assets/imported/transforms/site/ug-programme/BackgroundImage_Image/90DA03CC70DE42AE8FD9C7C8D0C1DB9F/Shore.jpeg_SIA_JPG_fit_to_width_WATERMARK.jpg"},{name:"MSci Oceanography with French",required:[["biology","chemistry","geography","geology","mathematics","environmental studies","physics"],["biology","chemistry","geography","geology","mathematics","environmental studies","physics"],["french"]],keywords:["marine science"],url:"https://www.southampton.ac.uk/oes/undergraduate/courses/oceanography/f7r1_msci_oceanography_with_french.page",copy:"Gain the essential skills required for a career in Europe by studying Southamptonâ€™s MSci Oceanography with French.",img:""},{name:"BSc Oceanography with Physical Geography",required:[["geography"],["biology","chemistry","geology","mathematics","enviornmental studies","physics"],[]],keywords:["marine science"],url:"https://www.southampton.ac.uk/oes/undergraduate/courses/oceanography/f7f8_bsc_oceanography_with_physical_geography.page",copy:"Combine the studies of the ocean and the land with Southamptonâ€™s BSc Oceanography with Physical Geography. Our unique interdisciplinary degree will develop your understanding of our marine environment and how it interacts with the Earthâ€™s processes.",img:"https://cdn.southampton.ac.uk/assets/imported/transforms/site/ug-programme/BackgroundImage_Image/06EF187F6770454C9034517AE138ECA9/Biogeography.jpeg_SIA_JPG_fit_to_width_WATERMARK.jpg"},{name:"BA (Hons) Games Design and Art",required:[["art and design","design and technology","graphic design"],[],[]],keywords:["computer science","computing"],url:"https://www.southampton.ac.uk/wsa/undergraduate/courses/ba_games_design.page",copy:"The BA (Hons) Games Design and Art programme at Winchester School of Art, University of Southampton, offers you a welcoming, supportive and student-focused environment in which to study.",img:""},{name:"BSc Population and Geography",required:[["geography"],[],[]],keywords:["sociology"],url:"https://www.southampton.ac.uk/demography/undergraduate/courses/l701_bsc_population_and_geography.page",
copy:"This programme offers you the opportunity to study population sciences and human geography, two subjects which are concerned with the ways in which human populations change and the causes and consequences of that change.",img:""},{name:"MSci Geophysics",required:[["mathematics","physics"],[],[]],keywords:["geology","geography"],url:"https://www.southampton.ac.uk/oes/undergraduate/courses/geophysics/f660_msci_geophysics.page",copy:"Explore how physical principles can be applied to processes operating in, on and around our planet, with Southamptonâ€™s MSci Geophysics course.",img:"https://cdn.southampton.ac.uk/assets/imported/transforms/site/ug-programme/BackgroundImage_Image/46D504C812AC44E4AF7A357832E0E3B8/su-31089.jpg_SIA_JPG_fit_to_width_WATERMARK.jpg"},{name:"BSc Geology with Physical Geography",required:[["geography"],["biology","chemistry","geology","mathematics","environmental studies","physics"],[]],keywords:[],url:"https://www.southampton.ac.uk/oes/undergraduate/courses/geology/f6f8_bsc_geology_with_physical_geography.page",copy:"Develop an understanding of the nature and dynamics of the internal and surface processes operating on the Earth today and in the geological past, and explore how they evolved by studying at the heart of one of the UKâ€™s top geology research centres.",img:"https://cdn.southampton.ac.uk/assets/imported/transforms/site/ug-programme/BackgroundImage_Image/7914E96BE4B04E7685C4624432B3CA9B/Geologyfieldworkladies5.jpg_SIA_JPG_fit_to_width_WATERMARK.jpg"},{name:"BA German and Spanish (Linguistic Studies)",required:[["german"],["spanish"],[]],keywords:[],url:"https://www.southampton.ac.uk/humanities/undergraduate/courses/modern_languages_german_studies/n1r2-business-management-and-german.page",copy:"We offer a range of programmes that are quite different in outlook from many more traditional modern languages degrees.",img:""},{name:"BSc Business Management and German",required:[["german"],[],[]],keywords:["mathematics","economics","economics and business","business studies","applied business"],url:"https://www.southampton.ac.uk/humanities/undergraduate/courses/modern_languages_german_studies/n1r2-business-management-and-german.page",copy:"Spoken by over 120 million people and of growing importance in Central and Eastern Europe, German opens up numerous opportunities for language graduates.",img:""},{name:"BA Graphic Arts",required:[["art and design","applied art and design","design and technology","design and textiles","graphic design"],[],[]],keywords:[],url:"https://www.southampton.ac.uk/wsa/undergraduate/courses/w210_ba_graphic_arts.page",copy:"Graphic Arts will develop you as a highly motivated and ambitious student, to have strength and confidence in your own abilities and to be extremely-employable across the range of highly-competitive creative industries.",img:""},{name:"BA Ancient History and Philosophy",required:[["history","english","philosophy","religious studies","classical civilisation"],[],[]],keywords:[],url:"https://www.southampton.ac.uk/humanities/undergraduate/courses/philosophy/v108-ba-ancient-history-and-philosophy.page",copy:"This BA programme will enable you to pursue your interests in Ancient History and Philosophy in depth. You will have the opportunity to study and research to a high level, equipping yourself with specialist knowledge in your chosen areas of study. ",img:""},{name:"BA Modern History and Politics (with a Year Abroad)",required:[["history","english","philosophy","religious studies","classical civilisation"],[],[]],keywords:["government and politics"],url:"https://www.southampton.ac.uk/humanities/undergraduate/courses/history/vl13-ba-modern-history-and-politics-year-abroad.page",copy:"How do we make sense of the events, ideas and problems of the past? History at Southampton challenges you to interpret history of past societies critically and imaginatively.",img:""},{name:"BA Modern Languages",required:[["french","german","spanish","russian","portugese","turkish","urdu","welsh","tamil","chinese","arabic"],["french","german","spanish","russian","portugese","turkish","urdu","welsh","tamil","chinese","arabic"],[]],keywords:[],url:"https://www.southampton.ac.uk/humanities/undergraduate/courses/modern_languages_spanish_portuguese_latin_american_studies/r990_ba_modern_languages.page",copy:"This is a 3-language degree programme which allows you to start the third language from beginners level.",img:""},{name:"BSc Mathematics with Computer Science",required:[["mathematics"],[],[]],keywords:["computer science","computing","further mathematics"],url:"https://www.southampton.ac.uk/maths/undergraduate/courses/g1g4_maths_with_computer_science.page",copy:"How do we know that a complicated programme works under a variety of circumstances? How do we know how long it will take to solve a particular problem? Situations like this are at the interface of computer science and mathematics, and form part of this programme. Computer science has both practical and theoretical aspects.",img:""},{name:"MComp Information Technology in Organisations",required:[[],[],[]],keywords:["computer science","computing","further mathematics","mathematics","business studies"],url:"http://www.ecs.soton.ac.uk/programmes/mcomp-information-technology-organisations",copy:"The MComp Information Technology in Organisations is a four-year integrated master of computing degree and gives you a more advanced understanding of IT in organisations including developing industrial and commercial computer systems, new technologies and e-business approaches, the effects of IT on society, security, e-learning and games.",img:""},{name:"MEng Mechanical Engineering / Biomedical Engineering",required:[["mathematics"],["physics"],[]],keywords:["engineering","biology","human biology"],url:"https://www.southampton.ac.uk/engineering/undergraduate/courses/mechanical_engineering/4R29_meng_mechanical_engineering_biomedical_engineering.page",copy:"Biomedical Engineering is a fast-developing and rewarding field. Healthcare technology development and human factors in engineering feature heavily in this four-year MEng Mechanical Engineering course.",img:""},{name:"BMBS Medicine and BMedSc (BM5)",required:[["chemistry"],["biology"],[]],keywords:["human biology"],url:"https://www.southampton.ac.uk/medicine/undergraduate/courses/bm5_a100.page",copy:"Our Bachelor of Medicine, Bachelor of Surgery 5 year degree programme (BM5) is an established undergraduate degree course, which is taught full-time over five years and leads to a qualification that allows graduates to register provisionally with the General Medical Council (GMC).",img:""},{name:"BSc (Hons) Midwifery",required:[["chemistry","biology","physics","human biology"],[],[]],keywords:["health and social care"],url:"https://www.southampton.ac.uk/healthsciences/undergraduate/courses/bsc_midwifery.page",copy:"Make a lasting impact on the lives of women and their families with a clear understanding of the physiological, sociological and psychological aspects of childbirth.",img:"https://cdn.southampton.ac.uk/assets/imported/transforms/site/ug-programme/BackgroundImage_Image/957D8626922D45DBA4257DABBD9FE5A1/BScMidwifery.jpg_SIA_JPG_fit_to_width_WATERMARK.jpg"},{name:"BA Music and Business Management",required:[["music"],[],[]],keywords:["business studies","applied business"],url:"https://www.southampton.ac.uk/humanities/undergraduate/courses/music/w3n1-ba-music-business-management.page",copy:"Southampton has one of the largest and most diverse music programmes in the UK, offering a high degree of flexibility and student choice.",img:""},{name:"BA Music",required:[["music"],[],[]],keywords:[""],url:"https://www.southampton.ac.uk/humanities/undergraduate/courses/music/w300_ba_music.page",copy:"Southampton has one of the largest and most diverse music programmes in the UK, offering a high degree of flexibility and student choice.",img:""},{name:"MSci Natural Sciences",required:[["chemistry","biology","physics","mathematics"],["chemistry","biology","physics","mathematics"],[]],keywords:["environmental sciences","archaeology","psychology"],url:"https://www.southampton.ac.uk/natsci/find_course/msci_natural_sciences.page",copy:"Our four year integrated Master of Natural Sciences programme is a unique flexible interdisciplinary degree programme that makes it possible for you to design your own degree shaped by your interests in science and by you career aspirations.",img:"https://cdn.southampton.ac.uk/assets/imported/transforms/site/ug-programme/BackgroundImage_Image/4F756F78D1584F0591FEDED7D0D37CE3/natsci-web-2.jpg_SIA_JPG_fit_to_width_WATERMARK.jpg"},{name:"BSc Pharmacology",required:[["chemistry"],["biology","environmental studies","geography","geology","human biology","mathematics","physics","psychology"],[]],keywords:[],url:"https://www.southampton.ac.uk/biosci/undergraduate/courses/b210_bsc_pharmacology.page",copy:"Explore the science of how drugs can treat disease in humans and animals with Southamptonâ€™s BSc Pharmacology.",img:"https://cdn.southampton.ac.uk/assets/imported/transforms/site/ug-programme/BackgroundImage_Image/11EB3D9B2BAD4383A828FBE4DDE19568/BioSci background.jpg_SIA_JPG_fit_to_width_WATERMARK.jpg"},{name:"BA Philosophy, Ethics and Religion",required:[[],[],[]],keywords:["philosophy","religious studies","divinity"],url:"https://www.southampton.ac.uk/humanities/undergraduate/courses/philosophy/v504-ba-philosophy-ethics-and-religion.page",copy:"A Philosophy, Ethics, and Religion degree at Southampton provides you with an excellent and rigorous education exploring fundamental and far-reaching issues.",img:""},{name:"BA Economics and Philosophy",required:[["mathematics","physics","statistics"],[],[]],keywords:["philosophy","english","religious studies","economics","economics and business","classical civilisation","sociology"],url:"https://www.southampton.ac.uk/humanities/undergraduate/courses/philosophy/vl51_ba_economics_and_philosophy.page",copy:"A Philosophy, Ethics, and Religion degree at Southampton provides you with an excellent and rigorous education exploring fundamental and far-reaching issues.",img:""},{name:"MPhys Physics with Photonics",required:[["mathematics"],["physics"],[]],keywords:[],url:"https://www.southampton.ac.uk/humanities/undergraduate/courses/philosophy/vl51_ba_economics_and_philosophy.page",copy:"A Philosophy, Ethics, and Religion degree at Southampton provides you with an excellent and rigorous education exploring fundamental and far-reaching issues.",img:""},{name:"BA Politics and Spanish and Latin American Studies",required:[["spanish"],[],[]],keywords:["goverment and politics","portugese"],url:"https://www.southampton.ac.uk/humanities/undergraduate/courses/modern_languages_spanish_portuguese_latin_american_studies/rl42_ba_politics_and_spanish.page",copy:"At Southampton you can develop your language skills to the full, and deepen your understanding of Spanish- and Portuguese speaking societies and cultures.",img:""},{name:"BSc (Hons) Psychology with Law",required:[[],[],[]],keywords:["psychology","law"],url:"https://www.southampton.ac.uk/psychology/undergraduate/courses/c801-bsc-psychology-with-law.page",copy:"Our programme provides you with a degree with a major in Psychology and a minor in Law. The programme received accreditation from the British Psychological Society (BPS) providing both Graduate Membership and the Graduate Basis for Chartered membership (GBC).",img:""},{name:"MEng Ship Science",required:[["mathematics"],["physics","chemistry","further mathematics","marine science"],[]],keywords:["engineering"],url:"https://www.southampton.ac.uk/engineering/undergraduate/courses/maritime_engineering/j641_meng_ship_science.page",copy:"Our four-year MEng Ship Science degree is taught as an interdisciplinary course covering broader fundamental engineering subjects within ship science discipline.",img:"https://cdn.southampton.ac.uk/assets/imported/transforms/site/ug-programme/BackgroundImage_Image/E02156C894BE4AD680AA38165C451D2C/MEng Ship Science.jpg_SIA_JPG_fit_to_width_WATERMARK.jpg"},{name:"BA Philosophy and Sociology",required:[[],[],[]],keywords:["philosophy","sociology","religious studies","divinity"],url:"https://www.southampton.ac.uk/humanities/undergraduate/courses/philosophy/vl53_philosophy_and_sociology.page",copy:"",img:""},{name:"BSc Sociology",required:[[],[],[]],keywords:["sociology"],url:"https://www.southampton.ac.uk/sociology/undergraduate/courses/l300_bsc_sociology.page",copy:"How do we make sense of the society around us, of how we shape it and how it shapes us? Sociology offers a critical understanding of how society works, and the relationships between individuals, families and groups such as â€œracesâ€ and â€œclassesâ€.",img:""},{name:"MSci Zoology",required:[["biology"],["chemistry","physics","mathematics","psychology","environmental science","geology","geography","linden 2"],[]],keywords:[],url:"https://www.southampton.ac.uk/biosci/undergraduate/courses/c301-msci-zoology.page",copy:"Discover how zoology can be applied to the key challenges affecting our planet today, from the effects of global warming on animal life, to the ecological impact of populations and animals, and the survival of endangered species.",img:""}],u=[],c=$("#js-aggregator"),l="Add additional courses...",h=function(e){for(var t={},n=a.length;n--;){var r=a[n],i=r.required.length;if(!(i>e.length)){var o,s=i,u=[],c=0,l=0,h=0,d=[];if(i)for(r.required=r.required.sort(function(e,t){return e.length-t.length}),d=[],currentMatchedName=[];i--;){var f=r.required[i],p=r.name.toLowerCase();for(f.length>0&&(u.length<=0?u=f:_.union(u,f)),l=e.length;l--;){var g=e[l];if(p.indexOf(g)>-1&&-1==currentMatchedName.indexOf(g)&&(currentMatchedName.push(g),c+=1),!(d.indexOf(g)>-1)){if(o=f.indexOf(g),o>-1){d.push(g),h++,c+=2;break}if(0==f.length){d.push(g),h++,c+=1;break}}}}var m=r.keywords;m>0&&_.union(u,m),d.length>0&&(u=_.difference(u,d));var v=u;if(v)for(l=e.length;l--;)o=u.indexOf(e[l]),o>-1&&c++;r.weight=c,h>=s&&(t[r.name]=r)}}return _.orderBy(t,"weight","desc")},d=function(e){var t=e.keywords.length;if(t){for(var n=[];t--;){var r=e.keywords[t];u.indexOf(r)>-1&&n.push(r)}if(n.length){for(var i=n.length,o=0,s="Recommended due to ";i>o;){var a=n[o];i>=2&&o==i-1?s+=" and ":0!==o&&(s+=", "),s+="<em>"+a+"</em>",o++}return s+="."}}return!1},f=function(e){o.empty();for(var t=e.length;t--;){var n,r=e[t],i=$("<div></div>").addClass("uos-aggregator-result"),s=$("<em></em>").text("#"+(t+1)).addClass("uos-aggregator-rank"),a=$("<h2></h2>").text(r.name),u=$("<p></p>"),c=$("<a></a>").addClass("uos-btn uos-aggregator-cta").text("View course").attr("href",r.url);if(n=$("<div></div>").text(r.copy).addClass("uos-aggregator-copy"),0===t){var l=$("<img />").attr("src",r.img);n.prepend(l),i.addClass("uos-prime")}var h=d(r);h&&u.append(h),i.append(s),i.append(a),i.append(u),i.append(c),i.append(n),o.prepend(i)}},p=function(){n.css("left",r.width()+5);var e,i=u.length;e=i>0?l:s,t.attr("placeholder",e);var o=$prompt.find(".uos-aggregator-prompt-pip");if(o.removeClass("uos-active"),3>=i)for(var a=0;i>a;a++)$(o[a]).addClass("uos-active");var c=h(u);c.length>-1&&f(c)},g=function(){for(var e=[],t=a.length;t--;){for(var n=a[t],r=n.required.length,i=[];r--;)i=_.union(i,n.required[r]);e=_.union(e,n.keywords,i)}return _.orderBy(e)},m=function(){e=c.find("#js-agg-dropdown .uos-aggregator-dropdown-entry"),e.on("click",function(){var e=$(this).data("pill").toLowerCase(),n=$("<div></div>");u.push(e),n.text(e).addClass("uos-pill uos-pill-dismiss"),n.on("click",w),r.append(n),t.val("").focus(),p(),y(!1)})},v=function(){for(var e=g(),n=$("<div></div>"),r=e.length;r--;)if(e[r]){var o=e[r],s=t.val().toLowerCase();if(!(u.indexOf(o)>-1)){var a=o.indexOf(s);if(-1!==a){var c=a+s.length,l=o.slice(a,c),h=o.slice(c,o.length),d=o.slice(0,a),f=d+"<strong>"+l+"</strong>"+h,p=$("<li></li>").addClass("uos-aggregator-dropdown-entry").attr("data-pill",o).html(f);n.prepend(p)}}}i.html(n.html()),m()},y=function(e){var t="uos-enabled";return e?i.addClass(t):void i.removeClass(t)},w=function(){var e=$(this);pillIndex=u.indexOf(e.html()),u.splice(pillIndex,1),e.remove(),p()},b=function(){t.on("keyup",function(e){var t=$(this).val().length;t>=2?(v(),y(!0)):1>=t&&y(!1)})},x=function(){var e=0,n=!0;t.on("keyup",function(t){var r=t.key;if("ArrowDown"==r||"ArrowUp"==r){if($list=i.find("li"),n){n=!1;var o=$list.length-1;return"ArrowDown"==r&&(o=0),void $($list[o]).addClass("uos-navigated")}$($list[e]).removeClass("uos-navigated"),"ArrowDown"==r?e++:e--,e>$list.length-1?e=0:0>e&&(e=$list.length-1),$($list[e]).addClass("uos-navigated")}"Enter"!=r||n||($list=i.find("li"),$($list[e]).click(),e=0,n=!0)})},j=function(){t=c.find("#js-agg-input"),n=c.find("#js-agg-input-wrap"),r=c.find("#js-agg-pills"),o=c.find("#js-agg-results"),i=c.find("#js-agg-dropdown"),$prompt=c.find("#js-agg-prompt"),s=t.attr("placeholder"),b(),x()};c.length&&j()}),$("input[type='radio']").on("change",function(){var e=$(this);e.parents(".uos-btn-group").find("input[type='radio']").attr("aria-checked",!1),e.attr("aria-checked",!0)}),$(function(){var e=$(".uos-blade-menu"),t=$(".uos-header-mobile-trigger"),n="<ul>",r=["home","dist"],i=["","banana"],o=function(e){var t=$.inArray(e,r);return i[t]},s=location.href.split(location.host)[1].split("/"),a=s[1];"blog"==a&&(locsite=s[2]);var u=o(a);void 0!==u&&(s[1]=u);var c;a&&(c=s.toString().replace(".page","").replace(".html",""),c=void 0===u&&0!==a.length?c.replace(/\W+/g,""):c.replace(/\W+/g,"unknown")),dataURL=$(".uos-chrome-header").attr("data-mobile"),t.on("click",function(){var e=$(window).height();$(document).height();$("body").hasClass("uos-js-triggered")?$("body, html").removeAttr("style"):($("body, html").height(e),$(".uos-blade-container").height(e-50)),$("body, html").toggleClass("uos-js-triggered")});var l=function(t){var r=function(e){void 0!==e.pages?(n+=" <span class='uos-blade-more'>"+e.pages.length+" &rsaquo;</span>",n+="<ul>",n+="<li class='uos-blade-back'>&lsaquo; Back</li>",$.each(e.pages,function(){var e=this.url.replace(/(^(https?:)?(\/\/)?[a-zA-Z0-9:.-]*\/)|\/|-|\.page/gm,"").replace("home/","");n+="<li class='"+e+"'><a href='"+this.url+"'>"+this.item+"</a>",r(this)}),n+="</ul></li>"):n+="</li>"},i=function(){var t="uos-blade-active",n=$(".uos-blade-slide"),r=-280,i=e.find("."+c);console.log("------------"),console.log("CurrentURL: ",c),console.log("------------"),0===i.length&&(i=e.find("ul").first().find("li").first()),i.addClass("uos-current").parents("ul").addClass("uos-blade-active");var o=i.parents("ul").length,s=r*o;n.css("left",s+"px"),$(".uos-blade-more").on("click",function(){$(".uos-blade-container").scrollTop(0),$(this).siblings("ul").addClass(t),s+=-280,n.css("left",s+"px")}),$(".uos-blade-back").on("click",function(){var e=$(this);s-=-280,n.css("left",s+"px").delay(250).queue(function(n){e.parent("ul").removeClass(t),n()})})};$.each(t,function(){if(this.url||(this.url=""),this.item){var e=this.url.replace(location.host,"").replace(/\W+/g,"");n+="<li class='"+e+"'><a href='"+this.url+"'>"+this.item+"</a>",r(this)}}),n+="</ul>",e.append(n),i()};$.ajax({url:dataURL,dataType:"json",success:function(e){var t=e.siteMap;l(t)}})}),$(function(){$(".uos-box-copy").length&&boxHeight()}),$(window).on("resize",throttle(function(e){$(".uos-box-copy").length&&boxHeight()},300)),$(function(){var e=$("#js-clearing-filter"),t=$("#js-clearing-container"),n=function(){e.fastLiveFilter("#js-clearing-list",{callback:function(e){0===e?t.addClass("uos-no-clearing"):t.removeClass("uos-no-clearing")}})},r=function(e){console.log("---------"),console.log(e);var t="<span>"+e.course+"</span>",n="<span class='uos-grade'>"+e.grade+"</span>",r="<span class='uos-apply'><a class='uos-btn' href='"+e.url+"'>Apply</a></span>";return $("<li>"+t+" "+r+" "+n+"</li>")},i=function(){var e=$("<ul></ul>").addClass("uos-clearing-group").attr("id","js-clearing-list");$.getJSON("http://uos.io/data/example-clearing.json",function(t){for(var n=0;n<t.length;n++)e.append(r(t[n]))}),t.prepend(e),setTimeout(function(){n()},100)};e.length>0&&i()}),$(function(){var e=$("#js-course-filter"),t=$("#js-course-list"),n=$(".uos-course-group"),r=t.data("help"),i="<div class='uos-help-message'>"+r+"</div>",o=[],s=function(){for(var r,s=n.length,a=function(){n=$(".uos-course-group"),e.fastLiveFilter(n,{timeout:100,selector:"a",callback:function(r){n.each(function(){$(this).removeAttr("style");var t=$(this).find("dd:visible").length;if(t?$(this).find("dt").removeAttr("style"):$(this).css("display","none"),$(this).hasClass("uos-prime-courses")){var n=$(this),r=n.find("dd:visible").length;e.val().length>3&&3>=r?($(".uos-last-vis").removeClass("uos-last-vis"),$(this).find("dd:visible:last").addClass("uos-last-vis")):$(".uos-prime-courses").css("display","none")}}),0===r?$(".uos-help-message").length||t.append(i):$(".uos-help-message").remove()}})},u=function(e){var n=$("<dl></dl");n.addClass("uos-prime-courses uos-course-group").prepend("<dt>Prime Courses</dt>"),$(e).each(function(){n.append("<dd style='display:none'><a href='"+this.href+"'>"+this.name+"</a></dd>")}),t.prepend(n),a()},c=function(e){var t,n,r,i=[],s="BEng";e.each(function(){r=$(this),t=r.html().trim(),n=r.attr("href"),-1==t.indexOf(s)&&i.push({name:t,href:n})}),i.sort(function(e,t){return e.name.length-t.name.length}),o.push(i[0])};s--;)r=$(n[s]).find("dd a"),1!==r.length&&c(r);o.sort(function(e,t){return t.name.length<e.name.length}),u(o)};s()}),$(function(){var e="uos-endeavour_sidebar-widget",t=e+"-title";$widgets=$("."+e),$widgets.each(function(){var e=$(this);if($title=e.find("."+t).html(),!$title){var n=e.attr("id").replace(/[^a-zA-Z]/g," "),r=$("<h2></h2>");r.addClass(t).html(n),e.prepend(r)}}),active="uos-js-triggered",$trigger=$("."+t),$trigger.on("click",function(){return $this=$(this),$this.hasClass(active)?void $this.removeClass(active).parents("."+e).removeClass(active):void $this.addClass(active).parents("."+e).addClass(active)})}),$(function(){checkLinks()}),$(function(){var e=($("#js-facilities-filter"),$("#js-facilities-container")),t=function(){$("#js-facilities-filter").fastLiveFilter("#js-facilities-list",{callback:function(t){0===t?e.addClass("uos-no-facilities"):e.removeClass("uos-no-facilities")}})};t()});var helpTooltip=function(e){e.on("mouseover touchstart",function(e){e.preventDefault(),$(this).addClass("uos-active")}),e.on("mouseleave touchend",function(e){e.preventDefault(),$(this).removeClass("uos-active")})},$helpTooltips=$(".uos-format-module-semester-title_tooltip");$helpTooltips.length>0&&helpTooltip($helpTooltips);var heroData=[];$("body").on("click",".uos-hero-control, .uos-hero-thumb",function(e){var t=$(this).closest(".uos-hero").attr("id");if($(this).hasClass("uos-hero-thumb")){var n=$(this).data("position");heroData[t].position=n}else $(this).hasClass("uos-hero-control-left")?heroData[t].position--:heroData[t].position++;moveHero(t)}),$(window).load(function(){$(".uos-hero").length&&setupHero()}),$(window).on("resize",throttle(function(e){$(".uos-hero").length&&renderHero()},300)),$(function(){var e=$("body"),t=$("#iterations"),n=$("#iterations-trigger"),r=$(".iterations-close");n.on("click",function(){t.addClass("uos-visible"),e.addClass("uos-no-scroll")}),r.on("click",function(){t.removeClass("uos-visible"),e.removeClass("uos-no-scroll")})}),$(function(){function e(e){var n=e.site;if(u)var r=new Date(e.Date),i=c(r);else{var o,s={startDate:c(new Date(e.Date.StartDate)),endDate:c(new Date(e.Date.EndDate)),startTime:e.Date.StartTime,endTime:e.Date.EndTime},i=c(new Date(e.Date.StartDate));s.endDate&&s.endDate!=s.startDate&&!isNaN(s.endDate)&&(i=i+" ~ "+s.endDate),s.startTime&&(o=s.startTime,s.endTime&&(o=o+" - "+s.endTime),i=o+", "+i)}if(u)var a=e.Headline;else var a=e.Title;var l="",h="";e.PageThumbnail&&(l=e.PageThumbnail.InlineImage?"https://cdn.southampton.ac.uk"+e.PageThumbnail.InlineImage:e.PageThumbnail.MediumImage,e.PageThumbnail.Alt&&(h=e.PageThumbnail.Alt));var d="http://",f=window.location.host,p=".page",g=e.pagePath,m="/",v=d+f+m+n+m+g+p,y="";e.PageThumbnail&&void 0!==(e.PageThumbnail.MediumImage||e.PageThumbnail.InlineImage)&&(y="<a class='uos-box-image' href='"+v+"'><img alt='"+h+"' src='"+l+"'></a>");var _="<div class='uos-grid uos-box-news-feed'><article class='uos-box uos-box-news'>"+y+"<div class='uos-box-copy'><span class='uos-box-copy-excerpt uos-box-copy-meta'>"+i+"</span><a href='"+v+"'><h2 class='uos-box-copy-title uos-shadow-text'>"+a+"</h2></a><a class='uos-btn' href='"+v+"'>Continue Reading</a></div></article></div>";t.append(_)}var t=$("#js-lazy");if(t.length){var n=t.attr("data-url").replace("{","").replace("}",""),r=parseInt(t.attr("data-count")),i=r,o=t.attr("data-type"),s=!1,a=[{directory:"news",contentType:"site/news-release",sort:"-//NewsRelease/Date",set:"NewsRelease"},{directory:"news/events",contentType:"event",sort:"-//Event/Date",set:"Event"},{directory:"news/seminars",contentType:"seminar",sort:"-//Seminar/Date",set:"Seminar"}],u="NewsRelease"==a[o].set,c=function(e){var t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=e.getDate(),r=t[e.getMonth()],i=e.getFullYear(),o=" ";return n+o+r+o+i};$(window).scroll(function(){var t=$(window).scrollTop(),u=$(document).height()-$(window).height()-$(document).height()/5;t>=u&&(s||(s=!0,r+=i,$.ajax({url:n,data:{limit:r,pageDir:a[o].directory,contentType:a[o].contentType,sortBy:a[o].sort},dataType:"xml",success:function(t){var n=(new XMLSerializer).serializeToString(t),r=unescape(n),i=$.xml2json(r);$.each(i,function(t,n){var r=n.Result;if(r){var i=n.Result.Collection.Root.Group.NewsRelease,o=n.Result.Collection.Root.Group.Event,a=n.Result.Collection.Root.Group.Seminar;i?$.each(i,function(t,n){e(n)}):o?$.each(o,function(t,n){e(n)}):a&&$.each(a,function(t,n){e(n)})}s=!1})}})))})}}),$(function(){lightbox()});var initMap=function(){$maps.each(function(){var e=$(this),t={address:e.data("address")||"University Road, Southampton",zoom:parseInt(e.data("zoom"))||16,pin:e.data("pin")||!1},n=e.get(0);e.hasClass("uos-map_full")&&e.width(window.innerWidth).height(window.innerHeight);var r=new google.maps.Geocoder;r.geocode({address:t.address},function(e,r){if(r==google.maps.GeocoderStatus.OK){var i={zoom:t.zoom,center:e[0].geometry.location,mapTypeId:google.maps.MapTypeId.ROADMAP,gestureHandling:"cooperative"},o=new google.maps.Map(n,i);if(t.pin){new google.maps.Marker({map:o,position:e[0].geometry.location})}}})})},map=function(e){$.ajax({type:"GET",url:"https://maps.googleapis.com/maps/api/js?key=AIzaSyB6EpbmcCsEXFRlshdLJcr4mE57UApZR8A&callback=initMap",dataType:"script",async:!0})},$maps=$(".js-map");$maps.length>0&&map($maps),$(function(){var e=($("#js-module-filter"),$("#js-module-container")),t=function(){$("#js-module-filter").fastLiveFilter("#js-module-list",{callback:function(t){0===t?e.addClass("uos-no-modules"):e.removeClass("uos-no-modules")}})};t()}),$(window).load(function(){$(".js-more-menu").length&&moreMenu()}),$(window).on("resize",throttle(function(e){$(".js-more-menu").length&&moreMenu()},300)),$(function(){var e=($("#js-phone-filter"),$("#js-phone-container")),t=function(){$("#js-phone-filter").fastLiveFilter("#js-phone-list",{selector:"h3",callback:function(t){0===t?e.addClass("uos-no-phones"):e.removeClass("uos-no-phones")}})};t()}),$(function(){var e=function(){var e=$("<link>");e.attr({rel:"stylesheet",href:"/assets/site/design/styles/print.main.min.css",type:"text/css",media:"print",id:"printlink"}),$("head").append(e)},t=window.matchMedia("print");window.matchMedia&&t.addListener(function(t){t.matches&&e()}),window.onbeforeprint=e});var $container=$("#publicationsFilter"),cache,$entries,build=function(e,t){$container.html("");for(var n=0;n<e.length;n++){for(var r=$("<h4>"+e[n]+"</h4>").addClass("uos-format-module-title-lead uos-format-module-title-marginless js-trigger").attr("data-target","#js-module-"+e[n]),i=$("<ul></ul>").addClass("uos-publication-list"),o=0;o<t[e[n]].length;o++)i.append(t[e[n]][o]);var s=$("<div></div>").addClass("uos-format-module").attr("id","js-module-"+e[n]).append(r).append(i);$container.prepend(s)}},revert=function(){$container.html(""),$container.prepend(cache)},organize=function(e){var t={},n=[];e.each(function(e){var r=$(this),i=r.data("year");t[i]||(t[i]=[],n.push(i)),t[i].push(r)}),n.sort(),build(n,t)},triggers=function(){var e="uos-active",t=$("#filterByType"),n=$("#filterByYear");t.on("click",function(){t.addClass(e),n.removeClass(e),revert()}),n.on("click",function(){n.addClass(e),t.removeClass(e),organize($entries)})},capture=function(){cache=$container.html(),$entries=$container.find(".uos-pure-list"),triggers()};$(document).ready(function(){capture()}),$(function(){var e="uos-",t="silk",n=t+"-validate",r=t+"-required",i=t+"-clean",o=t+"-dirty",s=t+"-valid",a=t+"-invalid",u=t+"-name",c=t+"-email",l=t+"-soton-email",h=t+"-date",d=t+"-year",f=t+"-postcode",p=t+"-telephone",g=t+"-telephone-uk",m=t+"-staff-name",v=t+"-number",y=t+"-digits",_=t+"-staff-number",w=t+"-course-code",b=t+"-course-code-list",x=t+"-student-app";$("form["+t+"]").each(function(){var e=$(this),t=e.find("input, textarea");t.each(function(){var e=$(this);void 0!==e.attr(r)&&e.siblings("label").append(" *"),"radio"==e.attr("type")||"checkbox"==e.attr("type")?e.parent().addClass(i).after("<div class='uos-silk-helper'></div>"):e.addClass(i).after("<div class='uos-silk-helper'></div>")})});var j={required:{msg:"This field is required."},name:{code:/^([ \u00c0-\u01ffa-zA-Z'\-])+$/,msg:"Please enter a valid name."},email:{code:/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/,msg:"Please enter a valid email address."},sotonEmail:{code:/^[a-zA-Z][\w\.\-\']*[a-zA-Z0-9]@((([\w]+\.)?soton)|southampton)\.ac\.uk$/,msg:"Please enter a valid soton.ac.uk email address."},date:{code:/^(?:(?:0?[1-9]|1\d|2[0-8])\/(?:0?[1-9]|1[0-2]))\/(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:31\/(?:0?[13578]|1[02]))|(?:(?:29|30)\/(?:0?[1,3-9]|1[0-2])))\/(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(29 \/0?2)\/(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/,msg:"Please enter the date in the full format (DD/MM/YYYY)."},year:{code:/^\d{4}$/,msg:"Please enter a valid year (YYYY)."},number:{code:/^[0-9]*\.?[0-9]+$/,msg:"Please enter a valid number â€“ this can include up to one decimal point."},digits:{code:/^[0-9]+$/,msg:"Please enter only numbers."},telephone:{code:/^[\(\) -+\d]{7,24}$/,msg:"Please enter a valid telephone number."},uKtelephone:{code:/^\s*\(?(020[78]?\)? ?[1-9][0-9]{2,3} ?[0-9]{4})|(0[1-8][0-9]{3}\)? ?[1-9][0-9]{2} ?[0-9]{3})\s*$/,msg:"Please enter a valid UK telephone number."},postcode:{code:/^(([gG][iI][rR] {0,}0[aA]{2})|((([a-pr-uwyzA-PR-UWYZ][a-hk-yA-HK-Y]?[0-9][0-9]?)|(([a-pr-uwyzA-PR-UWYZ][0-9][a-hjkstuwA-HJKSTUW])|([a-pr-uwyzA-PR-UWYZ][a-hk-yA-HK-Y][0-9][abehmnprv-yABEHMNPRV-Y]))) {0,}[0-9][abd-hjlnp-uw-zABD-HJLNP-UW-Z]{2}))$/,msg:"Please enter a valid postcode."},text:{code:/^[A-Za-z0-9'\.\-\s\,]/,msg:"Please remove special characters."},staffName:{code:/^[a-z][a-z0-9]{1,7}$/,msg:"Please enter a valid University of Southampton username. E.g. staff1."},staffNumber:{code:/^(1|2)\d{6}$/,msg:"Please enter a University staff number, not including the library digit."},courseCode:{code:/^[A-za-z0-9]{4}$/,msg:"Please enter a valid UCAS code."},courseCodeList:{code:/^[A-za-z0-9]{4}((( |, |,)([A-za-z0-9]{4})+)+)?$/,msg:"Please enter a list of valid UCAS course codes. These can be separated by commas or spaces."},studentApp:{code:/^2\d{7}$/,msg:"Please enter a valid student number."},catchAll:{code:/.*\S.*/,msg:"This field is required."}};$("#silk-submit").on("click",function(e){var n=($(this),$("form["+t+"]")),r=n.find("[silk-required]");if(r.trigger("blur"),0!==n.find(".uos-silk-invalid").length){var i=n.find(".uos-silk-invalid"),o="s";if(1===i.length)var o="";return $("#silk-errors").removeClass("uos-silk-errors-hidden").find(".uos-silk-errors-list").html(""),
$("#silk-errors").find(".uos-silk-errors-lead").html("Please correct the error"+o+" below before continuing."),i.each(function(){var e=$(this);$("#silk-errors .uos-silk-errors-list").append("<li>"+e.siblings("label").html().replace(" *","")+" <em>("+e.siblings(".uos-silk-helper").html()+")</em></li>")}),$("html, body").animate({scrollTop:$("#silk-errors").offset().top},1e3),!1}}),$("["+n+"],["+r+"]").on("keyup blur",function(t){function n(e){e.removeClass(i).addClass(o)}function k(n,i,u){i.hasClass(o)&&(n===!0&&i.hasClass(e+a)||n===!0&&"blur"===t.type?(i.addClass(e+s).removeClass(e+a).siblings(".uos-silk-helper").text(""),void 0!==i.attr(r)&&i.attr("silk-required-count",1)):n===!1&&i.hasClass(e+s)||n===!1&&"blur"==t.type?i.addClass(e+a).removeClass(e+s).siblings(".uos-silk-helper").text(u):"reset"===n&&i.removeClass(e+s).removeClass(e+a).siblings(".uos-silk-helper").text(""))}var A=$(this);n(A),""==A.val()&&void 0!==A.attr(r)?k(!1,A,j.required.msg):void 0!==A.attr(u)?j.name.code.test(A.val())?k(!0,A," "):""!==A.val()?k(!1,A,j.name.msg):k("reset",A):void 0!==A.attr(c)?j.email.code.test(A.val())?k(!0,A," "):""!==A.val()?k(!1,A,j.email.msg):k("reset",A):void 0!==A.attr(l)?j.sotonEmail.code.test(A.val())?k(!0,A," "):""!==A.val()?k(!1,A,j.sotonEmail.msg):k("reset",A):void 0!==A.attr(h)?j.date.code.test(A.val())?k(!0,A," "):""!==A.val()?k(!1,A,j.date.msg):k("reset",A):void 0!==A.attr(d)?j.year.code.test(A.val())?k(!0,A," "):""!==A.val()?k(!1,A,j.year.msg):k("reset",A):void 0!==A.attr(f)?j.postcode.code.test(A.val())?k(!0,A," "):""!==A.val()?k(!1,A,j.postcode.msg):k("reset",A):void 0!==A.attr(p)?j.telephone.code.test(A.val())?k(!0,A," "):""!==A.val()?k(!1,A,j.telephone.msg):k("reset",A):void 0!==A.attr(g)?j.uKtelephone.code.test(A.val())?k(!0,A," "):""!==A.val()?k(!1,A,j.uKtelephone.msg):k("reset",A):void 0!==A.attr(m)?j.staffName.code.test(A.val())?k(!0,A," "):""!==A.val()?k(!1,A,j.staffName.msg):k("reset",A):void 0!==A.attr(v)?j.number.code.test(A.val())?k(!0,A," "):""!==A.val()?k(!1,A,j.number.msg):k("reset",A):void 0!==A.attr(_)?j.staffNumber.code.test(A.val())?k(!0,A," "):""!==A.val()?k(!1,A,j.staffNumber.msg):k("reset",A):void 0!==A.attr(y)?j.digits.code.test(A.val())?k(!0,A," "):""!==A.val()?k(!1,A,j.digits.msg):k("reset",A):void 0!==A.attr(w)?j.courseCode.code.test(A.val())?k(!0,A," "):""!==A.val()?k(!1,A,j.courseCode.msg):k("reset",A):void 0!==A.attr(b)?j.courseCodeList.code.test(A.val())?k(!0,A," "):""!==A.val()?k(!1,A,j.courseCodeList.msg):k("reset",A):void 0!==A.attr(x)?j.studentApp.code.test(A.val())?k(!0,A," "):""!==A.val()?k(!1,A,j.studentApp.msg):k("reset",A):void 0!==A.attr(r)&&(j.catchAll.code.test(A.val())?k(!0,A," "):""!==A.val()?k(!1,A,j.catchAll.msg):k("reset",A))})}),$(function(){$("form[autocomplete=off]").find("input").attr("autocomplete","false")}),$(function(){return $(".uos-kis-widget-wrap").length?kis():void 0}),$(function(){for(var e=function(){var e=$(".uos-acc-vis"),t=$(".uos-acc-drop-item"),n="uos-active",r=function(e){var t=$(e.target);t.hasClass("uos-acc-current")&&(t=t.parent());var r=t.find(".uos-acc-drop");return t.hasClass(n)?(r.removeClass(n),void t.removeClass(n)):(t.addClass(n),void r.addClass(n))},i=function(e){var t=$(e.target),r=t.parent(),i=(r.find(".uos-acc-vis"),$("#"+r.attr("id").replace("-drop",""))),o=r.siblings(".uos-acc-current"),s=t.text();o.text(s),i.val(s),$("#solutionblock_accommodation").find(".uos-active").removeClass(n)};e.on("click",r),t.on("click",i)},t=[e],n=[$("#solutionblock_accommodation")],r=0;r<n.length;r++)n[r].length>0&&t[r]()}),$(function(){if($("#js-steps").length){var e,t,n,r,i=$("#js-steps"),o=$("#js-steps-slider"),s=".uos-steps-control",a=window.location.href,u=a.replace(/\W/g,""),c=u,l=$(window).width(),h=function(e){o.css("transform","translateX(-"+l*e+"px)")},d=function(e){var n=".uos-component-steps-slide";r={dom:i.find(n),total:i.find(n).length,cont:i.find(".uos-tier.uos-steps-controls")};var o=$("<ul class='uos-tier-inner'></ul>"),s=$("<ul class='uos-tab-controls'></ul>"),a=100/(r.total-2)+"%";r.dom.each(function(e){var n="Complete Step "+e;0===e&&(n="Start");var u=$("<div class='uos-tier-inner'><span></span></div>");u.find("span").addClass("uos-steps-control uos-steps-control-next").attr("data-count",e).html(n),t.completed&&t.completed[e]===!0&&u.find("span").addClass("uos-complete").html("Step Completed"),e!==r.total-1&&$(this).find(".uos-component-steps-content").append(u.clone()).prepend(u);var c=$(this).find(".uos-component-steps-heading").html();if(0!==e&&e!==r.total-1){var l=$("<li></li>").html(c).width(a).addClass("uos-steps-control").attr("data-count",e).attr("tabindex","0");t.completed&&t.completed[e]===!0&&l.addClass("uos-complete"),e==t.count&&l.addClass("uos-active"),o.append(l)}e==r.total-1&&(i.find(".uos-component-steps-container").append(s),r.cont.append(o)),h(t.count)}),e()},f=function(){l=$(window).width(),i.width(l),r.dom.width(l)},p={set:function(e,t){Cookies.set(e,JSON.stringify(n),{expires:365,path:"/"})},get:function(e){return Cookies.get(e)}},g=function(r){t=p.get(c)?JSON.parse(p.get(c)):[],t.count||(t.count=e),t.completed||(t.completed=[!1,!1,!1,!1,!1,!1,!1,!1,!1]),n={count:t.count,completed:t.completed},r()},m=function(){g(function(){d(function(){setTimeout(function(){o.addClass("uos-animated")},500)})}),f()};m(),$("body").on("click",s,function(){var t="uos-active";e=$(this).data("count"),$(s).removeClass(t),$(this).hasClass("uos-steps-control-next")&&($(this).hasClass("uos-complete")?($(".uos-steps-control-next[data-count='"+e+"']").html("Complete Step "+e),$("[data-count='"+e+"']").removeClass("uos-complete"),n.completed[e]=!1):($(".uos-steps-control-next[data-count='"+e+"']").html("Step Completed"),$("[data-count='"+e+"']").addClass("uos-complete"),n.completed[e]=!0,e++)),$("[data-count='"+e+"']").addClass(t),h(e);var r=$("html, body");r.on("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove",function(){r.stop()}),setTimeout(function(){r.animate({scrollTop:$("#js-steps-slider").position().top},"slow",function(){r.off("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove")})},500),n.count=e,p.set(c,n)}),$(window).on("resize",throttle(function(e){var t=$(".uos-active").data("count");f(),h(t)},300))}}),!function(){function e(t,n,r){var i=e.resolve(t);if(null==i){r=r||t,n=n||"root";var o=new Error('Failed to require "'+r+'" from "'+n+'"');throw o.path=r,o.parent=n,o.require=!0,o}var s=e.modules[i];if(!s._resolving&&!s.exports){var a={};a.exports={},a.client=a.component=!0,s._resolving=!0,s.call(this,a.exports,e.relative(i),a),delete s._resolving,s.exports=a.exports}return s.exports}e.modules={},e.aliases={},e.resolve=function(t){"/"===t.charAt(0)&&(t=t.slice(1));for(var n=[t,t+".js",t+".json",t+"/index.js",t+"/index.json"],r=0;r<n.length;r++){var t=n[r];if(e.modules.hasOwnProperty(t))return t;if(e.aliases.hasOwnProperty(t))return e.aliases[t]}},e.normalize=function(e,t){var n=[];if("."!=t.charAt(0))return t;e=e.split("/"),t=t.split("/");for(var r=0;r<t.length;++r)".."==t[r]?e.pop():"."!=t[r]&&""!=t[r]&&n.push(t[r]);return e.concat(n).join("/")},e.register=function(t,n){e.modules[t]=n},e.alias=function(t,n){if(!e.modules.hasOwnProperty(t))throw new Error('Failed to alias "'+t+'", it does not exist');e.aliases[n]=t},e.relative=function(t){function n(e,t){for(var n=e.length;n--;)if(e[n]===t)return n;return-1}function r(n){var i=r.resolve(n);return e(i,t,n)}var i=e.normalize(t,"..");return r.resolve=function(r){var o=r.charAt(0);if("/"==o)return r.slice(1);if("."==o)return e.normalize(i,r);var s=t.split("/"),a=n(s,"deps")+1;return a||(a=0),r=s.slice(0,a+1).join("/")+"/deps/"+r},r.exists=function(t){return e.modules.hasOwnProperty(r.resolve(t))},r},e.register("component-classes/index.js",function(e,t,n){function r(e){if(!e)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}var i=t("indexof"),o=/\s+/,s=Object.prototype.toString;n.exports=function(e){return new r(e)},r.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array(),n=i(t,e);return~n||t.push(e),this.el.className=t.join(" "),this},r.prototype.remove=function(e){if("[object RegExp]"==s.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=i(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},r.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},r.prototype.toggle=function(e,t){return this.list?("undefined"!=typeof t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):("undefined"!=typeof t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},r.prototype.array=function(){var e=this.el.className.replace(/^\s+|\s+$/g,""),t=e.split(o);return""===t[0]&&t.shift(),t},r.prototype.has=r.prototype.contains=function(e){return this.list?this.list.contains(e):!!~i(this.array(),e)}}),e.register("component-event/index.js",function(e){var t=window.addEventListener?"addEventListener":"attachEvent",n=window.removeEventListener?"removeEventListener":"detachEvent",r="addEventListener"!==t?"on":"";e.bind=function(e,n,i,o){return e[t](r+n,i,o||!1),i},e.unbind=function(e,t,i,o){return e[n](r+t,i,o||!1),i}}),e.register("component-indexof/index.js",function(e,t,n){n.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}}),e.register("list.pagination.js/index.js",function(e,t,n){var r=t("classes"),i=t("event");n.exports=function(e){e=e||{};var t,n,o=function(){var i,o=n.matchingItems.length,u=n.i,c=n.page,l=Math.ceil(o/c),h=Math.ceil(u/c),d=e.innerWindow||2,f=e.left||e.outerWindow||0,p=e.right||e.outerWindow||0;p=l-p,t.clear();for(var g=1;l>=g;g++){var m=h===g?"uos-active":"";s.number(g,f,p,h,d)?(i=t.add({page:g,dotted:!1})[0],m&&r(i.elm).add(m),a(i.elm,g,c)):s.dotted(g,f,p,h,d,t.size())&&(i=t.add({page:"...",dotted:!0})[0],r(i.elm).add("uos-disabled"))}},s={number:function(e,t,n,r,i){return this.left(e,t)||this.right(e,n)||this.innerWindow(e,r,i)},left:function(e,t){return t>=e},right:function(e,t){return e>t},innerWindow:function(e,t,n){return e>=t-n&&t+n>=e},dotted:function(e,t,n,r,i,o){return this.dottedLeft(e,t,n,r,i)||this.dottedRight(e,t,n,r,i,o)},dottedLeft:function(e,t,n,r,i){return e==t+1&&!this.innerWindow(e,r,i)&&!this.right(e,n)},dottedRight:function(e,n,r,i,o,s){return t.items[s-1].values().dotted?!1:e==r&&!this.innerWindow(e,i,o)&&!this.right(e,r)}},a=function(e,t,r){i.bind(e,"click",function(){n.show((t-1)*r+1,r)})};return{init:function(r){n=r,t=new List(n.listContainer.id,{listClass:e.paginationClass||"pagination",item:"<li><a class='page' href='javascript:function Z(){Z=\"\"}Z()'></a></li>",valueNames:["page","dotted"],searchClass:"pagination-search-that-is-not-supposed-to-exist",sortClass:"pagination-sort-that-is-not-supposed-to-exist"}),n.on("updated",o),o()},name:e.name||"pagination"}}}),e.alias("component-classes/index.js","list.pagination.js/deps/classes/index.js"),e.alias("component-classes/index.js","classes/index.js"),e.alias("component-indexof/index.js","component-classes/deps/indexof/index.js"),e.alias("component-event/index.js","list.pagination.js/deps/event/index.js"),e.alias("component-event/index.js","event/index.js"),e.alias("component-indexof/index.js","list.pagination.js/deps/indexof/index.js"),e.alias("component-indexof/index.js","indexof/index.js"),e.alias("list.pagination.js/index.js","list.pagination.js/index.js"),"object"==typeof exports?module.exports=e("list.pagination.js"):"function"==typeof define&&define.amd?define(function(){return e("list.pagination.js")}):this.ListPagination=e("list.pagination.js")}(),$(function(){var e=50,t=$("#js-tableSort"),n=t.find(".uos-pagination"),r=t.find("tbody tr").length;e>=r&&n.addClass("uos-hidden");var i={valueNames:["js-tableSort-name","js-tableSort-position","js-tableSort-group","js-tableSort-ucas","js-tableSort-duration","js-tableSort-type","js-tableSort-status","js-tableSort-code","js-tableSort-award","js-tableSort-campus","js-tableSort-faculty","js-tableSort-public"],page:e,plugins:[ListPagination({paginationClass:"uos-pagination",outerWindow:0,innerWindow:2})]};new List("js-tableSort",i);$(".uos-filter .uos-btn").on("click",function(){$(this).toggleClass("uos-btn-active"),$(this).siblings().removeClass("uos-btn-active")})}),$(function(){function e(e){var t,n;t=$(e).data("trigger"),n=s.find("[data-target='"+t+"']").removeClass(l).addClass(c),s.children().removeClass(c).addClass(l).attr("tabindex",-1),s.children(u).removeAttr("tabindex"),$(e).addClass(c).attr("tabindex",0),n.addClass(c)}function t(){var t=window.location.hash.substr(1);d=!0,$.expr[":"].filter=$.expr.createPseudo(function(e){return function(t){return $(t).text().toUpperCase().indexOf(e.toUpperCase())>=0}}),n=decodeURIComponent(t.replace(/_/g," ").toLowerCase());var r=document.createElement("textarea");r.innerHTML=n;var o=r.value;i=s.children(".uos-component-tabs-title:filter("+o+")"),i.length<=0&&(i=s.children().first()),e(i)}var n,r,i,o,s=$("#js-component-tabs"),a=$(".uos-component-tabs-title"),u=".uos-component-tabs-content",c="uos-active-tab",l="uos-inactive-tab",h="uos-component-tabs-title-nojs",d=window.location.hash.substr(1);$(a.get().reverse()).each(function(){$(this).after("<h1 class='uos-print-title'>"+$(this).html()+"</h1>"),$(this).prependTo(s)}),s.find(a).removeClass(h),s.find(u).each(function(){$(this).hasClass(c)||$(this).addClass(l)}),d&&t(),a.on("click focus",function(e){r=$(this).html().replace(/ /g,"_").toLowerCase(),window.location.hash=encodeURIComponent(r),e.preventDefault()}),$(window).on("hashchange",function(){t()}),s.keydown(function(e){o=!1,37==e.keyCode?$(":focus").prev(".uos-component-tabs-title").focus():39==e.keyCode&&$(":focus").next(".uos-component-tabs-title").focus()})}),$(function(){var e,t,n=".js-trigger",r="uos-active",i="uos-js-triggered",o="target",s="group",a="uos-no-select";$("body").on("click",n,function(){$trigger=$(this),$trigger.toggleClass(r),$trigger.hasClass(a)||$trigger.addClass(a),e=$(this).data(o),$(this).data(s)&&(t=$(this).data(s),$(t).addClass(i)),$(e).hasClass(i)?$(e).removeClass(i):$(e).addClass(i)})}),$(function(){var e=$(document).height(),t=".uos-top",n="uos-display",r=1e3,i="<span class='uos-top' title='Back to top'><i>&#8679;</i> <small class='uos-sr'>Back to top</small></span>",o=function(){$(document).scrollTop()>r?$(t).addClass(n):$(t).removeClass(n)};o(),e>r&&($("footer.uos-chrome-footer").before(i),$(window).scroll(function(){o()}),$(t).on("click",function(){$("html,body").scrollTop(0)}))}),$(function(){var e=function(){var e=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.nonword("name","code","award"),queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:{url:"/assets/generated-list/courses.json",ttl:36e5}});e.initialize(),$("#searchCourse").typeahead({highlight:!0,classNames:{menu:"uos-course-menu",hint:"uos-course-hint",suggestion:"uos-course-suggestion",highlight:"uos-course-hightlight"}},{source:e.ttAdapter(),display:"value",templates:{suggestion:function(e){return e.my="",e.pagePath.indexOf("/my/")>0&&(e.my="<em class='uos-my'>Malaysia Campus</em>"),"<a href='"+e.pagePath+"'><em>"+e.code+" </em>"+e.name+" <small class='uos-course-type'>"+e.award+"</small>"+e.my+"</a>"}}})};$("#searchCourse").length&&e()});var uosValidation=function(){var e=function(e){e.on("click",function(t){var n=e.closest(".uos-block-form"),r=n.find(".uos-set-single"),i=r.find("input,textarea");i.each(function(){var e=$(this);e.attr("required")&&e.change()}),r.hasClass("uos-set-invalid")&&t.preventDefault()})},t=function(e,t,n){var r="uos-set-valid",i="uos-set-invalid",o="change keyup",s=e.closest(".uos-set-single");s.attr("data-error",t);var a=function(){var t=n.test(e.val());t?(s.addClass(r),s.removeClass(i)):(s.addClass(i),s.removeClass(r))};e.on(o,function(t){switch($parent=e.parents(".uos-set-single"),t.type){case"keyup":($parent.hasClass(r)||$parent.hasClass(i))&&a();break;case"change":a()}})},n=$form.find(".uos-set-single");n.each(function(){var n=$(this).find("input"),r=n.attr("type");switch(r){case"email":t(n,"Please enter a valid email",/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/);break;case"tel":t(n,"Please enter a valid telephone",/^[\(\) -+\d]{7,24}$/);break;case"submit":e(n);break;default:n.attr("required")&&t(n,"Required field",/[a-zA-Z0-9]+/)}})},$form=$(".uos-block-form");$form.length>0&&uosValidation(),$(function(){var e=function(e){e.each(function(){var e=$(this),t=e.attr("id");t.length>16&&(t=t.split("?list=")[0]);var n,r={small:"hqdefault.jpg",large:"maxresdefault.jpg"},i="https://img.youtube.com/vi/"+t+"/",o=function(n){var r=$("<div class='uos-thumb'></div>").css("background-image","url(' "+n+"')"),i=$("<button class='uos-play'></button>").html("&#9658;");e.append(r,i),e.on("click",function(){var n=$("<iframe></iframe>").attr({src:"https://www.youtube.com/embed/"+t+"?autoplay=1&autohide=1&border=0&wmode=opaque&enablejsapi=1",title:e.attr("data-title")}).width(this.style.width).height(this.style.height);e.empty().append(n)})};if(console.log(e.width()),e.width()<600)return n=i+r.small,void o(n);n=i+r.large;var s=new Image;s.src=n,s.onload=function(){this.width<400&&(n=i+r.small),o(n)}})},t="uos-video",n=$("div."+t+",span."+t);n.length&&e(n)});